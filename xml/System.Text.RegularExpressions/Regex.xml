<Type Name="Regex" FullName="System.Text.RegularExpressions.Regex">
  <Metadata><Meta Name="ms.openlocfilehash" Value="8343c9ced2feab91007390d6cfdd6abc852b525f" /><Meta Name="ms.sourcegitcommit" Value="adc8598fd19d91438cacaa8fa7ce613e28c8218e" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="zh-CN" /><Meta Name="ms.lasthandoff" Value="12/11/2018" /><Meta Name="ms.locfileid" Value="53230684" /></Metadata><TypeSignature Language="C#" Value="public class Regex : System.Runtime.Serialization.ISerializable" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi serializable beforefieldinit Regex extends System.Object implements class System.Runtime.Serialization.ISerializable" />
  <TypeSignature Language="DocId" Value="T:System.Text.RegularExpressions.Regex" />
  <TypeSignature Language="VB.NET" Value="Public Class Regex&#xA;Implements ISerializable" />
  <TypeSignature Language="C++ CLI" Value="public ref class Regex : System::Runtime::Serialization::ISerializable" />
  <TypeSignature Language="F#" Value="type Regex = class&#xA;    interface ISerializable" />
  <AssemblyInfo>
    <AssemblyName>System.Text.RegularExpressions</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System</AssemblyName>
    <AssemblyVersion>1.0.5000.0</AssemblyVersion>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.Runtime.Serialization.ISerializable</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute FrameworkAlternate="netframework-1.1;netframework-2.0;netframework-3.0;netframework-3.5;netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0">
      <AttributeName>System.Serializable</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary><span data-ttu-id="5677c-101">表示不可变的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-101">Represents an immutable regular expression.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-102"><xref:System.Text.RegularExpressions.Regex>类表示.NET Framework 正则表达式引擎。</span><span class="sxs-lookup"><span data-stu-id="5677c-102">The <xref:System.Text.RegularExpressions.Regex> class represents the .NET Framework's regular expression engine.</span></span> <span data-ttu-id="5677c-103">它可用于快速分析大量的文本来查找特定的字符模式;若要提取、 编辑、 替换或删除文本子字符串;并将提取的字符串添加到集合以生成报表。</span><span class="sxs-lookup"><span data-stu-id="5677c-103">It can be used to quickly parse large amounts of text to find specific character patterns; to extract, edit, replace, or delete text substrings; and to add the extracted strings to a collection to generate a report.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-104">如果你的主要兴趣是通过确定是否符合特定模式来验证一个字符串，则可以使用<xref:System.Configuration.RegexStringValidator?displayProperty=nameWithType>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-104">If your primary interest is to validate a string by determining whether it conforms to a particular pattern, you can use the <xref:System.Configuration.RegexStringValidator?displayProperty=nameWithType> class.</span></span>  
  
 <span data-ttu-id="5677c-105">若要使用的正则表达式，定义你希望确定文本流中使用的语法中所述的模式[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-105">To use regular expressions, you define the pattern that you want to identify in a text stream by using the syntax documented in [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span> <span data-ttu-id="5677c-106">接下来，您可以根据需要实例化<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-106">Next, you can optionally instantiate a <xref:System.Text.RegularExpressions.Regex> object.</span></span> <span data-ttu-id="5677c-107">最后，调用执行某项操作，例如替换与正则表达式模式匹配的文本或识别的模式匹配的方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-107">Finally, you call a method that performs some operation, such as replacing text that matches the regular expression pattern, or identifying a pattern match.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-108">一些常见的正则表达式模式，请参阅[正则表达式示例](~/docs/standard/base-types/regular-expression-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-108">For some common regular expression patterns, see [Regular Expression Examples](~/docs/standard/base-types/regular-expression-examples.md).</span></span> <span data-ttu-id="5677c-109">也有大量的正则表达式模式，例如在一个联机库[常规 Expressions.info](https://www.regular-expressions.info/examples.html)。</span><span class="sxs-lookup"><span data-stu-id="5677c-109">There are also a number of online libraries of regular expression patterns, such as the one at [Regular-Expressions.info](https://www.regular-expressions.info/examples.html).</span></span>  
  
<a name="remarks"></a> <span data-ttu-id="5677c-110">详细了解使用<xref:System.Text.RegularExpressions.Regex>类，请参阅本主题中的以下部分：</span><span class="sxs-lookup"><span data-stu-id="5677c-110">For more information about using the <xref:System.Text.RegularExpressions.Regex> class, see the following sections in this topic:</span></span>  
  
-   [<span data-ttu-id="5677c-111">正则表达式 vs。字符串方法</span><span class="sxs-lookup"><span data-stu-id="5677c-111">Regex vs. String Methods</span></span>](#regex_vs_string)  
  
-   [<span data-ttu-id="5677c-112">静态端口与实例方法</span><span class="sxs-lookup"><span data-stu-id="5677c-112">Static vs. Instance Methods</span></span>](#static_vs_instance)  
  
-   [<span data-ttu-id="5677c-113">执行正则表达式操作</span><span class="sxs-lookup"><span data-stu-id="5677c-113">Performing Regular Expression Operations</span></span>](#regex_ops)  
  
-   [<span data-ttu-id="5677c-114">定义超时值</span><span class="sxs-lookup"><span data-stu-id="5677c-114">Defining a Time-Out Value</span></span>](#define_timeout)  
  
 <span data-ttu-id="5677c-115">若要详细了解正则表达式语言，请参阅[正则表达式语言 - 快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)，或下载和打印下面的小册子之一：</span><span class="sxs-lookup"><span data-stu-id="5677c-115">For more information about the regular expression language, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md) or download and print one of these brochures:</span></span>  
  
 [<span data-ttu-id="5677c-116">快速参考（Word (.docx) 格式）</span><span class="sxs-lookup"><span data-stu-id="5677c-116">Quick Reference in Word (.docx) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.docx)  
 [<span data-ttu-id="5677c-117">快速参考（PDF (.pdf) 格式）</span><span class="sxs-lookup"><span data-stu-id="5677c-117">Quick Reference in PDF (.pdf) format</span></span>](https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular%20expressions%20quick%20reference.pdf)  
  
<a name="regex_vs_string"></a>   
## <a name="regex-vs-string-methods"></a><span data-ttu-id="5677c-118">正则表达式 vs。字符串方法</span><span class="sxs-lookup"><span data-stu-id="5677c-118">Regex vs. String Methods</span></span>  
 <span data-ttu-id="5677c-119"><xref:System.String?displayProperty=nameWithType>类包含多个可用于执行使用文本模式匹配的搜索和比较方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-119">The <xref:System.String?displayProperty=nameWithType> class includes several search and comparison methods that you can use to perform pattern matching with text.</span></span> <span data-ttu-id="5677c-120">例如， <xref:System.String.Contains%2A?displayProperty=nameWithType>， <xref:System.String.EndsWith%2A?displayProperty=nameWithType>，并<xref:System.String.StartsWith%2A?displayProperty=nameWithType>方法确定字符串实例是否包含指定的子字符串; 并<xref:System.String.IndexOf%2A?displayProperty=nameWithType>， <xref:System.String.IndexOfAny%2A?displayProperty=nameWithType>， <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>，和<xref:System.String.LastIndexOfAny%2A?displayProperty=nameWithType>方法返回的起始一个字符串中指定的子字符串的位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-120">For example, the <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, and <xref:System.String.StartsWith%2A?displayProperty=nameWithType> methods determine whether a string instance contains a specified substring; and the <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.IndexOfAny%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>, and <xref:System.String.LastIndexOfAny%2A?displayProperty=nameWithType> methods return the starting position of a specified substring in a string.</span></span> <span data-ttu-id="5677c-121">使用的方法<xref:System.String?displayProperty=nameWithType>类时要搜索特定字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-121">Use the methods of the <xref:System.String?displayProperty=nameWithType> class when you are searching for a specific string.</span></span> <span data-ttu-id="5677c-122">使用<xref:System.Text.RegularExpressions.Regex>类时要搜索的字符串中的特定模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-122">Use the <xref:System.Text.RegularExpressions.Regex> class when you are searching for a specific pattern in a string.</span></span> <span data-ttu-id="5677c-123">有关详细信息和示例，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-123">For more information and examples, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md).</span></span>  
  
 [<span data-ttu-id="5677c-124">返回到备注</span><span class="sxs-lookup"><span data-stu-id="5677c-124">Back to Remarks</span></span>](#remarks)  
  
<a name="static_vs_instance"></a>   
## <a name="static-vs-instance-methods"></a><span data-ttu-id="5677c-125">静态端口与实例方法</span><span class="sxs-lookup"><span data-stu-id="5677c-125">Static vs. Instance Methods</span></span>  
 <span data-ttu-id="5677c-126">定义正则表达式模式后，可以将其提供给通过两种方式中的正则表达式引擎：</span><span class="sxs-lookup"><span data-stu-id="5677c-126">After you define a regular expression pattern, you can provide it to the regular expression engine in either of two ways:</span></span>  
  
-   <span data-ttu-id="5677c-127">通过实例化<xref:System.Text.RegularExpressions.Regex>对象，表示正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-127">By instantiating a <xref:System.Text.RegularExpressions.Regex> object that represents the regular expression.</span></span> <span data-ttu-id="5677c-128">若要执行此操作，可以传递到正则表达式模式<xref:System.Text.RegularExpressions.Regex.%23ctor%2A>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-128">To do this, you pass the regular expression pattern to a <xref:System.Text.RegularExpressions.Regex.%23ctor%2A> constructor.</span></span> <span data-ttu-id="5677c-129">一个<xref:System.Text.RegularExpressions.Regex>对象是不可变; 当您实例化<xref:System.Text.RegularExpressions.Regex>对象在正则表达式对象的正则表达式不能更改。</span><span class="sxs-lookup"><span data-stu-id="5677c-129">A <xref:System.Text.RegularExpressions.Regex> object is immutable; when you instantiate a <xref:System.Text.RegularExpressions.Regex> object with a regular expression, that object's regular expression cannot be changed.</span></span>  
  
-   <span data-ttu-id="5677c-130">通过提供正则表达式和要搜索的文本`static`(`Shared`在 Visual Basic 中)<xref:System.Text.RegularExpressions.Regex>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-130">By supplying both the regular expression and the text to search to a `static` (`Shared` in Visual Basic) <xref:System.Text.RegularExpressions.Regex> method.</span></span> <span data-ttu-id="5677c-131">这使您可以使用正则表达式而无需显式创建<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-131">This enables you to use a regular expression without explicitly creating a <xref:System.Text.RegularExpressions.Regex> object.</span></span>  
  
 <span data-ttu-id="5677c-132">所有<xref:System.Text.RegularExpressions.Regex>模式标识方法包括这两个静态和实例重载。</span><span class="sxs-lookup"><span data-stu-id="5677c-132">All <xref:System.Text.RegularExpressions.Regex> pattern identification methods include both static and instance overloads.</span></span>  
  
 <span data-ttu-id="5677c-133">正则表达式引擎必须编译特定模式，然后才能使用该模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-133">The regular expression engine must compile a particular pattern before the pattern can be used.</span></span> <span data-ttu-id="5677c-134">因为<xref:System.Text.RegularExpressions.Regex>对象是不可变，这是发生的一次性过程时<xref:System.Text.RegularExpressions.Regex>调用类构造函数或静态方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-134">Because <xref:System.Text.RegularExpressions.Regex> objects are immutable, this is a one-time procedure that occurs when a <xref:System.Text.RegularExpressions.Regex> class constructor or a static method is called.</span></span> <span data-ttu-id="5677c-135">若要消除重复编译单个正则表达式的需求，正则表达式引擎缓存已编译的正则表达式的静态方法调用中使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-135">To eliminate the need to repeatedly compile a single regular expression, the regular expression engine caches the compiled regular expressions used in static method calls.</span></span> <span data-ttu-id="5677c-136">因此，正则表达式模式匹配方法提供可比较的性能，适用于静态和实例方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-136">As a result, regular expression pattern-matching methods offer comparable performance for static and instance methods.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5677c-137">在.NET Framework 版本 1.0 和 1.1 中，所有已编译正则表达式中，是否使用它们在实例或静态方法调用，缓存。</span><span class="sxs-lookup"><span data-stu-id="5677c-137">In the .NET Framework versions 1.0 and 1.1, all compiled regular expressions, whether they were used in instance or static method calls, were cached.</span></span> <span data-ttu-id="5677c-138">从.NET Framework 2.0 开始，缓存仅在静态方法调用中使用正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-138">Starting with the .NET Framework 2.0, only regular expressions used in static method calls are cached.</span></span>  
  
 <span data-ttu-id="5677c-139">但是，缓存产生负面影响以下两种情况下的性能：</span><span class="sxs-lookup"><span data-stu-id="5677c-139">However, caching can adversely affect performance in the following two cases:</span></span>  
  
-   <span data-ttu-id="5677c-140">当您使用正则表达式对大量静态方法调用。</span><span class="sxs-lookup"><span data-stu-id="5677c-140">When you use static method calls with a large number of regular expressions.</span></span> <span data-ttu-id="5677c-141">默认情况下，正则表达式引擎缓存 15 的最近使用过静态正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-141">By default, the regular expression engine caches the 15 most recently used static regular expressions.</span></span> <span data-ttu-id="5677c-142">如果你的应用程序使用 15 个以上的静态正则表达式，则必须重新编译正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-142">If your application uses more than 15 static regular expressions, some regular expressions must be recompiled.</span></span> <span data-ttu-id="5677c-143">若要防止此类重新编译，可以增加<xref:System.Text.RegularExpressions.Regex.CacheSize%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-143">To prevent this recompilation, you can increase the <xref:System.Text.RegularExpressions.Regex.CacheSize%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="5677c-144">当您实例化新<xref:System.Text.RegularExpressions.Regex>具有先前已编译的正则表达式的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-144">When you instantiate new <xref:System.Text.RegularExpressions.Regex> objects with regular expressions that have previously been compiled.</span></span> <span data-ttu-id="5677c-145">例如，以下代码定义文本流中找到重复的单词的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-145">For example, the following code defines a regular expression to locate duplicated words in a text stream.</span></span> <span data-ttu-id="5677c-146">尽管该示例使用单个正则表达式，但它实例化一个新<xref:System.Text.RegularExpressions.Regex>对象来处理每个文本行。</span><span class="sxs-lookup"><span data-stu-id="5677c-146">Although the example uses a single regular expression, it instantiates a new <xref:System.Text.RegularExpressions.Regex> object to process each line of text.</span></span> <span data-ttu-id="5677c-147">这会导致每次迭代循环的重新编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-147">This results in the recompilation of the regular expression with each iteration of the loop.</span></span>  
  
     [!code-csharp[System.Text.RegularExpressions.Class.Caching#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.class.caching/cs/caching1.cs#1)]
     [!code-vb[System.Text.RegularExpressions.Class.Caching#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.class.caching/vb/caching1.vb#1)]  
  
     <span data-ttu-id="5677c-148">若要防止重新编译，您应实例化一个<xref:System.Text.RegularExpressions.Regex>对象都可以访问的所有代码都需要它，如下面的重写示例中所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-148">To prevent recompilation, you should instantiate a single <xref:System.Text.RegularExpressions.Regex> object that is accessible to all code that requires it, as shown in the following rewritten example.</span></span>  
  
     [!code-csharp[System.Text.RegularExpressions.Class.Caching#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.class.caching/cs/caching1.cs#2)]
     [!code-vb[System.Text.RegularExpressions.Class.Caching#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.class.caching/vb/caching1.vb#2)]  
  
 [<span data-ttu-id="5677c-149">返回到备注</span><span class="sxs-lookup"><span data-stu-id="5677c-149">Back to Remarks</span></span>](#remarks)  
  
<a name="regex_ops"></a>   
## <a name="performing-regular-expression-operations"></a><span data-ttu-id="5677c-150">执行正则表达式操作</span><span class="sxs-lookup"><span data-stu-id="5677c-150">Performing Regular Expression Operations</span></span>  
 <span data-ttu-id="5677c-151">你是否决定要实例化<xref:System.Text.RegularExpressions.Regex>对象并调用其方法或调用静态方法，<xref:System.Text.RegularExpressions.Regex>类提供了以下的模式匹配功能：</span><span class="sxs-lookup"><span data-stu-id="5677c-151">Whether you decide to instantiate a <xref:System.Text.RegularExpressions.Regex> object and call its methods or call static methods, the <xref:System.Text.RegularExpressions.Regex> class offers the following pattern-matching functionality:</span></span>  
  
-   <span data-ttu-id="5677c-152">匹配项的验证。</span><span class="sxs-lookup"><span data-stu-id="5677c-152">Validation of a match.</span></span> <span data-ttu-id="5677c-153">在调用<xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法，以确定是否存在匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-153">You call the <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method to determine whether a match is present.</span></span>  
  
-   <span data-ttu-id="5677c-154">检索单个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-154">Retrieval of a single match.</span></span> <span data-ttu-id="5677c-155">在调用<xref:System.Text.RegularExpressions.Regex.Match%2A>方法来检索<xref:System.Text.RegularExpressions.Match>对象，表示一个字符串或部分字符串的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-155">You call the <xref:System.Text.RegularExpressions.Regex.Match%2A> method to retrieve a <xref:System.Text.RegularExpressions.Match> object that represents the first match in a string or in part of a string.</span></span> <span data-ttu-id="5677c-156">可以通过调用来检索后续匹配项<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-156">Subsequent matches can be retrieved by calling the <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method.</span></span>  
  
-   <span data-ttu-id="5677c-157">检索的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-157">Retrieval of all matches.</span></span> <span data-ttu-id="5677c-158">在调用<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法来检索<xref:System.Text.RegularExpressions.MatchCollection?displayProperty=nameWithType>对象，表示找到的字符串的字符串或部分的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-158">You call the <xref:System.Text.RegularExpressions.Regex.Matches%2A> method to retrieve a <xref:System.Text.RegularExpressions.MatchCollection?displayProperty=nameWithType> object that represents all the matches found in a string or in part of a string.</span></span>  
  
-   <span data-ttu-id="5677c-159">替换匹配的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-159">Replacement of matched text.</span></span> <span data-ttu-id="5677c-160">在调用<xref:System.Text.RegularExpressions.Regex.Replace%2A>方法替换匹配的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-160">You call the <xref:System.Text.RegularExpressions.Regex.Replace%2A> method to replace matched text.</span></span> <span data-ttu-id="5677c-161">也可以由正则表达式定义的替换文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-161">The replacement text can also be defined by a regular expression.</span></span> <span data-ttu-id="5677c-162">此外，某些<xref:System.Text.RegularExpressions.Regex.Replace%2A>方法包括<xref:System.Text.RegularExpressions.MatchEvaluator>参数，它允许您以编程方式定义的替换文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-162">In addition, some of the <xref:System.Text.RegularExpressions.Regex.Replace%2A> methods include a <xref:System.Text.RegularExpressions.MatchEvaluator> parameter that enables you to programmatically define the replacement text.</span></span>  
  
-   <span data-ttu-id="5677c-163">创建从输入字符串的部分构成的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-163">Creation of a string array that is formed from parts of an input string.</span></span> <span data-ttu-id="5677c-164">在调用<xref:System.Text.RegularExpressions.Regex.Split%2A>方法拆分输入的字符串与正则表达式定义的位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-164">You call the <xref:System.Text.RegularExpressions.Regex.Split%2A> method to split an input string at positions that are defined by the regular expression.</span></span>  
  
 <span data-ttu-id="5677c-165">其模式匹配方法，除了<xref:System.Text.RegularExpressions.Regex>类包括了一些特殊用途方法：</span><span class="sxs-lookup"><span data-stu-id="5677c-165">In addition to its pattern-matching methods, the <xref:System.Text.RegularExpressions.Regex> class includes several special-purpose methods:</span></span>  
  
-   <span data-ttu-id="5677c-166"><xref:System.Text.RegularExpressions.Regex.Escape%2A>方法可转义可能被解释为正则表达式或输入的字符串中的正则表达式运算符的任何字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-166">The <xref:System.Text.RegularExpressions.Regex.Escape%2A> method escapes any characters that may be interpreted as regular expression operators in a regular expression or input string.</span></span>  
  
-   <span data-ttu-id="5677c-167"><xref:System.Text.RegularExpressions.Regex.Unescape%2A>方法中删除这些转义符。</span><span class="sxs-lookup"><span data-stu-id="5677c-167">The <xref:System.Text.RegularExpressions.Regex.Unescape%2A> method removes these escape characters.</span></span>  
  
-   <span data-ttu-id="5677c-168"><xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A>方法创建包含预定义的正则表达式的程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-168">The <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A> method creates an assembly that contains predefined regular expressions.</span></span> <span data-ttu-id="5677c-169">.NET Framework 包含在这些特殊用途的程序集的示例<xref:System.Web.RegularExpressions?displayProperty=nameWithType>命名空间。</span><span class="sxs-lookup"><span data-stu-id="5677c-169">The .NET Framework contains examples of these special-purpose assemblies in the <xref:System.Web.RegularExpressions?displayProperty=nameWithType> namespace.</span></span>  
  
 [<span data-ttu-id="5677c-170">返回到备注</span><span class="sxs-lookup"><span data-stu-id="5677c-170">Back to Remarks</span></span>](#remarks)  
  
<a name="define_timeout"></a>   
## <a name="defining-a-time-out-value"></a><span data-ttu-id="5677c-171">定义超时值</span><span class="sxs-lookup"><span data-stu-id="5677c-171">Defining a Time-Out Value</span></span>  
 <span data-ttu-id="5677c-172">.NET Framework 支持提供了大量功能和灵活性在模式匹配中的全功能正则表达式语言。</span><span class="sxs-lookup"><span data-stu-id="5677c-172">The .NET Framework supports a full-featured regular expression language that provides substantial power and flexibility in pattern matching.</span></span> <span data-ttu-id="5677c-173">但是，功能和灵活性为代价： 性能不佳的风险。</span><span class="sxs-lookup"><span data-stu-id="5677c-173">However, the power and flexibility come at a cost: the risk of poor performance.</span></span> <span data-ttu-id="5677c-174">执行效果不佳的正则表达式是创建起来极其方便。</span><span class="sxs-lookup"><span data-stu-id="5677c-174">Regular expressions that perform poorly are surprisingly easy to create.</span></span> <span data-ttu-id="5677c-175">在某些情况下，依赖于过度回溯正则表达式操作可以出现停止响应时它们处理与正则表达式模式大致匹配的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-175">In some cases, regular expression operations that rely on excessive backtracking can appear to stop responding when they process text that nearly matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-176">有关.NET Framework 正则表达式引擎的详细信息，请参阅[的正则表达式行为的详细信息](~/docs/standard/base-types/details-of-regular-expression-behavior.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-176">For more information about the .NET Framework regular expression engine, see [Details of Regular Expression Behavior](~/docs/standard/base-types/details-of-regular-expression-behavior.md).</span></span> <span data-ttu-id="5677c-177">有关过度回溯的详细信息，请参阅[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-177">For more information about excessive backtracking, see [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span>  
  
 <span data-ttu-id="5677c-178">从开始[!INCLUDE[net_v45](~/includes/net-v45-md.md)]，可以定义超时间隔的正则表达式匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-178">Starting with the [!INCLUDE[net_v45](~/includes/net-v45-md.md)], you can define a time-out interval for regular expression matches.</span></span> <span data-ttu-id="5677c-179">如果正则表达式引擎不能识别在此时间间隔内的匹配项，匹配的操作将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-179">If the regular expression engine cannot identify a match within this time interval, the matching operation throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-180">在大多数情况下，这可以防止正则表达式引擎尝试匹配与正则表达式模式大致匹配的文本而浪费处理能力。</span><span class="sxs-lookup"><span data-stu-id="5677c-180">In most cases, this prevents the regular expression engine from wasting processing power by trying to match text that nearly matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-181">它还可能表示，但是的超时间隔设置得过低，或当前计算机负载性能，导致整体性能降低。</span><span class="sxs-lookup"><span data-stu-id="5677c-181">It also could indicate, however, that the timeout interval has been set too low, or that the current machine load has caused an overall degradation in performance.</span></span>  
  
 <span data-ttu-id="5677c-182">如何处理异常取决于异常的原因。</span><span class="sxs-lookup"><span data-stu-id="5677c-182">How you handle the exception depends on the cause of the exception.</span></span> <span data-ttu-id="5677c-183">如果因为超时间隔设置得太低，会发生异常，或者由于过多机负载，可以增大超时间隔和重试匹配操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-183">If the exception occurs because the time-out interval is set too low or because of excessive machine load, you can increase the time-out interval and retry the matching operation.</span></span> <span data-ttu-id="5677c-184">如果发生异常的原因的正则表达式依赖于过度回溯，可以假定不存在匹配项，并 （可选） 你可以记录信息将帮助您修改正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-184">If the exception occurs because the regular expression relies on excessive backtracking, you can assume that a match does not exist, and, optionally, you can log information that will help you modify the regular expression pattern.</span></span>  
  
 <span data-ttu-id="5677c-185">可以通过调用设置的超时间隔<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>构造函数实例化正则表达式对象时。</span><span class="sxs-lookup"><span data-stu-id="5677c-185">You can set a time-out interval by calling the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> constructor when you instantiate a regular expression object.</span></span> <span data-ttu-id="5677c-186">对于静态方法，可以设置超时间隔，通过调用具有匹配方法的重载`matchTimeout`参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-186">For static methods, you can set a time-out interval by calling an overload of a matching method that has a `matchTimeout` parameter.</span></span> <span data-ttu-id="5677c-187">如果未显式设置超时值，默认超时值确定，如下所示：</span><span class="sxs-lookup"><span data-stu-id="5677c-187">If you do not set a time-out value explicitly, the default time-out value  is determined as follows:</span></span>  
  
-   <span data-ttu-id="5677c-188">通过使用应用程序范围内超时的值，如果一个存在。</span><span class="sxs-lookup"><span data-stu-id="5677c-188">By using the application-wide time-out value, if one exists.</span></span> <span data-ttu-id="5677c-189">这可以是适用于的应用程序域中任何超时值<xref:System.Text.RegularExpressions.Regex>实例化对象或调用静态方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-189">This can be any time-out value that applies to the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is instantiated or the static method call is made.</span></span> <span data-ttu-id="5677c-190">可以通过调用设置的应用程序范围的超时值<xref:System.AppDomain.SetData%2A?displayProperty=nameWithType>方法将指定的字符串表示形式<xref:System.TimeSpan>"REGEX_DEFAULT_MATCH_TIMEOUT"属性值。</span><span class="sxs-lookup"><span data-stu-id="5677c-190">You can set the application-wide time-out value by calling the <xref:System.AppDomain.SetData%2A?displayProperty=nameWithType> method to assign the string representation of a <xref:System.TimeSpan> value to the "REGEX_DEFAULT_MATCH_TIMEOUT" property.</span></span>  
  
-   <span data-ttu-id="5677c-191">通过使用值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout>，如果已不设置任何应用程序范围的超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-191">By using the value <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout>, if no application-wide time-out value has been set.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5677c-192">我们建议在所有正则表达式模式匹配操作设置超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-192">We recommend that you set a time-out value in all regular expression pattern-matching operations.</span></span> <span data-ttu-id="5677c-193">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-193">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md).</span></span>  
  
 [<span data-ttu-id="5677c-194">返回到备注</span><span class="sxs-lookup"><span data-stu-id="5677c-194">Back to Remarks</span></span>](#remarks)  
  
   
  
## Examples  
 <span data-ttu-id="5677c-195">以下示例使用正则表达式检查重复出现的字符串中的单词。</span><span class="sxs-lookup"><span data-stu-id="5677c-195">The following example uses a regular expression to check for repeated occurrences of words in a string.</span></span> <span data-ttu-id="5677c-196">正则表达式`\b(?<word>\w+)\s+(\k<word>)\b`可以解释为下表中所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-196">The regular expression `\b(?<word>\w+)\s+(\k<word>)\b` can be interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-197">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-197">Pattern</span></span>|<span data-ttu-id="5677c-198">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-198">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-199">开始在字边界匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-199">Start the match at a word boundary.</span></span>|  
|`(?<word>\w+)`|<span data-ttu-id="5677c-200">匹配一个或多个单词字符，最多字边界。</span><span class="sxs-lookup"><span data-stu-id="5677c-200">Match one or more word characters up to a word boundary.</span></span> <span data-ttu-id="5677c-201">命名此捕获的组`word`。</span><span class="sxs-lookup"><span data-stu-id="5677c-201">Name this captured group `word`.</span></span>|  
|`\s+`|<span data-ttu-id="5677c-202">匹配一个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-202">Match one or more white-space characters.</span></span>|  
|`(\k<word>)`|<span data-ttu-id="5677c-203">与名为的捕获的组匹配`word`。</span><span class="sxs-lookup"><span data-stu-id="5677c-203">Match the captured group that is named `word`.</span></span>|  
|`\b`|<span data-ttu-id="5677c-204">与字边界匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-204">Match a word boundary.</span></span>|  
  
 [!code-cpp[Regex_Words#0](~/samples/snippets/cpp/VS_Snippets_CLR/Regex_Words/CPP/words.cpp#0)]
 [!code-csharp[Regex_Words#0](~/samples/snippets/csharp/VS_Snippets_CLR/Regex_Words/CS/words.cs#0)]
 [!code-vb[Regex_Words#0](~/samples/snippets/visualbasic/VS_Snippets_CLR/Regex_Words/VB/words.vb#0)]  
  
 <span data-ttu-id="5677c-205">下面的示例演示如何使用正则表达式来检查是否一个字符串，或者表示货币值，或者具有正确的格式来表示货币值。</span><span class="sxs-lookup"><span data-stu-id="5677c-205">The following example illustrates the use of a regular expression to check whether a string either represents a currency value or has the correct format to represent a currency value.</span></span> <span data-ttu-id="5677c-206">在这种情况下，正则表达式动态生成从<xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A?displayProperty=nameWithType>， <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A>， <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A?displayProperty=nameWithType>， <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A?displayProperty=nameWithType>，和<xref:System.Globalization.NumberFormatInfo.PositiveSign%2A?displayProperty=nameWithType>用户的当前区域性的属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-206">In this case, the regular expression is built dynamically from the <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalSeparator%2A?displayProperty=nameWithType>, <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A>, <xref:System.Globalization.NumberFormatInfo.CurrencySymbol%2A?displayProperty=nameWithType>, <xref:System.Globalization.NumberFormatInfo.NegativeSign%2A?displayProperty=nameWithType>, and <xref:System.Globalization.NumberFormatInfo.PositiveSign%2A?displayProperty=nameWithType> properties for the user's current culture.</span></span> <span data-ttu-id="5677c-207">如果系统的当前区域性为 EN-US，所生成的正则表达式是`^\s*[\+-]?\s?\$?\s?(\d*\.?\d{2}?){1}$`。</span><span class="sxs-lookup"><span data-stu-id="5677c-207">If the system's current culture is en-US, the resulting regular expression is `^\s*[\+-]?\s?\$?\s?(\d*\.?\d{2}?){1}$`.</span></span> <span data-ttu-id="5677c-208">下表中所示，可以解释此正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-208">This regular expression can be interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-209">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-209">Pattern</span></span>|<span data-ttu-id="5677c-210">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-210">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-211">从字符串的开头。</span><span class="sxs-lookup"><span data-stu-id="5677c-211">Start at the beginning of the string.</span></span>|  
|`\s*`|<span data-ttu-id="5677c-212">匹配零个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-212">Match zero or more white-space characters.</span></span>|  
|`[\+-]?`|<span data-ttu-id="5677c-213">匹配正号或负号的零个或一个匹配的项。</span><span class="sxs-lookup"><span data-stu-id="5677c-213">Match zero or one occurrence of either the positive sign or the negative sign.</span></span>|  
|`\s?`|<span data-ttu-id="5677c-214">匹配零个或一个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-214">Match zero or one white-space character.</span></span>|  
|`\$?`|<span data-ttu-id="5677c-215">匹配零个或一个匹配项的美元符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-215">Match zero or one occurrence of the dollar sign.</span></span>|  
|`\s?`|<span data-ttu-id="5677c-216">匹配零个或一个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-216">Match zero or one white-space character.</span></span>|  
|`\d*`|<span data-ttu-id="5677c-217">匹配零个或多个十进制数字。</span><span class="sxs-lookup"><span data-stu-id="5677c-217">Match zero or more decimal digits.</span></span>|  
|`\.?`|<span data-ttu-id="5677c-218">匹配零个或一个小数点符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-218">Match zero or one decimal point symbol.</span></span>|  
|`\d{2}?`|<span data-ttu-id="5677c-219">与两个十进制数字匹配零个或一个时间。</span><span class="sxs-lookup"><span data-stu-id="5677c-219">Match two decimal digits zero or one time.</span></span>|  
|`(\d*\.?\d{2}?){1}`|<span data-ttu-id="5677c-220">匹配模式的至少一次分隔小数点符号的整数和小数位数。</span><span class="sxs-lookup"><span data-stu-id="5677c-220">Match the pattern of integral and fractional digits separated by a decimal point symbol at least one time.</span></span>|  
|`$`|<span data-ttu-id="5677c-221">匹配字符串的末尾。</span><span class="sxs-lookup"><span data-stu-id="5677c-221">Match the end of the string.</span></span>|  
  
 <span data-ttu-id="5677c-222">正则表达式在这种情况下，假定的有效货币字符串不包含组分隔符符号，并且它具有没有小数部分位数或小数位数由当前区域性定义<xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-222">In this case, the regular expression assumes that a valid currency string does not contain group separator symbols, and that it has either no fractional digits or the number of fractional digits defined by the current culture's <xref:System.Globalization.NumberFormatInfo.CurrencyDecimalDigits%2A> property.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Class#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.class/cs/regex_example1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Class#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.class/vb/regex_example1.vb#1)]  
  
 <span data-ttu-id="5677c-223">因为动态生成正则表达式在此示例中，我们不知道在设计时是否当前区域性的货币符号、 十进制符号或正和负号可能会错误地解释为正则正则表达式引擎表达式语言运算符。</span><span class="sxs-lookup"><span data-stu-id="5677c-223">Because the regular expression in this example is built dynamically, we do not know at design time whether the current culture's currency symbol, decimal sign, or positive and negative signs might be misinterpreted by the regular expression engine as regular expression language operators.</span></span> <span data-ttu-id="5677c-224">若要防止出现任何错误解释，该示例将为每个动态生成的字符串<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-224">To prevent any misinterpretation, the example passes each dynamically generated string to the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method.</span></span>  
  
 ]]></format>
    </remarks>
    <threadsafe><span data-ttu-id="5677c-225"><see cref="T:System.Text.RegularExpressions.Regex" />类是不可变 （只读） 和线程安全。</span><span class="sxs-lookup"><span data-stu-id="5677c-225">The <see cref="T:System.Text.RegularExpressions.Regex" /> class is immutable (read-only) and thread safe.</span></span> <span data-ttu-id="5677c-226"><see cref="T:System.Text.RegularExpressions.Regex" /> 可以在任何线程上创建对象，并将其线程之间共享。</span><span class="sxs-lookup"><span data-stu-id="5677c-226"><see cref="T:System.Text.RegularExpressions.Regex" /> objects can be created on any thread and shared between threads.</span></span> <span data-ttu-id="5677c-227">有关详细信息，请参阅[的线程安全](~/docs/standard/base-types/thread-safety-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-227">For more information, see [Thread Safety](~/docs/standard/base-types/thread-safety-in-regular-expressions.md).</span></span></threadsafe>
    <altmember cref="T:System.Configuration.RegexStringValidator" />
    <related type="Article" href="~/docs/standard/base-types/regular-expressions.md"><span data-ttu-id="5677c-228">.NET Framework 正则表达式</span><span class="sxs-lookup"><span data-stu-id="5677c-228">.NET Framework Regular Expressions</span></span></related>
    <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-229">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-229">Regular Expression Language Elements</span></span></related>
    <related type="ExternalDocumentation" href="https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular expressions quick reference.docx"><span data-ttu-id="5677c-230">正则表达式 — 快速参考（以 Word 格式下载）</span><span class="sxs-lookup"><span data-stu-id="5677c-230">Regular Expressions - Quick Reference (download in Word format)</span></span></related>
    <related type="ExternalDocumentation" href="https://download.microsoft.com/download/D/2/4/D240EBF6-A9BA-4E4F-A63F-AEB6DA0B921C/Regular expressions quick reference.pdf"><span data-ttu-id="5677c-231">正则表达式 — 快速参考（以 PDF 格式下载）</span><span class="sxs-lookup"><span data-stu-id="5677c-231">Regular Expressions - Quick Reference (download in PDF format)</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-232">初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-232">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class.</span></span></summary>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-233">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-233">Regular Expression Language Elements</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected Regex ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; Regex();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-234">初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-234">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-235">请注意，此构造函数受保护时仅可由派生的类调用<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-235">Note that this constructor is protected; it can only be called by classes derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public Regex (string pattern);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string pattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (pattern As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; Regex(System::String ^ pattern);" />
      <MemberSignature Language="F#" Value="new System.Text.RegularExpressions.Regex : string -&gt; System.Text.RegularExpressions.Regex" Usage="new System.Text.RegularExpressions.Regex pattern" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="pattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="pattern"><span data-ttu-id="5677c-236">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-236">The regular expression pattern to match.</span></span></param>
        <summary><span data-ttu-id="5677c-237">为指定的正则表达式初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-237">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class for the specified regular expression.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-238">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-238">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-239">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)主题。</span><span class="sxs-lookup"><span data-stu-id="5677c-239">For more information about regular expressions, see the [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md) topics.</span></span>  
  
 <span data-ttu-id="5677c-240">调用<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%29>构造函数是等效于调用<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29>构造函数，值为<xref:System.Text.RegularExpressions.RegexOptions.None>为`options`参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-240">Calling the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%29> constructor is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29> constructor with a value of <xref:System.Text.RegularExpressions.RegexOptions.None> for the `options` argument.</span></span>  
  
 <span data-ttu-id="5677c-241">一个<xref:System.Text.RegularExpressions.Regex>对象是不可变的这意味着，它可以仅用于在创建它时定义的匹配模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-241">A <xref:System.Text.RegularExpressions.Regex> object is immutable, which means that it can be used only for the match pattern you define when you create it.</span></span> <span data-ttu-id="5677c-242">但是，可能没有正在重新编译的情况下使用任意次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-242">However, it can be used any number of times without being recompiled.</span></span>  
  
 <span data-ttu-id="5677c-243">此构造函数实例化正则表达式对象的定义中的任意字母字符区分大小写的匹配项时，尝试`pattern`。</span><span class="sxs-lookup"><span data-stu-id="5677c-243">This constructor instantiates a regular expression object that attempts a case-sensitive match of any alphabetical characters defined in `pattern`.</span></span> <span data-ttu-id="5677c-244">对于不区分大小写的匹配项，请使用<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-244">For a case-insensitive match, use the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> constructor.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-245">下面的示例演示如何使用此构造函数来实例化正则表达式相匹配的单词的开头的字母"a"或"t"。</span><span class="sxs-lookup"><span data-stu-id="5677c-245">The following example illustrates how to use this constructor to instantiate a regular expression that matches any word that begins with the letters "a" or "t".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Constructors#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Constructors/cs/constructors1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Constructors#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Constructors/vb/constructors1.vb#1)]  
  
 <span data-ttu-id="5677c-246">请注意，正则表达式模式不能与匹配单词"The"开头的文本，因为比较是区分大小写的默认值。</span><span class="sxs-lookup"><span data-stu-id="5677c-246">Note that the regular expression pattern cannot match the word "The" at the beginning of the text, because comparisons are case-sensitive by default.</span></span> <span data-ttu-id="5677c-247">不区分大小写比较的示例，请参阅<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-247">For an example of case-insensitive comparison, see the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29> constructor.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-248">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-248">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-249"><paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-249"><paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-250">此构造函数创建<see cref="T:System.Text.RegularExpressions.Regex" />使用在其中创建应用程序域的默认超时值的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-250">This constructor creates a <see cref="T:System.Text.RegularExpressions.Regex" /> object that uses the default time-out value of the application domain in which it is created.</span></span> <span data-ttu-id="5677c-251">如果不为应用程序域中，定义了超时值<see cref="T:System.Text.RegularExpressions.Regex" />对象使用的值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这将阻止该操作超时。用于创建建议的构造函数<see cref="T:System.Text.RegularExpressions.Regex" />对象是<see cref="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-251">If a time-out value has not been defined for the application domain,  the <see cref="T:System.Text.RegularExpressions.Regex" /> object uses the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the operation from timing out. The recommended constructor for creating a <see cref="T:System.Text.RegularExpressions.Regex" /> object is <see cref="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-252">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-252">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected Regex (System.Runtime.Serialization.SerializationInfo info, System.Runtime.Serialization.StreamingContext context);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor(class System.Runtime.Serialization.SerializationInfo info, valuetype System.Runtime.Serialization.StreamingContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.#ctor(System.Runtime.Serialization.SerializationInfo,System.Runtime.Serialization.StreamingContext)" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New (info As SerializationInfo, context As StreamingContext)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; Regex(System::Runtime::Serialization::SerializationInfo ^ info, System::Runtime::Serialization::StreamingContext context);" />
      <MemberSignature Language="F#" Value="new System.Text.RegularExpressions.Regex : System.Runtime.Serialization.SerializationInfo * System.Runtime.Serialization.StreamingContext -&gt; System.Text.RegularExpressions.Regex" Usage="new System.Text.RegularExpressions.Regex (info, context)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="info" Type="System.Runtime.Serialization.SerializationInfo" />
        <Parameter Name="context" Type="System.Runtime.Serialization.StreamingContext" />
      </Parameters>
      <Docs>
        <param name="info"><span data-ttu-id="5677c-253">包含串行化模式和 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-253">The object that contains a serialized pattern and <see cref="T:System.Text.RegularExpressions.RegexOptions" /> information.</span></span></param>
        <param name="context"><span data-ttu-id="5677c-254">此序列化的目标。</span><span class="sxs-lookup"><span data-stu-id="5677c-254">The destination for this serialization.</span></span> <span data-ttu-id="5677c-255">（未使用此参数；指定 <see langword="null" />。）</span><span class="sxs-lookup"><span data-stu-id="5677c-255">(This parameter is not used; specify <see langword="null" />.)</span></span></param>
        <summary><span data-ttu-id="5677c-256">使用序列化数据初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-256">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class by using serialized data.</span></span></summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-257">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-257">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-258"><paramref name="info" /> 包含的模式为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-258">The pattern that <paramref name="info" /> contains is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-259"><paramref name="info" /> 包含无效的 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 标志。</span><span class="sxs-lookup"><span data-stu-id="5677c-259"><paramref name="info" /> contains an invalid <see cref="T:System.Text.RegularExpressions.RegexOptions" /> flag.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public Regex (string pattern, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string pattern, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (pattern As String, options As RegexOptions)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; Regex(System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="new System.Text.RegularExpressions.Regex : string * System.Text.RegularExpressions.RegexOptions -&gt; System.Text.RegularExpressions.Regex" Usage="new System.Text.RegularExpressions.Regex (pattern, options)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters>
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="pattern"><span data-ttu-id="5677c-260">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-260">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-261">修改正则表达式的枚举值的按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-261">A bitwise combination of the enumeration values that modify the regular expression.</span></span></param>
        <summary><span data-ttu-id="5677c-262">使用修改模式的选项为指定的正则表达式初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-262">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class for the specified regular expression, with options that modify the pattern.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-263">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-263">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-264">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)主题。</span><span class="sxs-lookup"><span data-stu-id="5677c-264">For more information about regular expressions, see the [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md) topics.</span></span>  
  
 <span data-ttu-id="5677c-265">一个<xref:System.Text.RegularExpressions.Regex>对象是不可变的这意味着可以使用用于在创建它时定义匹配参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-265">A <xref:System.Text.RegularExpressions.Regex> object is immutable, which means that it can be used only for the match parameters you define when you create it.</span></span> <span data-ttu-id="5677c-266">但是，可能没有正在重新编译的情况下使用任意次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-266">However, it can be used any number of times without being recompiled.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-267">下面的示例演示如何使用此构造函数来实例化正则表达式相匹配的单词的开头的字母"a"或"t"。</span><span class="sxs-lookup"><span data-stu-id="5677c-267">The following example illustrates how to use this constructor to instantiate a regular expression that matches any word that begins with the letters "a" or "t".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Constructors#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Constructors/cs/Constructors2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Constructors#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Constructors/vb/Constructors2.vb#2)]  
  
 <span data-ttu-id="5677c-268">请注意，匹配集合包含的单词"The"，因为文本开头`options`参数定义了不区分大小写的比较。</span><span class="sxs-lookup"><span data-stu-id="5677c-268">Note that the match collection includes the word "The" that begins the text because the `options` parameter has defined case-insensitive comparisons.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-269">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-269">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-270"><paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-270"><paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-271"><paramref name="options" /> 包含无效标志。</span><span class="sxs-lookup"><span data-stu-id="5677c-271"><paramref name="options" /> contains an invalid flag.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-272">此构造函数创建<see cref="T:System.Text.RegularExpressions.Regex" />使用在其中创建应用程序域的默认超时值的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-272">This constructor creates a <see cref="T:System.Text.RegularExpressions.Regex" /> object that uses the default time-out value of the application domain in which it is created.</span></span> <span data-ttu-id="5677c-273">如果不为应用程序域中，定义了超时值<see cref="T:System.Text.RegularExpressions.Regex" />对象使用的值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这将阻止该操作超时。用于创建建议的构造函数<see cref="T:System.Text.RegularExpressions.Regex" />对象是<see cref="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-273">If a time-out value has not been defined for the application domain, the <see cref="T:System.Text.RegularExpressions.Regex" /> object uses the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the operation from timing out. The recommended constructor for creating a <see cref="T:System.Text.RegularExpressions.Regex" /> object is <see cref="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-274">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-274">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public Regex (string pattern, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string pattern, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.#ctor(System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (pattern As String, options As RegexOptions, matchTimeout As TimeSpan)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; Regex(System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="new System.Text.RegularExpressions.Regex : string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; System.Text.RegularExpressions.Regex" Usage="new System.Text.RegularExpressions.Regex (pattern, options, matchTimeout)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="pattern"><span data-ttu-id="5677c-275">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-275">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-276">修改正则表达式的枚举值的按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-276">A bitwise combination of the enumeration values that modify the regular expression.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-277">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-277">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-278">使用修改模式的选项和指定在超时前多久模式匹配方法应进行匹配尝试的值为指定正则表达式初始化 <see cref="T:System.Text.RegularExpressions.Regex" /> 类的新实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-278">Initializes a new instance of the <see cref="T:System.Text.RegularExpressions.Regex" /> class for the specified regular expression, with options that modify the pattern and a value that specifies how long a pattern matching method should attempt a match before it times out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-279">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-279">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-280">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)主题。</span><span class="sxs-lookup"><span data-stu-id="5677c-280">For more information about regular expressions, see the [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md) topics.</span></span>  
  
 <span data-ttu-id="5677c-281">一个<xref:System.Text.RegularExpressions.Regex>对象是不可变的这意味着可以使用仅为创建时定义的匹配模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-281">A <xref:System.Text.RegularExpressions.Regex> object is immutable, which means that it can be used only for the match pattern that you define when you create it.</span></span> <span data-ttu-id="5677c-282">但是，可能没有正在重新编译的情况下使用任意次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-282">However, it can be used any number of times without being recompiled.</span></span>  
  
 <span data-ttu-id="5677c-283">`matchTimeout`参数指定多长时间模式匹配方法应尝试超时之前找到匹配项。如果在该时间间隔内不找到任何匹配项，模式匹配方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-283">The `matchTimeout` parameter specifies how long a pattern-matching method should try to find a match before it times out. If no match is found in that time interval, the pattern-matching method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-284">`matchTimeout` 重写任何定义的应用程序域中的默认超时值<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-284">`matchTimeout` overrides any default time-out value defined for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-285">观察到的实例模式匹配方法`matchTimeout`超时间隔包括以下：</span><span class="sxs-lookup"><span data-stu-id="5677c-285">The instance pattern-matching methods that observe the `matchTimeout` time-out interval include the following:</span></span>  
  
-   <xref:System.Text.RegularExpressions.Regex.IsMatch%2A>  
  
-   <xref:System.Text.RegularExpressions.Regex.Match%2A>  
  
-   <xref:System.Text.RegularExpressions.Regex.Matches%2A>  
  
-   <xref:System.Text.RegularExpressions.Regex.Replace%2A>  
  
-   <xref:System.Text.RegularExpressions.Regex.Split%2A>  
  
-   <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>  
  
 <span data-ttu-id="5677c-286">将设置的超时间隔可阻止依赖于过度回溯出现停止响应时它们处理输入的正则表达式，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-286">Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-287">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-287">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-288">若要设置合理的超时间隔，请考虑以下因素：</span><span class="sxs-lookup"><span data-stu-id="5677c-288">To set a reasonable time-out interval, consider the following factors:</span></span>  
  
-   <span data-ttu-id="5677c-289">长度和复杂性的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-289">The length and complexity of the regular expression pattern.</span></span> <span data-ttu-id="5677c-290">长而复杂的正则表达式需要比更简短和简单的更多的时间。</span><span class="sxs-lookup"><span data-stu-id="5677c-290">Longer and more complex regular expressions require more time than shorter and simpler ones.</span></span>  
  
-   <span data-ttu-id="5677c-291">预期的机负载。</span><span class="sxs-lookup"><span data-stu-id="5677c-291">The expected machine load.</span></span> <span data-ttu-id="5677c-292">处理将更多的时间会有 CPU 和内存使用率高的系统上。</span><span class="sxs-lookup"><span data-stu-id="5677c-292">Processing takes more time on systems that have high CPU and memory utilization.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-293">下面的示例调用<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>构造函数实例化<xref:System.Text.RegularExpressions.Regex>一秒的超时值的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-293">The following example calls the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> constructor to instantiate a <xref:System.Text.RegularExpressions.Regex> object with a time-out value of one second.</span></span> <span data-ttu-id="5677c-294">正则表达式模式 `(a+)+$`（与行尾的一个或多个“a”字符的一个或多个序列匹配）受过度回溯的约束。</span><span class="sxs-lookup"><span data-stu-id="5677c-294">The regular expression pattern `(a+)+$`, which matches one or more sequences of one or more "a" characters at the end of a line, is subject to excessive backtracking.</span></span> <span data-ttu-id="5677c-295">如果<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>是引发，该示例会增大到三秒的最大值的超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-295">If a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> is thrown, the example increases the time-out value up to the maximum value of three seconds.</span></span> <span data-ttu-id="5677c-296">否则，它放弃尝试与模式匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-296">Otherwise, it abandons the attempt to match the pattern.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.ctor#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ctor/cs/ctor1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.ctor#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ctor/vb/ctor1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-297">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-297">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-298"><paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-298"><paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-299"><paramref name="options" /> 不是有效的 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值。</span><span class="sxs-lookup"><span data-stu-id="5677c-299"><paramref name="options" /> is not a valid <see cref="T:System.Text.RegularExpressions.RegexOptions" /> value.</span></span>  
  
<span data-ttu-id="5677c-300">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-300">-or-</span></span> 
 <span data-ttu-id="5677c-301"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-301"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-302">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-302">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-303">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-303">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-304">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-304">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-305">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-305">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-306">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-306">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-307">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-307">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-308">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-308">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <related type="Article" href="https://msdn.microsoft.com/library/34df1152-0b22-4a1c-a76c-3c28c47b70d8"><span data-ttu-id="5677c-309">回溯</span><span class="sxs-lookup"><span data-stu-id="5677c-309">Backtracking</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-310">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-310">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CacheSize">
      <MemberSignature Language="C#" Value="public static int CacheSize { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property int32 CacheSize" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.CacheSize" />
      <MemberSignature Language="VB.NET" Value="Public Shared Property CacheSize As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static property int CacheSize { int get(); void set(int value); };" />
      <MemberSignature Language="F#" Value="member this.CacheSize : int with get, set" Usage="System.Text.RegularExpressions.Regex.CacheSize" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-311">获取或设置已编译的正则表达式的当前静态缓存中的最大项数。</span><span class="sxs-lookup"><span data-stu-id="5677c-311">Gets or sets the maximum number of entries in the current static cache of compiled regular expressions.</span></span></summary>
        <value><span data-ttu-id="5677c-312">静态缓存中的最大项数。</span><span class="sxs-lookup"><span data-stu-id="5677c-312">The maximum number of entries in the static cache.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-313"><xref:System.Text.RegularExpressions.Regex>类维护的静态方法调用中使用的已编译正则表达式的内部缓存。</span><span class="sxs-lookup"><span data-stu-id="5677c-313">The <xref:System.Text.RegularExpressions.Regex> class maintains an internal cache of compiled regular expressions used in static method calls.</span></span> <span data-ttu-id="5677c-314">如果在设置操作中指定的值小于当前缓存大小，直到缓存大小是否等于指定的值会丢弃缓存项。</span><span class="sxs-lookup"><span data-stu-id="5677c-314">If the value specified in a set operation is less than the current cache size, cache entries are discarded until the cache size is equal to the specified value.</span></span>  
  
 <span data-ttu-id="5677c-315">默认情况下，缓存包含 15 个已编译的静态正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-315">By default, the cache holds 15 compiled static regular expressions.</span></span> <span data-ttu-id="5677c-316">你的应用程序通常不会修改缓存的大小。</span><span class="sxs-lookup"><span data-stu-id="5677c-316">Your application typically will not have to modify the size of the cache.</span></span> <span data-ttu-id="5677c-317">使用<xref:System.Text.RegularExpressions.Regex.CacheSize%2A>属性仅当你想要关闭缓存，或当你具有较大的缓存。</span><span class="sxs-lookup"><span data-stu-id="5677c-317">Use the <xref:System.Text.RegularExpressions.Regex.CacheSize%2A> property only when you want to turn off caching or when you have an unusually large cache.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-318">集运算中的值小于零。</span><span class="sxs-lookup"><span data-stu-id="5677c-318">The value in a set operation is less than zero.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-319">在之前的.NET Framework 中[!INCLUDE[net_v20SP1_short](~/includes/net-v20sp1-short-md.md)]、 正则表达式使用在这两个静态和实例方法调用缓存。</span><span class="sxs-lookup"><span data-stu-id="5677c-319">In the .NET Framework prior to the [!INCLUDE[net_v20SP1_short](~/includes/net-v20sp1-short-md.md)], regular expressions used in both static and instance method calls were cached.</span></span> <span data-ttu-id="5677c-320">从[!INCLUDE[net_v20SP1_short](~/includes/net-v20sp1-short-md.md)]、 仅正则表达式的静态方法调用中使用的缓存。</span><span class="sxs-lookup"><span data-stu-id="5677c-320">Beginning with the [!INCLUDE[net_v20SP1_short](~/includes/net-v20sp1-short-md.md)], only regular expressions used in static method calls are cached.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="capnames">
      <MemberSignature Language="C#" Value="protected internal System.Collections.Hashtable capnames;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly class System.Collections.Hashtable capnames" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.capnames" />
      <MemberSignature Language="VB.NET" Value="Protected Friend capnames As Hashtable " />
      <MemberSignature Language="C++ CLI" Value="protected public: System::Collections::Hashtable ^ capnames;" />
      <MemberSignature Language="F#" Value="val mutable capnames : System.Collections.Hashtable" Usage="System.Text.RegularExpressions.Regex.capnames" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Hashtable</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-321">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-321">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="CapNames">
      <MemberSignature Language="C#" Value="protected System.Collections.IDictionary CapNames { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Collections.IDictionary CapNames" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.CapNames" />
      <MemberSignature Language="VB.NET" Value="Protected Property CapNames As IDictionary" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Collections::IDictionary ^ CapNames { System::Collections::IDictionary ^ get(); void set(System::Collections::IDictionary ^ value); };" />
      <MemberSignature Language="F#" Value="member this.CapNames : System.Collections.IDictionary with get, set" Usage="System.Text.RegularExpressions.Regex.CapNames" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netcore-2.0;netcore-2.1;netframework-4.7.1;netframework-4.7.2;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;netframework-4.8;netcore-2.2">
          <AttributeName>System.CLSCompliant(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netstandard-2.0">
          <AttributeName>System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-322">获取或设置将命名捕获组映射到其索引值的字典。</span><span class="sxs-lookup"><span data-stu-id="5677c-322">Gets or sets a dictionary that maps named capturing groups to their index values.</span></span></summary>
        <value><span data-ttu-id="5677c-323">将命名捕获组映射到其索引值的字典。</span><span class="sxs-lookup"><span data-stu-id="5677c-323">A dictionary that maps named capturing groups to their index values.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-324">请注意，此属性受保护;只能从派生自的类访问<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-324">Note that this property is protected; it can only be accessed from a class derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
 <span data-ttu-id="5677c-325">设置操作尝试将分配给属性的值转换<xref:System.Collections.Hashtable>对象; 如果此转换失败，则会调用<xref:System.Collections.Hashtable.%23ctor%28System.Collections.IDictionary%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-325">A set operation attempts to convert the value assigned to the property to a <xref:System.Collections.Hashtable> object; if this conversion fails, it calls the <xref:System.Collections.Hashtable.%23ctor%28System.Collections.IDictionary%29?displayProperty=nameWithType> constructor.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-326">向设置操作中的 <see cref="P:System.Text.RegularExpressions.Regex.CapNames" /> 属性分配的值是 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-326">The value assigned to the <see cref="P:System.Text.RegularExpressions.Regex.CapNames" /> property in a set operation is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="caps">
      <MemberSignature Language="C#" Value="protected internal System.Collections.Hashtable caps;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly class System.Collections.Hashtable caps" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.caps" />
      <MemberSignature Language="VB.NET" Value="Protected Friend caps As Hashtable " />
      <MemberSignature Language="C++ CLI" Value="protected public: System::Collections::Hashtable ^ caps;" />
      <MemberSignature Language="F#" Value="val mutable caps : System.Collections.Hashtable" Usage="System.Text.RegularExpressions.Regex.caps" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Hashtable</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-327">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-327">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Caps">
      <MemberSignature Language="C#" Value="protected System.Collections.IDictionary Caps { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Collections.IDictionary Caps" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.Caps" />
      <MemberSignature Language="VB.NET" Value="Protected Property Caps As IDictionary" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::Collections::IDictionary ^ Caps { System::Collections::IDictionary ^ get(); void set(System::Collections::IDictionary ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Caps : System.Collections.IDictionary with get, set" Usage="System.Text.RegularExpressions.Regex.Caps" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netcore-2.0;netcore-2.1;netframework-4.7.1;netframework-4.7.2;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;netframework-4.8;netcore-2.2">
          <AttributeName>System.CLSCompliant(false)</AttributeName>
        </Attribute>
        <Attribute FrameworkAlternate="netstandard-2.0">
          <AttributeName>System.ComponentModel.EditorBrowsable(System.ComponentModel.EditorBrowsableState.Never)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-328">获取或设置将编号捕获组映射到其索引值的字典。</span><span class="sxs-lookup"><span data-stu-id="5677c-328">Gets or sets a dictionary that maps numbered capturing groups to their index values.</span></span></summary>
        <value><span data-ttu-id="5677c-329">将编号捕获组映射到其索引值的字典。</span><span class="sxs-lookup"><span data-stu-id="5677c-329">A dictionary that maps numbered capturing groups to their index values.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-330">请注意，此属性受保护;只能从派生自的类访问<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-330">Note that this property is protected; it can only be accessed from a class derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
 <span data-ttu-id="5677c-331">设置操作尝试将分配给属性的值转换<xref:System.Collections.Hashtable>对象; 如果此转换失败，则会调用<xref:System.Collections.Hashtable.%23ctor%28System.Collections.IDictionary%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-331">A set operation attempts to convert the value assigned to the property to a <xref:System.Collections.Hashtable> object; if this conversion fails, it calls the <xref:System.Collections.Hashtable.%23ctor%28System.Collections.IDictionary%29?displayProperty=nameWithType> constructor.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-332">向设置操作中的 <see cref="P:System.Text.RegularExpressions.Regex.Caps" /> 属性分配的值是 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-332">The value assigned to the <see cref="P:System.Text.RegularExpressions.Regex.Caps" /> property in a set operation is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="capsize">
      <MemberSignature Language="C#" Value="protected internal int capsize;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly int32 capsize" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.capsize" />
      <MemberSignature Language="VB.NET" Value="Protected Friend capsize As Integer " />
      <MemberSignature Language="C++ CLI" Value="protected public: int capsize;" />
      <MemberSignature Language="F#" Value="val mutable capsize : int" Usage="System.Text.RegularExpressions.Regex.capsize" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-333">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-333">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="capslist">
      <MemberSignature Language="C#" Value="protected internal string[] capslist;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly string[] capslist" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.capslist" />
      <MemberSignature Language="VB.NET" Value="Protected Friend capslist As String() " />
      <MemberSignature Language="C++ CLI" Value="protected public: cli::array &lt;System::String ^&gt; ^ capslist;" />
      <MemberSignature Language="F#" Value="val mutable capslist : string[]" Usage="System.Text.RegularExpressions.Regex.capslist" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-334">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-334">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="CompileToAssembly">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-335">编译正则表达式，并将其保存到单个程序集的磁盘中。</span><span class="sxs-lookup"><span data-stu-id="5677c-335">Compiles regular expressions and saves them to disk in a single assembly.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  

<span data-ttu-id="5677c-336">在.NET Core 上调用`Regex.CompileToAssembly`方法引发<xref:System.PlatformNotSupportedException>; 不支持写出程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-336">On .NET Core, calls to the `Regex.CompileToAssembly` method throw a <xref:System.PlatformNotSupportedException>; writing out an assembly is not supported.</span></span>
  
       ]]></format>
        </remarks>
      </Docs>
    </MemberGroup>
    <Member MemberName="CompileToAssembly">
      <MemberSignature Language="C#" Value="public static void CompileToAssembly (System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, System.Reflection.AssemblyName assemblyname);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CompileToAssembly(class System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, class System.Reflection.AssemblyName assemblyname) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CompileToAssembly(cli::array &lt;System::Text::RegularExpressions::RegexCompilationInfo ^&gt; ^ regexinfos, System::Reflection::AssemblyName ^ assemblyname);" />
      <MemberSignature Language="F#" Value="static member CompileToAssembly : System.Text.RegularExpressions.RegexCompilationInfo[] * System.Reflection.AssemblyName -&gt; unit" Usage="System.Text.RegularExpressions.Regex.CompileToAssembly (regexinfos, assemblyname)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="regexinfos" Type="System.Text.RegularExpressions.RegexCompilationInfo[]" />
        <Parameter Name="assemblyname" Type="System.Reflection.AssemblyName" />
      </Parameters>
      <Docs>
        <param name="regexinfos"><span data-ttu-id="5677c-337">描述要编译的正则表达式的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-337">An array that describes the regular expressions to compile.</span></span></param>
        <param name="assemblyname"><span data-ttu-id="5677c-338">程序集的文件名。</span><span class="sxs-lookup"><span data-stu-id="5677c-338">The file name of the assembly.</span></span></param>
        <summary><span data-ttu-id="5677c-339">将一个或多个指定的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象编译为命名程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-339">Compiles one or more specified <see cref="T:System.Text.RegularExpressions.Regex" /> objects to a named assembly.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-340"><xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%29>方法中定义的每个正则表达式中生成.NET Framework 程序集`regexinfos`由一个类表示数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-340">The <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%29> method generates a .NET Framework assembly in which each regular expression defined in the `regexinfos` array is represented by a class.</span></span> <span data-ttu-id="5677c-341">通常情况下，<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%29>从单独的应用程序生成的已编译的正则表达式的程序集调用方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-341">Typically, the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%29> method is called from a separate application that generates an assembly of compiled regular expressions.</span></span> <span data-ttu-id="5677c-342">包含在程序集中的每个正则表达式具有以下特征：</span><span class="sxs-lookup"><span data-stu-id="5677c-342">Each regular expression included in the assembly has the following characteristics:</span></span>  
  
-   <span data-ttu-id="5677c-343">派生自<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-343">It is derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
-   <span data-ttu-id="5677c-344">它分配由定义的完全限定的名称`fullnamespace`并`name`其对应的参数<xref:System.Text.RegularExpressions.RegexCompilationInfo>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-344">It is assigned the fully qualified name that is defined by the `fullnamespace` and `name` parameters of its corresponding <xref:System.Text.RegularExpressions.RegexCompilationInfo> object.</span></span>  
  
-   <span data-ttu-id="5677c-345">它有一个默认的 （或无参数） 构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-345">It has a default (or parameterless) constructor.</span></span>  
  
 <span data-ttu-id="5677c-346">通常，程序集或应用程序，它独立于创建该程序集的代码中找到实例化并使用已编译的正则表达式的代码。</span><span class="sxs-lookup"><span data-stu-id="5677c-346">Ordinarily, the code that instantiates and uses the compiled regular expression is found in an assembly or application that is separate from the code that creates the assembly.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-347">以下示例创建名为 RegexLib.dll 程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-347">The following example creates an assembly named RegexLib.dll.</span></span> <span data-ttu-id="5677c-348">程序集包括两个已编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-348">The assembly includes two compiled regular expressions.</span></span> <span data-ttu-id="5677c-349">第一种`Utilities.RegularExpressions.DuplicatedString`，匹配两个完全相同的连续单词。</span><span class="sxs-lookup"><span data-stu-id="5677c-349">The first, `Utilities.RegularExpressions.DuplicatedString`, matches two identical contiguous words.</span></span> <span data-ttu-id="5677c-350">第二个， `Utilities.RegularExpressions.EmailAddress`，检查字符串是否具有正确的格式为电子邮件地址。</span><span class="sxs-lookup"><span data-stu-id="5677c-350">The second, `Utilities.RegularExpressions.EmailAddress`, checks whether a string has the correct format to be an email address.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.CompileToAssembly#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/cs/Compile1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.CompileToAssembly#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/vb/Compile1.vb#1)]  
  
 <span data-ttu-id="5677c-351">然后，检查字符串的重复单词的正则表达式是实例化，并使用下面的示例。</span><span class="sxs-lookup"><span data-stu-id="5677c-351">The regular expression that checks a string for duplicate words is then instantiated and used by the following example.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.CompileToAssembly#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/cs/Compile2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.CompileToAssembly#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/vb/Compile2.vb#2)]  
  
 <span data-ttu-id="5677c-352">此第二个示例成功编译需要对 RegexLib.dll （由第一个示例创建程序集） 的引用添加到项目。</span><span class="sxs-lookup"><span data-stu-id="5677c-352">Successful compilation of this second example requires a reference to RegexLib.dll (the assembly created by the first example) to be added to the project.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-353"><paramref name="assemblyname" /> 参数的 <see cref="P:System.Reflection.AssemblyName.Name" /> 属性值是一个空字符串或 null。</span><span class="sxs-lookup"><span data-stu-id="5677c-353">The value of the <paramref name="assemblyname" /> parameter's <see cref="P:System.Reflection.AssemblyName.Name" /> property is an empty or null string.</span></span>  
  
<span data-ttu-id="5677c-354">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-354">-or-</span></span> 
<span data-ttu-id="5677c-355"><paramref name="regexinfos" /> 中的一个或多个对象的正则表达式模式包含无效语法。</span><span class="sxs-lookup"><span data-stu-id="5677c-355">The regular expression pattern of one or more objects in <paramref name="regexinfos" /> contains invalid syntax.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-356"><paramref name="assemblyname" /> 或 <paramref name="regexinfos" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-356"><paramref name="assemblyname" /> or <paramref name="regexinfos" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="5677c-357">仅限 .NET Core：不支持创建已编译的正则表达式的程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-357">.NET Core only: Creating an assembly of compiled regular expressions is not supported.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-358">如果你正在开发的系统上[!INCLUDE[net_v45](~/includes/net-v45-md.md)]或安装其单点发行版，面向[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]，并使用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />方法创建的程序集包含已编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-358">If you are developing on a system that has [!INCLUDE[net_v45](~/includes/net-v45-md.md)] or its point releases installed, you target [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)], and you use the <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> method to create an assembly that contains compiled regular expressions.</span></span> <span data-ttu-id="5677c-359">尝试使用正则表达式之一在于，在系统上的程序集具有[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-359">Trying to use one of the regular expressions in that assembly on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] throws an exception.</span></span> <span data-ttu-id="5677c-360">若要解决此问题，可执行下列操作之一：</span><span class="sxs-lookup"><span data-stu-id="5677c-360">To work around this problem, you can do either of the following:</span></span> 
<span data-ttu-id="5677c-361">-生成包含已编译的正则表达式的系统上的程序集[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]而不是安装更高版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-361">-   Build the assembly that contains the compiled regular expressions on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] instead of later versions installed.</span></span>  
  
<span data-ttu-id="5677c-362">-而不是调用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />和从程序集中检索已编译的正则表达式，使用静态或实例<see cref="T:System.Text.RegularExpressions.Regex" />方法使用<see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" />选项实例化时<see cref="T:System.Text.RegularExpressions.Regex" />对象或调用正则表达式模式匹配方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-362">-   Instead of calling <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> and retrieving the compiled regular expression from an assembly, use either static or instance <see cref="T:System.Text.RegularExpressions.Regex" /> methods with the <see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" /> option when you instantiate a <see cref="T:System.Text.RegularExpressions.Regex" /> object or call a regular expression pattern matching method.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/compilation-and-reuse-in-regular-expressions.md"><span data-ttu-id="5677c-363">编译和重复使用</span><span class="sxs-lookup"><span data-stu-id="5677c-363">Compilation and Reuse</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CompileToAssembly">
      <MemberSignature Language="C#" Value="public static void CompileToAssembly (System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, System.Reflection.AssemblyName assemblyname, System.Reflection.Emit.CustomAttributeBuilder[] attributes);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CompileToAssembly(class System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, class System.Reflection.AssemblyName assemblyname, class System.Reflection.Emit.CustomAttributeBuilder[] attributes) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName,System.Reflection.Emit.CustomAttributeBuilder[])" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CompileToAssembly(cli::array &lt;System::Text::RegularExpressions::RegexCompilationInfo ^&gt; ^ regexinfos, System::Reflection::AssemblyName ^ assemblyname, cli::array &lt;System::Reflection::Emit::CustomAttributeBuilder ^&gt; ^ attributes);" />
      <MemberSignature Language="F#" Value="static member CompileToAssembly : System.Text.RegularExpressions.RegexCompilationInfo[] * System.Reflection.AssemblyName * System.Reflection.Emit.CustomAttributeBuilder[] -&gt; unit" Usage="System.Text.RegularExpressions.Regex.CompileToAssembly (regexinfos, assemblyname, attributes)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="regexinfos" Type="System.Text.RegularExpressions.RegexCompilationInfo[]" />
        <Parameter Name="assemblyname" Type="System.Reflection.AssemblyName" />
        <Parameter Name="attributes" Type="System.Reflection.Emit.CustomAttributeBuilder[]" />
      </Parameters>
      <Docs>
        <param name="regexinfos"><span data-ttu-id="5677c-364">描述要编译的正则表达式的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-364">An array that describes the regular expressions to compile.</span></span></param>
        <param name="assemblyname"><span data-ttu-id="5677c-365">程序集的文件名。</span><span class="sxs-lookup"><span data-stu-id="5677c-365">The file name of the assembly.</span></span></param>
        <param name="attributes"><span data-ttu-id="5677c-366">定义要应用于程序集的特性的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-366">An array that defines the attributes to apply to the assembly.</span></span></param>
        <summary><span data-ttu-id="5677c-367">将一个或多个指定的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象编译为具有指定特性的命名程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-367">Compiles one or more specified <see cref="T:System.Text.RegularExpressions.Regex" /> objects to a named assembly with the specified attributes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-368"><xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29>方法中定义的每个正则表达式中生成.NET Framework 程序集`regexinfos`由一个类表示数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-368">The <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29> method generates a .NET Framework assembly in which each regular expression defined in the `regexinfos` array is represented by a class.</span></span> <span data-ttu-id="5677c-369">通常情况下，<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29>从单独的应用程序生成的已编译的正则表达式的程序集调用方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-369">Typically, the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29> method is called from a separate application that generates an assembly of compiled regular expressions.</span></span> <span data-ttu-id="5677c-370">包含在程序集中的每个正则表达式具有以下特征：</span><span class="sxs-lookup"><span data-stu-id="5677c-370">Each regular expression included in the assembly has the following characteristics:</span></span>  
  
-   <span data-ttu-id="5677c-371">派生自<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-371">It is derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
-   <span data-ttu-id="5677c-372">它分配由定义的完全限定的名称`fullnamespace`并`name`其对应的参数<xref:System.Text.RegularExpressions.RegexCompilationInfo>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-372">It is assigned the fully qualified name that is defined by the `fullnamespace` and `name` parameters of its corresponding <xref:System.Text.RegularExpressions.RegexCompilationInfo> object.</span></span>  
  
-   <span data-ttu-id="5677c-373">它有一个默认的 （或无参数） 构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-373">It has a default (or parameterless) constructor.</span></span>  
  
 <span data-ttu-id="5677c-374">通常，程序集或应用程序，它独立于创建该程序集的代码中找到实例化并使用已编译的正则表达式的代码。</span><span class="sxs-lookup"><span data-stu-id="5677c-374">Ordinarily, the code that instantiates and uses the compiled regular expression is found in an assembly or application that is separate from the code that creates the assembly.</span></span>  
  
 <span data-ttu-id="5677c-375">因为<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A>方法生成的.NET Framework 程序集从方法调用而不是使用特定语言的类定义关键字 (如`class`C# 中或`Class`...`End Class`</span><span class="sxs-lookup"><span data-stu-id="5677c-375">Because the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A> method generates a .NET Framework assembly from a method call instead of using a particular language's class definition keyword (such as `class` in C# or `Class`…`End Class`</span></span> <span data-ttu-id="5677c-376">在 Visual Basic 中)，它不允许使用开发语言的标准属性语法要分配给该程序集的.NET Framework 属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-376">in Visual Basic), it does not allow .NET Framework attributes to be assigned to the assembly by using the development language's standard attribute syntax.</span></span> <span data-ttu-id="5677c-377">`attributes`参数提供了一种替代方法，用于定义应用于程序集的属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-377">The `attributes` parameter provides an alternative method for defining the attributes that apply to the assembly.</span></span> <span data-ttu-id="5677c-378">你想要应用于程序集的每个属性，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="5677c-378">For each attribute that you want to apply to the assembly, do the following:</span></span>  
  
1.  <span data-ttu-id="5677c-379">创建一个数组<xref:System.Type>表示你想要调用的特性构造函数的参数类型的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-379">Create an array of <xref:System.Type> objects representing the parameter types of the attribute constructor that you want to call.</span></span>  
  
2.  <span data-ttu-id="5677c-380">检索<xref:System.Type>对象，表示你想要将应用于新的程序集的特性类。</span><span class="sxs-lookup"><span data-stu-id="5677c-380">Retrieve a <xref:System.Type> object representing the attribute class that you want to apply to the new assembly.</span></span>  
  
3.  <span data-ttu-id="5677c-381">调用<xref:System.Type.GetConstructor%2A>方法的特性<xref:System.Type>对象来检索<xref:System.Reflection.ConstructorInfo>对象，表示你想要调用的特性构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-381">Call the <xref:System.Type.GetConstructor%2A> method of the attribute <xref:System.Type> object to retrieve a <xref:System.Reflection.ConstructorInfo> object representing the attribute constructor that you want to call.</span></span> <span data-ttu-id="5677c-382">传递<xref:System.Type.GetConstructor%2A>方法的数组的<xref:System.Type>表示构造函数的参数类型的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-382">Pass the <xref:System.Type.GetConstructor%2A> method the array of <xref:System.Type> objects that represents the constructor's parameter types.</span></span>  
  
4.  <span data-ttu-id="5677c-383">创建<xref:System.Object>定义要传递给特性的构造函数的参数的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-383">Create a <xref:System.Object> array that defines the parameters to pass to the attribute's constructor.</span></span>  
  
5.  <span data-ttu-id="5677c-384">实例化<xref:System.Reflection.Emit.CustomAttributeBuilder>对象表示通过其构造函数<xref:System.Reflection.ConstructorInfo>在步骤 3 中检索对象和<xref:System.Object>步骤 4 中创建的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-384">Instantiate a <xref:System.Reflection.Emit.CustomAttributeBuilder> object by passing its constructor the <xref:System.Reflection.ConstructorInfo> object retrieved in step 3 and the <xref:System.Object> array created in step 4.</span></span>  
  
 <span data-ttu-id="5677c-385">然后，可以传递这些<xref:System.Reflection.Emit.CustomAttributeBuilder>对象而不是`attributes`参数<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-385">You can then pass an array of these <xref:System.Reflection.Emit.CustomAttributeBuilder> objects instead of the `attributes` parameter to the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%29?displayProperty=nameWithType> method.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-386">以下示例创建名为 RegexLib.dll 的程序集并应用<xref:System.Reflection.AssemblyTitleAttribute>到该属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-386">The following example creates an assembly named RegexLib.dll and applies the <xref:System.Reflection.AssemblyTitleAttribute> attribute to it.</span></span> <span data-ttu-id="5677c-387">程序集包括两个已编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-387">The assembly includes two compiled regular expressions.</span></span> <span data-ttu-id="5677c-388">第一种`Utilities.RegularExpressions.DuplicatedString`，匹配两个完全相同的连续单词。</span><span class="sxs-lookup"><span data-stu-id="5677c-388">The first, `Utilities.RegularExpressions.DuplicatedString`, matches two identical contiguous words.</span></span> <span data-ttu-id="5677c-389">第二个， `Utilities.RegularExpressions.EmailAddress`，检查字符串是否具有正确的格式为电子邮件地址。</span><span class="sxs-lookup"><span data-stu-id="5677c-389">The second, `Utilities.RegularExpressions.EmailAddress`, checks whether a string has the correct format to be an email address.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.CompileToAssembly#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/cs/Compile3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.CompileToAssembly#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/vb/Compile3.vb#3)]  
  
 <span data-ttu-id="5677c-390">你可以验证<xref:System.Reflection.AssemblyTitleAttribute>特性已应用于程序集通过检查其清单使用 ILDasm 之类的反射实用工具。</span><span class="sxs-lookup"><span data-stu-id="5677c-390">You can verify that the <xref:System.Reflection.AssemblyTitleAttribute> attribute has been applied to the assembly by examining its manifest with a reflection utility such as ILDasm.</span></span>  
  
 <span data-ttu-id="5677c-391">然后，检查字符串的重复单词的正则表达式是实例化，并使用下面的示例。</span><span class="sxs-lookup"><span data-stu-id="5677c-391">The regular expression that checks a string for duplicate words is then instantiated and used by the following example.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.CompileToAssembly#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/cs/Compile2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.CompileToAssembly#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.CompileToAssembly/vb/Compile2.vb#2)]  
  
 <span data-ttu-id="5677c-392">此第二个示例成功编译需要对 RegexLib.dll （由第一个示例创建程序集） 的引用添加到项目。</span><span class="sxs-lookup"><span data-stu-id="5677c-392">Successful compilation of this second example requires a reference to RegexLib.dll (the assembly created by the first example) to be added to the project.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-393"><paramref name="assemblyname" /> 参数的 <see cref="P:System.Reflection.AssemblyName.Name" /> 属性值是一个空字符串或 null。</span><span class="sxs-lookup"><span data-stu-id="5677c-393">The value of the <paramref name="assemblyname" /> parameter's <see cref="P:System.Reflection.AssemblyName.Name" /> property is an empty or null string.</span></span>  
  
<span data-ttu-id="5677c-394">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-394">-or-</span></span> 
<span data-ttu-id="5677c-395"><paramref name="regexinfos" /> 中的一个或多个对象的正则表达式模式包含无效语法。</span><span class="sxs-lookup"><span data-stu-id="5677c-395">The regular expression pattern of one or more objects in <paramref name="regexinfos" /> contains invalid syntax.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-396"><paramref name="assemblyname" /> 或 <paramref name="regexinfos" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-396"><paramref name="assemblyname" /> or <paramref name="regexinfos" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="5677c-397">仅限 .NET Core：不支持创建已编译的正则表达式的程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-397">.NET Core only: Creating an assembly of compiled regular expressions is not supported.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-398">如果你正在开发的系统上[!INCLUDE[net_v45](~/includes/net-v45-md.md)]或安装其单点发行版，面向[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]，并使用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />方法创建的程序集包含已编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-398">If you are developing on a system that has [!INCLUDE[net_v45](~/includes/net-v45-md.md)] or its point releases installed, you target [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)], and you use the <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> method to create an assembly that contains compiled regular expressions.</span></span> <span data-ttu-id="5677c-399">尝试使用正则表达式之一在于，在系统上的程序集具有[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-399">Trying to use one of the regular expressions in that assembly on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] throws an exception.</span></span> <span data-ttu-id="5677c-400">若要解决此问题，可执行下列操作之一：</span><span class="sxs-lookup"><span data-stu-id="5677c-400">To work around this problem, you can do either of the following:</span></span> 
<span data-ttu-id="5677c-401">-生成包含已编译的正则表达式的系统上的程序集[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]而不是安装更高版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-401">-   Build the assembly that contains the compiled regular expressions on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] instead of later versions installed.</span></span>  
  
<span data-ttu-id="5677c-402">-而不是调用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />和从程序集中检索已编译的正则表达式，使用静态或实例<see cref="T:System.Text.RegularExpressions.Regex" />方法使用<see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" />选项实例化时<see cref="T:System.Text.RegularExpressions.Regex" />对象或调用正则表达式模式匹配方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-402">-   Instead of calling <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> and retrieving the compiled regular expression from an assembly, use either static or instance <see cref="T:System.Text.RegularExpressions.Regex" /> methods with the <see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" /> option when you instantiate a <see cref="T:System.Text.RegularExpressions.Regex" /> object or call a regular expression pattern matching method.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/compilation-and-reuse-in-regular-expressions.md"><span data-ttu-id="5677c-403">编译和重复使用</span><span class="sxs-lookup"><span data-stu-id="5677c-403">Compilation and Reuse</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="CompileToAssembly">
      <MemberSignature Language="C#" Value="public static void CompileToAssembly (System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, System.Reflection.AssemblyName assemblyname, System.Reflection.Emit.CustomAttributeBuilder[] attributes, string resourceFile);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void CompileToAssembly(class System.Text.RegularExpressions.RegexCompilationInfo[] regexinfos, class System.Reflection.AssemblyName assemblyname, class System.Reflection.Emit.CustomAttributeBuilder[] attributes, string resourceFile) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName,System.Reflection.Emit.CustomAttributeBuilder[],System.String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void CompileToAssembly(cli::array &lt;System::Text::RegularExpressions::RegexCompilationInfo ^&gt; ^ regexinfos, System::Reflection::AssemblyName ^ assemblyname, cli::array &lt;System::Reflection::Emit::CustomAttributeBuilder ^&gt; ^ attributes, System::String ^ resourceFile);" />
      <MemberSignature Language="F#" Value="static member CompileToAssembly : System.Text.RegularExpressions.RegexCompilationInfo[] * System.Reflection.AssemblyName * System.Reflection.Emit.CustomAttributeBuilder[] * string -&gt; unit" Usage="System.Text.RegularExpressions.Regex.CompileToAssembly (regexinfos, assemblyname, attributes, resourceFile)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="regexinfos" Type="System.Text.RegularExpressions.RegexCompilationInfo[]" />
        <Parameter Name="assemblyname" Type="System.Reflection.AssemblyName" />
        <Parameter Name="attributes" Type="System.Reflection.Emit.CustomAttributeBuilder[]" />
        <Parameter Name="resourceFile" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="regexinfos"><span data-ttu-id="5677c-404">描述要编译的正则表达式的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-404">An array that describes the regular expressions to compile.</span></span></param>
        <param name="assemblyname"><span data-ttu-id="5677c-405">程序集的文件名。</span><span class="sxs-lookup"><span data-stu-id="5677c-405">The file name of the assembly.</span></span></param>
        <param name="attributes"><span data-ttu-id="5677c-406">定义要应用于程序集的特性的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-406">An array that defines the attributes to apply to the assembly.</span></span></param>
        <param name="resourceFile"><span data-ttu-id="5677c-407">要包含在程序集中的 Win32 资源文件的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-407">The name of the Win32 resource file to include in the assembly.</span></span></param>
        <summary><span data-ttu-id="5677c-408">将一个或多个指定的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象和一个指定的资源文件编译为具有指定特性的命名程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-408">Compiles one or more specified <see cref="T:System.Text.RegularExpressions.Regex" /> objects and a specified resource file to a named assembly with the specified attributes.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-409">[\]，程序集名称、 CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29 > 方法中定义的每个正则表达式中生成.NET Framework 程序集`regexinfos`由一个类表示数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-409">The [\], AssemblyName, CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29> method generates a .NET Framework assembly in which each regular expression defined in the `regexinfos` array is represented by a class.</span></span> <span data-ttu-id="5677c-410">通常情况下，[\]，程序集名称、 CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29 > 从单独的应用程序生成的已编译的正则表达式的程序集调用方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-410">Typically, the [\], AssemblyName, CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29> method is called from a separate application that generates an assembly of compiled regular expressions.</span></span> <span data-ttu-id="5677c-411">包含在程序集中的每个正则表达式具有以下特征：</span><span class="sxs-lookup"><span data-stu-id="5677c-411">Each regular expression included in the assembly has the following characteristics:</span></span>  
  
-   <span data-ttu-id="5677c-412">派生自<xref:System.Text.RegularExpressions.Regex>类。</span><span class="sxs-lookup"><span data-stu-id="5677c-412">It is derived from the <xref:System.Text.RegularExpressions.Regex> class.</span></span>  
  
-   <span data-ttu-id="5677c-413">它分配由定义的完全限定的名称`fullnamespace`并`name`其对应的参数<xref:System.Text.RegularExpressions.RegexCompilationInfo>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-413">It is assigned the fully qualified name that is defined by the `fullnamespace` and `name` parameters of its corresponding <xref:System.Text.RegularExpressions.RegexCompilationInfo> object.</span></span>  
  
-   <span data-ttu-id="5677c-414">它有一个默认的 （或无参数） 构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-414">It has a default (or parameterless) constructor.</span></span>  
  
 <span data-ttu-id="5677c-415">通常，程序集或应用程序，它独立于创建该程序集的代码中找到实例化并使用已编译的正则表达式的代码。</span><span class="sxs-lookup"><span data-stu-id="5677c-415">Ordinarily, the code that instantiates and uses the compiled regular expression is found in an assembly or application that is separate from the code that creates the assembly.</span></span>  
  
 <span data-ttu-id="5677c-416">因为<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A>方法生成的.NET Framework 程序集从方法调用而不是使用特定语言的类定义关键字 (如`class`C# 中或`Class`...`End Class`</span><span class="sxs-lookup"><span data-stu-id="5677c-416">Because the <xref:System.Text.RegularExpressions.Regex.CompileToAssembly%2A> method generates a .NET Framework assembly from a method call instead of using a particular language's class definition keyword (such as `class` in C# or `Class`…`End Class`</span></span> <span data-ttu-id="5677c-417">在 Visual Basic 中)，它不允许使用开发语言的标准属性语法要分配给该程序集的.NET Framework 属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-417">in Visual Basic), it does not allow .NET Framework attributes to be assigned to the assembly by using the development language's standard attribute syntax.</span></span> <span data-ttu-id="5677c-418">`attributes`参数提供了一种替代方法，用于定义应用于程序集的属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-418">The `attributes` parameter provides an alternative method for defining the attributes that apply to the assembly.</span></span> <span data-ttu-id="5677c-419">你想要应用于程序集的每个属性，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="5677c-419">For each attribute that you want to apply to the assembly, do the following:</span></span>  
  
1.  <span data-ttu-id="5677c-420">创建一个数组<xref:System.Type>表示你想要调用的特性构造函数的参数类型的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-420">Create an array of <xref:System.Type> objects representing the parameter types of the attribute constructor that you want to call.</span></span>  
  
2.  <span data-ttu-id="5677c-421">检索<xref:System.Type>对象，表示你想要将应用于新的程序集的特性类。</span><span class="sxs-lookup"><span data-stu-id="5677c-421">Retrieve a <xref:System.Type> object representing the attribute class that you want to apply to the new assembly.</span></span>  
  
3.  <span data-ttu-id="5677c-422">调用<xref:System.Type.GetConstructor%2A>方法的特性<xref:System.Type>对象来检索<xref:System.Reflection.ConstructorInfo>对象，表示你想要调用的特性构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-422">Call the <xref:System.Type.GetConstructor%2A> method of the attribute <xref:System.Type> object to retrieve a <xref:System.Reflection.ConstructorInfo> object representing the attribute constructor that you want to call.</span></span> <span data-ttu-id="5677c-423">传递<xref:System.Type.GetConstructor%2A>方法的数组的<xref:System.Type>表示构造函数的参数类型的对象</span><span class="sxs-lookup"><span data-stu-id="5677c-423">Pass the <xref:System.Type.GetConstructor%2A> method the array of <xref:System.Type> objects that represents the constructor's parameter types</span></span>  
  
4.  <span data-ttu-id="5677c-424">创建<xref:System.Object>定义要传递给特性的构造函数的参数的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-424">Create a <xref:System.Object> array that defines the parameters to pass to the attribute's constructor.</span></span>  
  
5.  <span data-ttu-id="5677c-425">实例化<xref:System.Reflection.Emit.CustomAttributeBuilder>对象表示通过其构造函数<xref:System.Reflection.ConstructorInfo>在步骤 3 中检索对象和<xref:System.Object>步骤 4 中创建的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-425">Instantiate a <xref:System.Reflection.Emit.CustomAttributeBuilder> object by passing its constructor the <xref:System.Reflection.ConstructorInfo> object retrieved in step 3 and the <xref:System.Object> array created in step 4.</span></span>  
  
 <span data-ttu-id="5677c-426">然后，可以传递这些<xref:System.Reflection.Emit.CustomAttributeBuilder>对象而不是`attributes`参数 [\]，程序集名称、 CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29 > 方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-426">You can then pass an array of these <xref:System.Reflection.Emit.CustomAttributeBuilder> objects instead of the `attributes` parameter to the [\], AssemblyName, CustomAttributeBuilder\<xref:System.Text.RegularExpressions.Regex.CompileToAssembly%28System.Text.RegularExpressions.RegexCompilationInfo%5B%5D%2CSystem.Reflection.AssemblyName%2CSystem.Reflection.Emit.CustomAttributeBuilder%5B%5D%2CSystem.String%29> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-427"><paramref name="assemblyname" /> 参数的 <see cref="P:System.Reflection.AssemblyName.Name" /> 属性值是一个空字符串或 null。</span><span class="sxs-lookup"><span data-stu-id="5677c-427">The value of the <paramref name="assemblyname" /> parameter's <see cref="P:System.Reflection.AssemblyName.Name" /> property is an empty or null string.</span></span>  
  
<span data-ttu-id="5677c-428">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-428">-or-</span></span> 
<span data-ttu-id="5677c-429"><paramref name="regexinfos" /> 中的一个或多个对象的正则表达式模式包含无效语法。</span><span class="sxs-lookup"><span data-stu-id="5677c-429">The regular expression pattern of one or more objects in <paramref name="regexinfos" /> contains invalid syntax.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-430"><paramref name="assemblyname" /> 或 <paramref name="regexinfos" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-430"><paramref name="assemblyname" /> or <paramref name="regexinfos" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Runtime.InteropServices.COMException"><span data-ttu-id="5677c-431"><paramref name="resourceFile" /> 参数指定了无效的 Win32 资源文件。</span><span class="sxs-lookup"><span data-stu-id="5677c-431">The <paramref name="resourceFile" /> parameter designates an invalid Win32 resource file.</span></span></exception>
        <exception cref="T:System.IO.FileNotFoundException"><span data-ttu-id="5677c-432">找不到 <paramref name="resourceFile" /> 参数指定的文件。</span><span class="sxs-lookup"><span data-stu-id="5677c-432">The file designated by the <paramref name="resourceFile" /> parameter cannot be found.</span></span></exception>
        <exception cref="T:System.PlatformNotSupportedException"><span data-ttu-id="5677c-433">仅限 .NET Core：不支持创建已编译的正则表达式的程序集。</span><span class="sxs-lookup"><span data-stu-id="5677c-433">.NET Core only: Creating an assembly of compiled regular expressions is not supported.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-434">如果你正在开发的系统上[!INCLUDE[net_v45](~/includes/net-v45-md.md)]或安装其单点发行版，面向[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]，并使用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />方法创建的程序集包含已编译的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-434">If you are developing on a system that has [!INCLUDE[net_v45](~/includes/net-v45-md.md)] or its point releases installed, you target [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)], and you use the <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> method to create an assembly that contains compiled regular expressions.</span></span> <span data-ttu-id="5677c-435">尝试使用正则表达式之一在于，在系统上的程序集具有[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-435">Trying to use one of the regular expressions in that assembly on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] throws an exception.</span></span> <span data-ttu-id="5677c-436">若要解决此问题，可执行下列操作之一：</span><span class="sxs-lookup"><span data-stu-id="5677c-436">To work around this problem, you can do either of the following:</span></span> 
<span data-ttu-id="5677c-437">-生成包含已编译的正则表达式的系统上的程序集[!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)]而不是安装更高版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-437">-   Build the assembly that contains the compiled regular expressions on a system that has [!INCLUDE[net_v40_short](~/includes/net-v40-short-md.md)] instead of later versions installed.</span></span>  
  
<span data-ttu-id="5677c-438">-而不是调用<see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" />和从程序集中检索已编译的正则表达式，使用静态或实例<see cref="T:System.Text.RegularExpressions.Regex" />方法使用<see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" />选项实例化时<see cref="T:System.Text.RegularExpressions.Regex" />对象或调用正则表达式模式匹配方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-438">-   Instead of calling <see cref="M:System.Text.RegularExpressions.Regex.CompileToAssembly(System.Text.RegularExpressions.RegexCompilationInfo[],System.Reflection.AssemblyName)" /> and retrieving the compiled regular expression from an assembly, use either static or instance <see cref="T:System.Text.RegularExpressions.Regex" /> methods with the <see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" /> option when you instantiate a <see cref="T:System.Text.RegularExpressions.Regex" /> object or call a regular expression pattern matching method.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/compilation-and-reuse-in-regular-expressions.md"><span data-ttu-id="5677c-439">编译和重复使用</span><span class="sxs-lookup"><span data-stu-id="5677c-439">Compilation and Reuse</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Escape">
      <MemberSignature Language="C#" Value="public static string Escape (string str);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Escape(string str) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Escape(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Escape (str As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Escape(System::String ^ str);" />
      <MemberSignature Language="F#" Value="static member Escape : string -&gt; string" Usage="System.Text.RegularExpressions.Regex.Escape str" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="str" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="str"><span data-ttu-id="5677c-440">包含要转换的文本的输入字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-440">The input string that contains the text to convert.</span></span></param>
        <summary><span data-ttu-id="5677c-441">通过替换为转义码来转义最小的字符集（\\、\*、+、?、|、{、[、(、)、^、$、.、# 和空白）。</span><span class="sxs-lookup"><span data-stu-id="5677c-441">Escapes a minimal set of characters (\\, \*, +, ?, |, {, [, (,), ^, $, ., #, and white space) by replacing them with their escape codes.</span></span> <span data-ttu-id="5677c-442">这将指示正则表达式引擎按原义解释这些字符而不是解释为元字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-442">This instructs the regular expression engine to interpret these characters literally rather than as metacharacters.</span></span></summary>
        <returns><span data-ttu-id="5677c-443">由转换为转义形式的元字符组成的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-443">A string of characters with metacharacters converted to their escaped form.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-444"><xref:System.Text.RegularExpressions.Regex.Escape%2A> 将字符串转换，以便正则表达式引擎会将解释为字符文本可能包含任何元字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-444"><xref:System.Text.RegularExpressions.Regex.Escape%2A> converts a string so that the regular expression engine will interpret any metacharacters that it may contain as character literals.</span></span> <span data-ttu-id="5677c-445">例如，考虑正则表达式，它可以提取由左和右括号 （[和]） 从文本分隔的注释。</span><span class="sxs-lookup"><span data-stu-id="5677c-445">For example, consider a regular expression that is designed to extract comments that are delimited by straight opening and closing brackets ([ and ]) from text.</span></span> <span data-ttu-id="5677c-446">在下面的示例中，正则表达式"[(.\*?)]"被解释为字符类。</span><span class="sxs-lookup"><span data-stu-id="5677c-446">In the following example, the regular expression "[(.\*?)]" is interpreted as a character class.</span></span> <span data-ttu-id="5677c-447">而不是匹配输入文本中嵌入的注释，正则表达式匹配每个左或右括号、 句点、 星号或问号。</span><span class="sxs-lookup"><span data-stu-id="5677c-447">Rather than matching comments embedded in the input text, the regular expression matches each opening or closing parenthesis, period, asterisk, or question mark.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Escape#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/cs/Escape1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Escape#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/vb/Escape1.vb#1)]  
  
 <span data-ttu-id="5677c-448">但是，如果将左大括号转义将其传递到<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法，正则表达式成功匹配输入字符串中嵌入的注释中。</span><span class="sxs-lookup"><span data-stu-id="5677c-448">However, if the opening bracket is escaped by passing it to the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method, the regular expression succeeds in matching comments that are embedded in the input string.</span></span> <span data-ttu-id="5677c-449">下面的示例阐释了这一点。</span><span class="sxs-lookup"><span data-stu-id="5677c-449">The following example illustrates this.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Escape#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/cs/Escape1.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Escape#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/vb/Escape1.vb#2)]  
  
 <span data-ttu-id="5677c-450">使用静态文本定义的正则表达式，将按字面意思而不是元字符作为解释的字符也可转义由其前面的反斜杠符号 (\\) 以及通过调用<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-450">In a regular expression that is defined by using static text, characters that are to be interpreted literally rather than as metacharacters can be escaped by preceding them with a backslash symbol (\\) as well as by calling the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method.</span></span> <span data-ttu-id="5677c-451">使用在设计时未知的字符以动态方式定义正则表达式中调用<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法是确保，正则表达式引擎将单个字符解释为文本而不是非常重要比为元字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-451">In a regular expression that is defined dynamically using characters that are not known at design time, calling the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method is particularly important to ensure that the regular expression engine interprets individual characters as literals rather than as metacharacters.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-452">如果正则表达式模式包含的数字符号 （#） 或文本空白字符，则必须进行转义如果输入的文本分析与<xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>选项处于启用状态。</span><span class="sxs-lookup"><span data-stu-id="5677c-452">If a regular expression pattern includes either the number sign (#) or literal white-space characters, they must be escaped if input text is parsed with the <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option enabled.</span></span>  
  
 <span data-ttu-id="5677c-453">虽然<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法可转义直接打开方括号 ([)，并打开大括号 （{） 字符，它未转义其对应的结束字符 (] 和})。</span><span class="sxs-lookup"><span data-stu-id="5677c-453">While the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method escapes the straight opening bracket ([) and opening brace ({) characters, it does not escape their corresponding closing characters (] and }).</span></span> <span data-ttu-id="5677c-454">在大多数情况下，转义这些不是必需。</span><span class="sxs-lookup"><span data-stu-id="5677c-454">In most cases, escaping these is not necessary.</span></span> <span data-ttu-id="5677c-455">如果右括号或大括号前面没有其相应的开始字符，正则表达式引擎将按字面意思解释它。</span><span class="sxs-lookup"><span data-stu-id="5677c-455">If a closing bracket or brace is not preceded by its corresponding opening character, the regular expression engine interprets it literally.</span></span> <span data-ttu-id="5677c-456">如果左括号或大括号被解释为元字符，正则表达式引擎会解释第一个相应的结束字符为元字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-456">If an opening braket or brace is interpreted as a metacharacter, the regular expression engine interprets the first corresponding closing character as a metacharacter.</span></span> <span data-ttu-id="5677c-457">如果这不是所需的行为，应通过显式预先计算的反斜杠转义右括号或大括号 (\\) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-457">If this is not the desired behavior, the closing bracket or brace should be escaped by explicitly prepending the backslash (\\) character.</span></span> <span data-ttu-id="5677c-458">有关说明，请参阅示例部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-458">For an illustration, see the Example section.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-459">下面的示例从文本中提取注释。</span><span class="sxs-lookup"><span data-stu-id="5677c-459">The following example extracts comments from text.</span></span> <span data-ttu-id="5677c-460">它假定注释分隔开始注释符号，并由用户选择的结束注释符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-460">It assumes that the comments are delimited by a begin comment symbol and an end comment symbol that is selected by the user.</span></span> <span data-ttu-id="5677c-461">注释符号将按原义解释，因为它们传递给<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法，以确保它们不能被曲解为元字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-461">Because the comment symbols are to be interpreted literally, they are passed to the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method to ensure that they cannot be misinterpreted as metacharacters.</span></span> <span data-ttu-id="5677c-462">此外，该示例显式检查用户输入的结束注释符号是否为右方括号 (]) 或大括号 （}）。</span><span class="sxs-lookup"><span data-stu-id="5677c-462">In addition, the example explicitly checks whether the end comment symbol entered by the user is a closing bracket (]) or brace (}).</span></span> <span data-ttu-id="5677c-463">如果是，反斜杠字符 (\\)，以便将按字面意思解释预置到大括号或大括号。</span><span class="sxs-lookup"><span data-stu-id="5677c-463">If it is, a backslash character (\\) is prepended to the bracket or brace so that it is interpreted literally.</span></span> <span data-ttu-id="5677c-464">请注意，此示例还使用<xref:System.Text.RegularExpressions.Match.Groups%2A?displayProperty=nameWithType>集合以显示注释，而不是其开始和结束注释符号以及注释。</span><span class="sxs-lookup"><span data-stu-id="5677c-464">Note that the example also uses the <xref:System.Text.RegularExpressions.Match.Groups%2A?displayProperty=nameWithType> collection to display the comment only, rather than the comment together with its opening and closing comment symbols.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Escape#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/cs/Escape3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.Escape#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Escape/vb/Escape3.vb#3)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-465"><paramref name="str" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-465"><paramref name="str" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.Text.RegularExpressions.Regex.Unescape(System.String)" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-466">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-466">Regular Expression Language - Quick Reference</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/f49cc9cc-db7d-4058-8b8a-422bc08b29b0"><span data-ttu-id="5677c-467">正则表达式中的字符转义</span><span class="sxs-lookup"><span data-stu-id="5677c-467">Character Escapes in Regular Expressions</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="factory">
      <MemberSignature Language="C#" Value="protected internal System.Text.RegularExpressions.RegexRunnerFactory factory;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly class System.Text.RegularExpressions.RegexRunnerFactory factory" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.factory" />
      <MemberSignature Language="VB.NET" Value="Protected Friend factory As RegexRunnerFactory " />
      <MemberSignature Language="C++ CLI" Value="protected public: System::Text::RegularExpressions::RegexRunnerFactory ^ factory;" />
      <MemberSignature Language="F#" Value="val mutable factory : System.Text.RegularExpressions.RegexRunnerFactory" Usage="System.Text.RegularExpressions.Regex.factory" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.RegexRunnerFactory</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-468">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-468">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Finalize">
      <MemberSignature Language="C#" Value="~Regex ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void Finalize() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Finalize" />
      <MemberSignature Language="VB.NET" Value="Finalize ()" />
      <MemberSignature Language="C++ CLI" Value="!Regex ()" />
      <MemberSignature Language="F#" Value="override this.Finalize : unit -&gt; unit" Usage="regex.Finalize " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-469">此成员替代 <see cref="M:System.Object.Finalize" /> 且该主题可能包括更完整的文档。</span><span class="sxs-lookup"><span data-stu-id="5677c-469">This member overrides <see cref="M:System.Object.Finalize" />, and more complete documentation might be available in that topic.</span></span>

<span data-ttu-id="5677c-470">允许 <see cref="T:System.Object" /> 在"垃圾回收"回收 <see cref="T:System.Object" /> 之前尝试释放资源并执行其他清理操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-470">Allows an <see cref="T:System.Object" /> to attempt to free resources and perform other cleanup operations before the <see cref="T:System.Object" /> is reclaimed by garbage collection.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetGroupNames">
      <MemberSignature Language="C#" Value="public string[] GetGroupNames ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string[] GetGroupNames() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.GetGroupNames" />
      <MemberSignature Language="VB.NET" Value="Public Function GetGroupNames () As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::String ^&gt; ^ GetGroupNames();" />
      <MemberSignature Language="F#" Value="member this.GetGroupNames : unit -&gt; string[]" Usage="regex.GetGroupNames " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-471">返回正则表达式的捕获组名数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-471">Returns an array of capturing group names for the regular expression.</span></span></summary>
        <returns><span data-ttu-id="5677c-472">组名的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-472">A string array of group names.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-473">组名称的集合包含在表达式中的命名捕获组使用的字符串的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-473">The collection of group names contains the set of strings used to name capturing groups in the expression.</span></span> <span data-ttu-id="5677c-474">即使未显式命名的捕获组，它们会自动分配了数字名称 （"0"、"1"、"2"、"3"等）。</span><span class="sxs-lookup"><span data-stu-id="5677c-474">Even if capturing groups are not explicitly named, they are automatically assigned numerical names ("0", "1", "2", "3", and so on).</span></span> <span data-ttu-id="5677c-475">"0"名为组表示由正则表达式模式匹配的所有文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-475">The "0" named group represents all text matched by the regular expression pattern.</span></span> <span data-ttu-id="5677c-476">已编号的组先于显式命名的组在集合中，并已命名的组显示在正则表达式模式中定义的顺序。</span><span class="sxs-lookup"><span data-stu-id="5677c-476">Numbered groups precede explicitly named groups in the collection, and named groups appear in the order in which they are defined in the regular expression pattern.</span></span>  
  
 <span data-ttu-id="5677c-477">可以使用<xref:System.Array.Length%2A>属性返回此方法以确定正则表达式中的组数的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-477">You can use the <xref:System.Array.Length%2A> property on the array returned by this method to determine the number of groups in a regular expression.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-478">下面的示例定义了常规用途`ShowMatches`显示正则表达式组和其匹配的文本的名称的方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-478">The following example defines a general-purpose `ShowMatches` method that displays the names of regular expression groups and their matched text.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.GetGroupNames#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.getgroupnames/cs/getgroupnames1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.GetGroupNames#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.getgroupnames/vb/getgroupnames1.vb#1)]  
  
 <span data-ttu-id="5677c-479">在此情况下，正则表达式模式`\b(?<FirstWord>\w+)\s?((\w+)\s)*(?<LastWord>\w+)?(?<Punctuation>\p{Po})`旨在分析简单句子，并确定其第一个单词，最后一个单词和结束标点符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-479">In this case, the regular expression pattern `\b(?<FirstWord>\w+)\s?((\w+)\s)*(?<LastWord>\w+)?(?<Punctuation>\p{Po})` is intended to parse a simple sentence, and to identify its first word, last word, and ending punctuation mark.</span></span> <span data-ttu-id="5677c-480">下表显示了如何解释正则表达式模式：</span><span class="sxs-lookup"><span data-stu-id="5677c-480">The following table shows how the regular expression pattern is interpreted:</span></span>  
  
|<span data-ttu-id="5677c-481">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-481">Pattern</span></span>|<span data-ttu-id="5677c-482">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-482">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-483">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-483">Begin the match at a word boundary.</span></span>|  
|`(?<FirstWord>\w+)`|<span data-ttu-id="5677c-484">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-484">Match one or more word characters.</span></span> <span data-ttu-id="5677c-485">这是`FirstWord`已命名的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-485">This is the `FirstWord` named group.</span></span>|  
|<span data-ttu-id="5677c-486">\s？</span><span class="sxs-lookup"><span data-stu-id="5677c-486">\s?</span></span>|<span data-ttu-id="5677c-487">匹配零个或一个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-487">Match zero or one white-space characters.</span></span>|  
|<span data-ttu-id="5677c-488">(\w+)</span><span class="sxs-lookup"><span data-stu-id="5677c-488">(\w+)</span></span>|<span data-ttu-id="5677c-489">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-489">Match one or more word characters.</span></span> <span data-ttu-id="5677c-490">这是第二个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-490">This is the second capturing group.</span></span>|  
|<span data-ttu-id="5677c-491">\s</span><span class="sxs-lookup"><span data-stu-id="5677c-491">\s</span></span>|<span data-ttu-id="5677c-492">与空白字符匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-492">Match a white-space character.</span></span>|  
|<span data-ttu-id="5677c-493">((\w+)\s)\*</span><span class="sxs-lookup"><span data-stu-id="5677c-493">((\w+)\s)\*</span></span>|<span data-ttu-id="5677c-494">匹配零个或多个匹配项的一个或多个单词字符后跟空白区域。</span><span class="sxs-lookup"><span data-stu-id="5677c-494">Match zero or more occurrences of one or more word characters followed by a white space.</span></span> <span data-ttu-id="5677c-495">这是第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-495">This is the first capturing group.</span></span>|  
|<span data-ttu-id="5677c-496">(?\<LastWord > \w+)？</span><span class="sxs-lookup"><span data-stu-id="5677c-496">(?\<LastWord>\w+)?</span></span>|<span data-ttu-id="5677c-497">匹配零个或一个匹配项的一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-497">Match zero or one occurrence of one or more word characters.</span></span> <span data-ttu-id="5677c-498">这是`LastWord`已命名的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-498">This is the `LastWord` named group.</span></span>|  
|<span data-ttu-id="5677c-499">(?\<标点 > \p{Po})</span><span class="sxs-lookup"><span data-stu-id="5677c-499">(?\<Punctuation>\p{Po})</span></span>|<span data-ttu-id="5677c-500">匹配的字符的 Unicode 类别是标点，其他。</span><span class="sxs-lookup"><span data-stu-id="5677c-500">Match a character whose Unicode category is Punctuation, Other.</span></span> <span data-ttu-id="5677c-501">这是`Punctuation`已命名的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-501">This is the `Punctuation` named group.</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Text.RegularExpressions.GroupCollection" />
        <related type="Article" href="https://msdn.microsoft.com/library/0fc18634-f590-4062-8d5c-f0b71abe405b"><span data-ttu-id="5677c-502">正则表达式中的分组构造</span><span class="sxs-lookup"><span data-stu-id="5677c-502">Grouping Constructs in Regular Expressions</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GetGroupNumbers">
      <MemberSignature Language="C#" Value="public int[] GetGroupNumbers ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int32[] GetGroupNumbers() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.GetGroupNumbers" />
      <MemberSignature Language="VB.NET" Value="Public Function GetGroupNumbers () As Integer()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;int&gt; ^ GetGroupNumbers();" />
      <MemberSignature Language="F#" Value="member this.GetGroupNumbers : unit -&gt; int[]" Usage="regex.GetGroupNumbers " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-503">返回与数组中的组名相对应的捕获组号的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-503">Returns an array of capturing group numbers that correspond to group names in an array.</span></span></summary>
        <returns><span data-ttu-id="5677c-504">组号的整数数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-504">An integer array of group numbers.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-505">可以通过数字访问未命名和已命名的捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-505">Both unnamed and named capturing groups can be accessed by number.</span></span> <span data-ttu-id="5677c-506">未命名的组从左到右从 1 开始编号。</span><span class="sxs-lookup"><span data-stu-id="5677c-506">Unnamed groups are numbered from left to right starting with 1.</span></span> <span data-ttu-id="5677c-507">（索引 0 （零） 中的捕获组表示匹配作为一个整体。）已命名的组进行然后编号从左到右从一个更大的数字比的数未命名捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-507">(The capturing group in index 0 (zero) represents the match as a whole.)  Named groups are then numbered from left to right starting with a number that is one greater than the number of unnamed capturing groups.</span></span>  
  
 <span data-ttu-id="5677c-508">通过字符串名称来引用其数量，而不是通过组可以提供更快的访问。</span><span class="sxs-lookup"><span data-stu-id="5677c-508">Referencing a group by its number instead of by string name can provide faster access.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-509">下面的示例定义正则表达式， `\b((?<word>\w+)\s*)+(?<end>[.?!])`，匹配的句子。</span><span class="sxs-lookup"><span data-stu-id="5677c-509">The following example defines a regular expression, `\b((?<word>\w+)\s*)+(?<end>[.?!])`, that matches a sentence.</span></span> <span data-ttu-id="5677c-510">正则表达式包含三个捕获组： 捕获各个单词，连同空格字符，可以按照它; 未命名的组名为的组`word`捕获句子; 中的单个单词和一组名为`end`捕获结束句子的标点。</span><span class="sxs-lookup"><span data-stu-id="5677c-510">The regular expression includes three capturing groups: an unnamed group that captures an individual word along with a space character that may follow it; a group named `word` that captures the individual words in the sentence; and a group named `end` that captures the punctuation that ends the sentence.</span></span> <span data-ttu-id="5677c-511">此示例调用<xref:System.Text.RegularExpressions.Regex.GetGroupNumbers%2A>方法以获取所有捕获的数字进行分组，，然后显示其捕获的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-511">The example calls the <xref:System.Text.RegularExpressions.Regex.GetGroupNumbers%2A> method to get the numbers of all capturing groups, and then displays their captured string.</span></span> <span data-ttu-id="5677c-512">此外，<xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A>方法用来指示特定编号的组是否对应于命名的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-512">In addition, the <xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A> method is used to indicate whether a particular numbered group corresponds to a named group.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.GetGroupNumbers#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.getgroupnumbers/cs/getgroupnumbers1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.GetGroupNumbers#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.getgroupnumbers/vb/getgroupnumbers1.vb#1)]  
  
 <span data-ttu-id="5677c-513">正则表达式模式可以解释为下表中所示内容。</span><span class="sxs-lookup"><span data-stu-id="5677c-513">The regular expression pattern is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-514">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-514">Pattern</span></span>|<span data-ttu-id="5677c-515">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-515">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-516">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-516">Begin the match at a word boundary.</span></span>|  
|`(?<word>\w+)`|<span data-ttu-id="5677c-517">匹配一个或多个单词字符并将匹配的字符串分配给一个名为组`word`。</span><span class="sxs-lookup"><span data-stu-id="5677c-517">Match one or more word characters and assign the matched strings to a group named `word`.</span></span>|  
|`\s*`|<span data-ttu-id="5677c-518">匹配零个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-518">Match zero or more white-space characters.</span></span>|  
|`((?<word>\w+)\s*)`|<span data-ttu-id="5677c-519">分配`word`跟任何的捕获的组捕获的空白字符到第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-519">Assign the `word` captured group followed by any captured white-space characters to the first captured group.</span></span>|  
|`((?<word>\w+)\s*)+`|<span data-ttu-id="5677c-520">与任何空白字符后, 接一个或多个时间的一个或多个单词字符的模式匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-520">Match the pattern of one or more word characters followed by any white-space characters one or more times.</span></span>|  
|`(?<end>[.?!])`|<span data-ttu-id="5677c-521">匹配句号、问号或感叹号。</span><span class="sxs-lookup"><span data-stu-id="5677c-521">Match a period, question mark, or exclamation point.</span></span> <span data-ttu-id="5677c-522">将分配到的匹配的字符`end`捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-522">Assign the matched character to the `end` capturing group.</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Text.RegularExpressions.GroupCollection" />
        <related type="Article" href="https://msdn.microsoft.com/library/0fc18634-f590-4062-8d5c-f0b71abe405b"><span data-ttu-id="5677c-523">正则表达式中的分组构造</span><span class="sxs-lookup"><span data-stu-id="5677c-523">Grouping Constructs in Regular Expressions</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GroupNameFromNumber">
      <MemberSignature Language="C#" Value="public string GroupNameFromNumber (int i);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string GroupNameFromNumber(int32 i) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.GroupNameFromNumber(System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function GroupNameFromNumber (i As Integer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ GroupNameFromNumber(int i);" />
      <MemberSignature Language="F#" Value="member this.GroupNameFromNumber : int -&gt; string" Usage="regex.GroupNameFromNumber i" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="i" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="i"><span data-ttu-id="5677c-524">要转换为相应组名的组号。</span><span class="sxs-lookup"><span data-stu-id="5677c-524">The group number to convert to the corresponding group name.</span></span></param>
        <summary><span data-ttu-id="5677c-525">获取与指定组号相对应的组名。</span><span class="sxs-lookup"><span data-stu-id="5677c-525">Gets the group name that corresponds to the specified group number.</span></span></summary>
        <returns><span data-ttu-id="5677c-526">包含与指定组号关联的组名的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-526">A string that contains the group name associated with the specified group number.</span></span> <span data-ttu-id="5677c-527">如果没有与 <paramref name="i" /> 对应的组名，此方法会返回 <see cref="F:System.String.Empty" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-527">If there is no group name that corresponds to <paramref name="i" />, the method returns <see cref="F:System.String.Empty" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-528">正则表达式模式可能包含已命名或编号的捕获组，其中描述中的模式匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-528">A regular expression pattern may contain either named or numbered capturing groups, which delineate subexpressions within a pattern match.</span></span> <span data-ttu-id="5677c-529">分隔语法已编号的组 (*子表达式*) 和分配有根据正则表达式中其顺序的编号。</span><span class="sxs-lookup"><span data-stu-id="5677c-529">Numbered groups are delimited by the syntax (*subexpression*) and are assigned numbers based on their order in the regular expression.</span></span> <span data-ttu-id="5677c-530">已命名的组进行分隔语法 (？`<`*名称*`>`*subexpression*) 或 (？*名称*'*subexpression*)，其中*名称*是子表达式将标识的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-530">Named groups are delimited by the syntax (?`<`*name*`>`*subexpression*) or (?'*name*'*subexpression*), where *name* is the name by which the subexpression will be identified.</span></span> <span data-ttu-id="5677c-531">（有关详细信息，请参阅[分组构造](~/docs/standard/base-types/grouping-constructs-in-regular-expressions.md)。）<xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A>方法标识为命名的组和正则表达式中其序号位置的已编号的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-531">(For more information, see [Grouping Constructs](~/docs/standard/base-types/grouping-constructs-in-regular-expressions.md).) The <xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A> method identifies both named groups and numbered groups by their ordinal positions in the regular expression.</span></span> <span data-ttu-id="5677c-532">序号位置 0 始终表示整个正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-532">Ordinal position zero always represents the entire regular expression.</span></span> <span data-ttu-id="5677c-533">所有带编号组然后进行计数之前已命名的组，而不考虑其在正则表达式模式中的实际位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-533">All numbered groups are then counted before named groups, regardless of their actual position in the regular expression pattern.</span></span>  
  
 <span data-ttu-id="5677c-534">如果`i`是数的命名组，该方法返回的组的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-534">If `i` is the number of a named group, the method returns the name of the group.</span></span> <span data-ttu-id="5677c-535">如果`i`是数字的未命名的组，该方法返回数字的字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="5677c-535">If `i` is the number of an unnamed group, the method returns the string representation of the number.</span></span> <span data-ttu-id="5677c-536">例如，如果`i`为 1，该方法将返回"1"。</span><span class="sxs-lookup"><span data-stu-id="5677c-536">For example, if `i` is 1, the method returns "1".</span></span> <span data-ttu-id="5677c-537">如果`i`不是数字的捕获组，该方法将返回<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-537">If `i` is not the number of a capturing group, the method returns <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-538">如果找到的模式匹配，则此方法返回的值然后将用于检索<xref:System.Text.RegularExpressions.Group>对象，表示从捕获的组<xref:System.Text.RegularExpressions.GroupCollection.Item%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-538">If a pattern match is found, the value returned by this method can then be used to retrieve the <xref:System.Text.RegularExpressions.Group> object that represents the captured group from the <xref:System.Text.RegularExpressions.GroupCollection.Item%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="5677c-539"><xref:System.Text.RegularExpressions.GroupCollection>返回对象<xref:System.Text.RegularExpressions.Match.Groups%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-539">The <xref:System.Text.RegularExpressions.GroupCollection> object is returned by the <xref:System.Text.RegularExpressions.Match.Groups%2A?displayProperty=nameWithType> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-540">下面的示例定义匹配包含美国城市名称、 状态名称和邮政编码的地址行的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-540">The following example defines a regular expression pattern that matches an address line containing a U.S. city name, state name, and zip code.</span></span> <span data-ttu-id="5677c-541">该示例使用<xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A>方法来检索捕获组的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-541">The example uses the <xref:System.Text.RegularExpressions.Regex.GroupNameFromNumber%2A> method to retrieve the names of capturing groups.</span></span> <span data-ttu-id="5677c-542">然后使用这些名称来检索相应的捕获的组的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-542">It then uses these names to retrieve the corresponding captured groups for matches.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.GroupNameFromNumber#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.groupnamefromnumber/cs/groupnamefromnumberex.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.GroupNameFromNumber#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.groupnamefromnumber/vb/groupnamefromnumberex.vb#1)]  
  
 <span data-ttu-id="5677c-543">以下表达式所定义的正则表达式模式：</span><span class="sxs-lookup"><span data-stu-id="5677c-543">The regular expression pattern is defined by the following expression:</span></span>  
  
 `(?<city>[A-Za-z\s]+), (?<state>[A-Za-z]{2}) (?<zip>\d{5}(-\d{4})?)`  
  
 <span data-ttu-id="5677c-544">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-544">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-545">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-545">Pattern</span></span>|<span data-ttu-id="5677c-546">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-546">Description</span></span>|  
|-------------|-----------------|  
|`(?<city>[A-Za-z\s]+)`|<span data-ttu-id="5677c-547">匹配一个或多个字母或空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-547">Match one or more alphabetic or white-space character.</span></span> <span data-ttu-id="5677c-548">将此捕获的组的名称分配`city`。</span><span class="sxs-lookup"><span data-stu-id="5677c-548">Assign this captured group the name `city`.</span></span>|  
|`,`|<span data-ttu-id="5677c-549">匹配后跟一个空白字符的逗号 （，）。</span><span class="sxs-lookup"><span data-stu-id="5677c-549">Match a comma (,) followed by a white-space character.</span></span>|  
|`(?<state>[A-Za-z]{2})`|<span data-ttu-id="5677c-550">匹配两个字母字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-550">Match two alphabetic characters.</span></span> <span data-ttu-id="5677c-551">将此捕获的组的名称分配`state`。</span><span class="sxs-lookup"><span data-stu-id="5677c-551">Assign this captured group the name `state`.</span></span> <span data-ttu-id="5677c-552">此组应跟一个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-552">This group should be followed by a white-space character.</span></span>|  
|`(?<zip>\d{5}(-\d{4})?)`|<span data-ttu-id="5677c-553">匹配零个或一个匹配项的连字符后跟四个数字后跟五个数字。</span><span class="sxs-lookup"><span data-stu-id="5677c-553">Match five numeric digits followed by either zero or one occurrence of a hyphen followed by four digits.</span></span> <span data-ttu-id="5677c-554">将此捕获的组的名称分配`zip`。</span><span class="sxs-lookup"><span data-stu-id="5677c-554">Assign this captured group the name `zip`.</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Text.RegularExpressions.GroupCollection" />
        <altmember cref="M:System.Text.RegularExpressions.Regex.GetGroupNumbers" />
        <related type="Article" href="https://msdn.microsoft.com/library/0fc18634-f590-4062-8d5c-f0b71abe405b"><span data-ttu-id="5677c-555">分组构造</span><span class="sxs-lookup"><span data-stu-id="5677c-555">Grouping Constructs</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="GroupNumberFromName">
      <MemberSignature Language="C#" Value="public int GroupNumberFromName (string name);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int32 GroupNumberFromName(string name) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.GroupNumberFromName(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function GroupNumberFromName (name As String) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; int GroupNumberFromName(System::String ^ name);" />
      <MemberSignature Language="F#" Value="member this.GroupNumberFromName : string -&gt; int" Usage="regex.GroupNumberFromName name" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="name"><span data-ttu-id="5677c-556">要转换为相应组号的组名。</span><span class="sxs-lookup"><span data-stu-id="5677c-556">The group name to convert to the corresponding group number.</span></span></param>
        <summary><span data-ttu-id="5677c-557">返回与指定组名相对应的组号。</span><span class="sxs-lookup"><span data-stu-id="5677c-557">Returns the group number that corresponds to the specified group name.</span></span></summary>
        <returns><span data-ttu-id="5677c-558">与指定组名相对应的组号，如果 <paramref name="name" /> 不是有效组名，则为 -1。</span><span class="sxs-lookup"><span data-stu-id="5677c-558">The group number that corresponds to the specified group name, or -1 if <paramref name="name" /> is not a valid group name.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-559">正则表达式模式可能包含已命名或编号的捕获组，其中描述中的模式匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-559">A regular expression pattern may contain either named or numbered capturing groups, which delineate subexpressions within a pattern match.</span></span> <span data-ttu-id="5677c-560">分隔语法已编号的组 (*子表达式*) 和分配有根据正则表达式中其顺序的编号。</span><span class="sxs-lookup"><span data-stu-id="5677c-560">Numbered groups are delimited by the syntax (*subexpression*) and are assigned numbers based on their order in the regular expression.</span></span> <span data-ttu-id="5677c-561">已命名的组进行分隔语法 (？`<`*名称*`>`*subexpression*) 或 (？*名称*'*subexpression*)，其中*名称*是子表达式将标识的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-561">Named groups are delimited by the syntax (?`<`*name*`>`*subexpression*) or (?'*name*'*subexpression*), where *name* is the name by which the subexpression will be identified.</span></span> <span data-ttu-id="5677c-562">（有关详细信息，请参阅[分组构造](~/docs/standard/base-types/grouping-constructs-in-regular-expressions.md)。）<xref:System.Text.RegularExpressions.Regex.GroupNumberFromName%2A>方法标识为命名的组和正则表达式中其序号位置的已编号的组。</span><span class="sxs-lookup"><span data-stu-id="5677c-562">(For more information, see [Grouping Constructs](~/docs/standard/base-types/grouping-constructs-in-regular-expressions.md).) The <xref:System.Text.RegularExpressions.Regex.GroupNumberFromName%2A> method identifies both named groups and numbered groups by their ordinal positions in the regular expression.</span></span> <span data-ttu-id="5677c-563">序号位置 0 始终表示整个正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-563">Ordinal position zero always represents the entire regular expression.</span></span> <span data-ttu-id="5677c-564">所有带编号组然后进行计数之前已命名的组，而不考虑其在正则表达式模式中的实际位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-564">All numbered groups are then counted before named groups, regardless of their actual position in the regular expression pattern.</span></span>  
  
 <span data-ttu-id="5677c-565">如果`name`存在在正则表达式模式中，此方法返回该编号的组数字的字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="5677c-565">If `name` is the string representation of a group number that is present in the regular expression pattern, the method returns that number.</span></span> <span data-ttu-id="5677c-566">如果`name`对应于已命名捕获在正则表达式模式中存在的组，该方法返回其对应的编号。</span><span class="sxs-lookup"><span data-stu-id="5677c-566">If `name` corresponds to a named capturing group that is present in the regular expression pattern, the method returns its corresponding number.</span></span> <span data-ttu-id="5677c-567">比较`name`与组名称是区分大小写。</span><span class="sxs-lookup"><span data-stu-id="5677c-567">The comparison of `name` with the group name is case-sensitive.</span></span> <span data-ttu-id="5677c-568">如果`name`不对应到捕获组的名称或捕获组，该方法的数字的字符串表示形式返回-1。</span><span class="sxs-lookup"><span data-stu-id="5677c-568">If `name` does not correspond to the name of a capturing group or to the string representation of the number of a capturing group, the method returns -1.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-569"><paramref name="name" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-569"><paramref name="name" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="T:System.Text.RegularExpressions.GroupCollection" />
        <altmember cref="M:System.Text.RegularExpressions.Regex.GetGroupNames" />
        <related type="Article" href="https://msdn.microsoft.com/library/0fc18634-f590-4062-8d5c-f0b71abe405b"><span data-ttu-id="5677c-570">分组构造</span><span class="sxs-lookup"><span data-stu-id="5677c-570">Grouping Constructs</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="InfiniteMatchTimeout">
      <MemberSignature Language="C#" Value="public static readonly TimeSpan InfiniteMatchTimeout;" />
      <MemberSignature Language="ILAsm" Value=".field public static initonly valuetype System.TimeSpan InfiniteMatchTimeout" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />
      <MemberSignature Language="VB.NET" Value="Public Shared ReadOnly InfiniteMatchTimeout As TimeSpan " />
      <MemberSignature Language="C++ CLI" Value="public: static initonly TimeSpan InfiniteMatchTimeout;" />
      <MemberSignature Language="F#" Value=" staticval mutable InfiniteMatchTimeout : TimeSpan" Usage="System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.TimeSpan</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-571">指定模式匹配操作不应超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-571">Specifies that a pattern-matching operation should not time out.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-572"><xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>类构造函数和静态匹配方法使用<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout>常量，以指示尝试查找模式匹配应不会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-572">The <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> class constructor and a number of static matching methods use the <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout> constant to indicate that the attempt to find a pattern match should not time out.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="5677c-573">将正则表达式引擎的超时值设置为<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout>可能会导致依赖于过度回溯，才会出现停止响应时处理与正则表达式模式大致匹配的文本的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-573">Setting the regular expression engine's time-out value to <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout> can cause regular expressions that rely on excessive backtracking to appear to stop responding when processing text that nearly matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-574">如果禁用超时，应确保正则表达式不依赖于过度回溯，还可以处理与正则表达式模式大致匹配的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-574">If you disable time-outs, you should ensure that your regular expression does not rely on excessive backtracking and that it handles text that nearly matches the regular expression pattern.</span></span>  
>   
>  <span data-ttu-id="5677c-575">有关处理回溯的详细信息，请参阅[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-575">For more information about handling backtracking, see [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span>  
  
 <span data-ttu-id="5677c-576"><xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout>常量可作为的值提供`matchTimeout`自变量的以下成员：</span><span class="sxs-lookup"><span data-stu-id="5677c-576">The <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout> constant can be supplied as the value of the `matchTimeout` argument of the following members:</span></span>  
  
-   <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.RegexCompilationInfo.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.String%2CSystem.String%2CSystem.Boolean%2CSystem.TimeSpan%29?displayProperty=nameWithType>  
  
-   <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
-   <xref:System.Text.RegularExpressions.Regex.Split%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>  
  
 ]]></format>
        </remarks>
        <altmember cref="P:System.Text.RegularExpressions.Regex.MatchTimeout" />
      </Docs>
    </Member>
    <Member MemberName="InitializeReferences">
      <MemberSignature Language="C#" Value="protected void InitializeReferences ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance void InitializeReferences() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.InitializeReferences" />
      <MemberSignature Language="VB.NET" Value="Protected Sub InitializeReferences ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; void InitializeReferences();" />
      <MemberSignature Language="F#" Value="member this.InitializeReferences : unit -&gt; unit" Usage="regex.InitializeReferences " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-577">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-577">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.NotSupportedException"><span data-ttu-id="5677c-578">引用已初始化。</span><span class="sxs-lookup"><span data-stu-id="5677c-578">References have already been initialized.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="internalMatchTimeout">
      <MemberSignature Language="C#" Value="protected internal TimeSpan internalMatchTimeout;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly valuetype System.TimeSpan internalMatchTimeout" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.internalMatchTimeout" />
      <MemberSignature Language="VB.NET" Value="Protected Friend internalMatchTimeout As TimeSpan " />
      <MemberSignature Language="C++ CLI" Value="protected public: TimeSpan internalMatchTimeout;" />
      <MemberSignature Language="F#" Value="val mutable internalMatchTimeout : TimeSpan" Usage="System.Text.RegularExpressions.Regex.internalMatchTimeout" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netstandard-2.0;xamarinandroid-7.1;xamarinios-10.8;xamarinmac-3.0;netframework-4.8">
          <AttributeName>System.Runtime.Serialization.OptionalField(VersionAdded=2)</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.TimeSpan</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-579">操作超时之前在一个模式匹配操作中可以经过的最长时间。</span><span class="sxs-lookup"><span data-stu-id="5677c-579">The maximum amount of time that can elapse in a pattern-matching operation before the operation times out.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="IsMatch">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-580">指示正则表达式在输入字符串中是否找到匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-580">Indicates whether the regular expression finds a match in the input string.</span></span></summary>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-581">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-581">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="IsMatch">
      <MemberSignature Language="C#" Value="public bool IsMatch (string input);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool IsMatch(string input) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.IsMatch(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function IsMatch (input As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool IsMatch(System::String ^ input);" />
      <MemberSignature Language="F#" Value="member this.IsMatch : string -&gt; bool" Usage="regex.IsMatch input" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-582">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-582">The string to search for a match.</span></span></param>
        <summary><span data-ttu-id="5677c-583">指示 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数中指定的正则表达式在指定的输入字符串中是否找到了匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-583">Indicates whether the regular expression specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor finds a match in a specified input string.</span></span></summary>
        <returns><span data-ttu-id="5677c-584">如果正则表达式找到匹配项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-584"><see langword="true" /> if the regular expression finds a match; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-585"><xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法通常用于验证字符串或以确保符合特定模式的一个字符串，而无需检索该字符串以进行后续操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-585">The <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method is typically used to validate a string or to ensure that a string conforms to a particular pattern without retrieving that string for subsequent manipulation.</span></span> <span data-ttu-id="5677c-586">如果你想要确定是否一个或多个字符串与正则表达式模式匹配，然后检索成员以进行后续操作，调用<xref:System.Text.RegularExpressions.Regex.Match%2A>或<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-586">If you want to determine whether one or more strings match a regular expression pattern and then retrieve them for subsequent manipulation, call the <xref:System.Text.RegularExpressions.Regex.Match%2A> or <xref:System.Text.RegularExpressions.Regex.Matches%2A> method.</span></span>  
  
 <span data-ttu-id="5677c-587"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-587">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-588">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-588">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-589">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-589">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-590">下面的示例演示如何使用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29>方法来确定字符串是否是有效的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-590">The following example illustrates the use of the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29> method to determine whether a string is a valid part number.</span></span> <span data-ttu-id="5677c-591">正则表达式假定的部件号具有特定格式包含三个由连字符分隔的字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-591">The regular expression assumes that the part number has a specific format that consists of three sets of characters separated by hyphens.</span></span> <span data-ttu-id="5677c-592">第一个集，其中包含四个字符，必须由字母数字字符后跟两个数字字符后跟字母数字字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-592">The first set, which contains four characters, must consist of an alphanumeric character followed by two numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-593">第二个集，其中包括三个字符，必须为数值。</span><span class="sxs-lookup"><span data-stu-id="5677c-593">The second set, which consists of three characters, must be numeric.</span></span> <span data-ttu-id="5677c-594">第三个组，其中包括四个字符，必须以字母数字字符后跟三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-594">The third set, which consists of four characters, must have three numeric characters followed by an alphanumeric character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.IsMatch#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/cs/ismatch2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.IsMatch#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/vb/ismatch2.vb#2)]  
  
 <span data-ttu-id="5677c-595">正则表达式模式为：</span><span class="sxs-lookup"><span data-stu-id="5677c-595">The regular expression pattern is:</span></span>  
  
```  
^[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}){2}[A-Za-z0-9]$  
```  
  
 <span data-ttu-id="5677c-596">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-596">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-597">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-597">Pattern</span></span>|<span data-ttu-id="5677c-598">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-598">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-599">开始在行的开头匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-599">Begin the match at the beginning of the line.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-600">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-600">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`\d{2}`|<span data-ttu-id="5677c-601">匹配两个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-601">Match two numeric characters.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-602">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-602">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`-`|<span data-ttu-id="5677c-603">匹配连字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-603">Match a hyphen.</span></span>|  
|`\d{3}`|<span data-ttu-id="5677c-604">匹配三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-604">Match exactly three numeric characters.</span></span>|  
|`(-\d{3}){2}`|<span data-ttu-id="5677c-605">找到连字符后跟三个数字字符，并将匹配此模式的两个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-605">Find a hyphen followed by three numeric characters, and match two occurrences of this pattern.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-606">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-606">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`$`|<span data-ttu-id="5677c-607">结束行的末尾匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-607">End the match at the end of the line.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-608"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-608"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-609">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-609">A time-out occurred.</span></span> <span data-ttu-id="5677c-610">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-610">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-611">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-611">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsMatch">
      <MemberSignature Language="C#" Value="public bool IsMatch (string input, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance bool IsMatch(string input, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function IsMatch (input As String, startat As Integer) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; bool IsMatch(System::String ^ input, int startat);" />
      <MemberSignature Language="F#" Value="member this.IsMatch : string * int -&gt; bool" Usage="regex.IsMatch (input, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-612">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-612">The string to search for a match.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-613">开始搜索的字符位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-613">The character position at which to start the search.</span></span></param>
        <summary><span data-ttu-id="5677c-614">指示 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数中指定的正则表达式在指定的输入字符串中，从该字符串中的指定起始位置开始是否找到了匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-614">Indicates whether the regular expression specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor finds a match in the specified input string, beginning at the specified starting position in the string.</span></span></summary>
        <returns><span data-ttu-id="5677c-615">如果正则表达式找到匹配项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-615"><see langword="true" /> if the regular expression finds a match; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-616"><xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法通常用于验证字符串或以确保符合特定模式的一个字符串，而无需检索该字符串以进行后续操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-616">The <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method is typically used to validate a string or to ensure that a string conforms to a particular pattern without retrieving that string for subsequent manipulation.</span></span> <span data-ttu-id="5677c-617">如果你想要确定是否一个或多个字符串与正则表达式模式匹配，然后检索成员以进行后续操作，调用<xref:System.Text.RegularExpressions.Regex.Match%2A>或<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-617">If you want to determine whether one or more strings match a regular expression pattern and then retrieve them for subsequent manipulation, call the <xref:System.Text.RegularExpressions.Regex.Match%2A> or <xref:System.Text.RegularExpressions.Regex.Matches%2A> method.</span></span>  
  
 <span data-ttu-id="5677c-618"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-618">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-619">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-619">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-620">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-620">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-621">下面的示例演示如何使用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.Int32%29>方法来确定字符串是否是有效的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-621">The following example illustrates the use of the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.Int32%29> method to determine whether a string is a valid part number.</span></span> <span data-ttu-id="5677c-622">它会搜索为跟随字符串中的冒号 （:） 字符的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-622">It searches for a part number that follows a colon (:) character in a string.</span></span> <span data-ttu-id="5677c-623"><xref:System.String.IndexOf%28System.Char%29>方法用于确定冒号字符，然后传递到的位置<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.Int32%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-623">The <xref:System.String.IndexOf%28System.Char%29> method is used to determine the position of the colon character, which is then passed to the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.Int32%29> method.</span></span> <span data-ttu-id="5677c-624">正则表达式假定的部件号具有特定格式包含三个由连字符分隔的字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-624">The regular expression assumes that the part number has a specific format that consists of three sets of characters separated by hyphens.</span></span> <span data-ttu-id="5677c-625">第一个集，其中包含四个字符，必须由字母数字字符后跟两个数字字符后跟字母数字字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-625">The first set, which contains four characters, must consist of an alphanumeric character followed by two numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-626">第二个集，其中包括三个字符，必须为数值。</span><span class="sxs-lookup"><span data-stu-id="5677c-626">The second set, which consists of three characters, must be numeric.</span></span> <span data-ttu-id="5677c-627">第三个组，其中包括四个字符，必须以字母数字字符后跟三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-627">The third set, which consists of four characters, must have three numeric characters followed by an alphanumeric character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.IsMatch#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/cs/ismatch3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.IsMatch#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/vb/ismatch3.vb#3)]  
  
 <span data-ttu-id="5677c-628">正则表达式模式为：</span><span class="sxs-lookup"><span data-stu-id="5677c-628">The regular expression pattern is:</span></span>  
  
```  
[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}){2}[A-Za-z0-9]$  
```  
  
 <span data-ttu-id="5677c-629">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-629">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-630">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-630">Pattern</span></span>|<span data-ttu-id="5677c-631">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-631">Description</span></span>|  
|-------------|-----------------|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-632">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-632">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`\d{2}`|<span data-ttu-id="5677c-633">匹配两个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-633">Match two numeric characters.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-634">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-634">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`-`|<span data-ttu-id="5677c-635">匹配连字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-635">Match a hyphen.</span></span>|  
|`\d{3}`|<span data-ttu-id="5677c-636">匹配三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-636">Match exactly three numeric characters.</span></span>|  
|`(-\d{3}){2}`|<span data-ttu-id="5677c-637">找到连字符后跟三个数字字符，并将匹配此模式的两个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-637">Find a hyphen followed by three numeric characters, and match two occurrences of this pattern.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-638">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-638">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`$`|<span data-ttu-id="5677c-639">结束行的末尾匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-639">End the match at the end of the line.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-640"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-640"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-641"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-641"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-642">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-642">A time-out occurred.</span></span> <span data-ttu-id="5677c-643">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-643">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-644">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-644">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsMatch">
      <MemberSignature Language="C#" Value="public static bool IsMatch (string input, string pattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsMatch(string input, string pattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsMatch (input As String, pattern As String) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsMatch(System::String ^ input, System::String ^ pattern);" />
      <MemberSignature Language="F#" Value="static member IsMatch : string * string -&gt; bool" Usage="System.Text.RegularExpressions.Regex.IsMatch (input, pattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-645">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-645">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-646">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-646">The regular expression pattern to match.</span></span></param>
        <summary><span data-ttu-id="5677c-647">指示所指定的正则表达式在指定的输入字符串中是否找到了匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-647">Indicates whether the specified regular expression finds a match in the specified input string.</span></span></summary>
        <returns><span data-ttu-id="5677c-648">如果正则表达式找到匹配项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-648"><see langword="true" /> if the regular expression finds a match; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-649"><xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法通常用于验证字符串或以确保符合特定模式的一个字符串，而无需检索该字符串以进行后续操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-649">The <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method is typically used to validate a string or to ensure that a string conforms to a particular pattern without retrieving that string for subsequent manipulation.</span></span> <span data-ttu-id="5677c-650">如果你想要确定是否一个或多个字符串与正则表达式模式匹配，然后检索成员以进行后续操作，调用<xref:System.Text.RegularExpressions.Regex.Match%2A>或<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-650">If you want to determine whether one or more strings match a regular expression pattern and then retrieve them for subsequent manipulation, call the <xref:System.Text.RegularExpressions.Regex.Match%2A> or <xref:System.Text.RegularExpressions.Regex.Matches%2A> method.</span></span>  
  
 <span data-ttu-id="5677c-651">静态<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式`pattern`并调用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29>实例方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-651">The static <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the regular expression pattern specified by `pattern` and calling the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29> instance method.</span></span> <span data-ttu-id="5677c-652">此正则表达式模式由正则表达式引擎缓存供快速检索。</span><span class="sxs-lookup"><span data-stu-id="5677c-652">This regular expression pattern is cached for rapid retrieval by the regular expression engine.</span></span>  
  
 <span data-ttu-id="5677c-653">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-653">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-654">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-654">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-655"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-655">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-656">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-656">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-657">下面的示例演示如何使用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29>方法来确定字符串是否是有效的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-657">The following example illustrates the use of the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29> method to determine whether a string is a valid part number.</span></span> <span data-ttu-id="5677c-658">正则表达式假定的部件号具有特定格式包含三个由连字符分隔的字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-658">The regular expression assumes that the part number has a specific format that consists of three sets of characters separated by hyphens.</span></span> <span data-ttu-id="5677c-659">第一个集，其中包含四个字符，必须由字母数字字符后跟两个数字字符后跟字母数字字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-659">The first set, which contains four characters, must consist of an alphanumeric character followed by two numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-660">第二个集，其中包括三个字符，必须为数值。</span><span class="sxs-lookup"><span data-stu-id="5677c-660">The second set, which consists of three characters, must be numeric.</span></span> <span data-ttu-id="5677c-661">第三个组，其中包括四个字符，必须以字母数字字符后跟三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-661">The third set, which consists of four characters, must have three numeric characters followed by an alphanumeric character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.IsMatch#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/cs/ismatch1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.IsMatch#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/vb/ismatch1.vb#1)]  
  
 <span data-ttu-id="5677c-662">正则表达式模式为：</span><span class="sxs-lookup"><span data-stu-id="5677c-662">The regular expression pattern is:</span></span>  
  
```  
^[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}){2}[A-Za-z0-9]$  
```  
  
 <span data-ttu-id="5677c-663">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-663">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-664">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-664">Pattern</span></span>|<span data-ttu-id="5677c-665">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-665">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-666">开始在行的开头匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-666">Begin the match at the beginning of the line.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-667">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-667">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`\d{2}`|<span data-ttu-id="5677c-668">匹配两个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-668">Match two numeric characters.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-669">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-669">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`-`|<span data-ttu-id="5677c-670">匹配连字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-670">Match a hyphen.</span></span>|  
|`\d{3}`|<span data-ttu-id="5677c-671">匹配三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-671">Match exactly three numeric characters.</span></span>|  
|`(-\d{3}){2}`|<span data-ttu-id="5677c-672">找到连字符后跟三个数字字符，并将匹配此模式的两个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-672">Find a hyphen followed by three numeric characters, and match two occurrences of this pattern.</span></span>|  
|`[a-zA-Z0-9]`|<span data-ttu-id="5677c-673">匹配的单个字母字符 (`a`通过`z`或`A`通过`Z`) 或数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-673">Match a single alphabetic character (`a` through `z` or `A` through `Z`) or numeric character.</span></span>|  
|`$`|<span data-ttu-id="5677c-674">结束行的末尾匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-674">End the match at the end of the line.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-675">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-675">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-676"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-676"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-677">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-677">A time-out occurred.</span></span> <span data-ttu-id="5677c-678">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-678">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-679">此方法等同于在其中调用该方法的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-679">This method times out after an interval that is equal to the default time-out value of the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-680">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-680">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-681">推荐的静态方法用于验证的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-681">The recommended static method for verifying a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-682">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-682">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsMatch">
      <MemberSignature Language="C#" Value="public static bool IsMatch (string input, string pattern, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsMatch(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsMatch (input As String, pattern As String, options As RegexOptions) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsMatch(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member IsMatch : string * string * System.Text.RegularExpressions.RegexOptions -&gt; bool" Usage="System.Text.RegularExpressions.Regex.IsMatch (input, pattern, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-683">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-683">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-684">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-684">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-685">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-685">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-686">指示所指定的正则表达式是否使用指定的匹配选项在指定的输入字符串中找到了匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-686">Indicates whether the specified regular expression finds a match in the specified input string, using the specified matching options.</span></span></summary>
        <returns><span data-ttu-id="5677c-687">如果正则表达式找到匹配项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-687"><see langword="true" /> if the regular expression finds a match; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-688"><xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法通常用于验证字符串或以确保符合特定模式的一个字符串，而无需检索该字符串以进行后续操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-688">The <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method is typically used to validate a string or to ensure that a string conforms to a particular pattern without retrieving that string for subsequent manipulation.</span></span> <span data-ttu-id="5677c-689">如果你想要确定是否一个或多个字符串与正则表达式模式匹配，然后检索成员以进行后续操作，调用<xref:System.Text.RegularExpressions.Regex.Match%2A>或<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-689">If you want to determine whether one or more strings match a regular expression pattern and then retrieve them for subsequent manipulation, call the <xref:System.Text.RegularExpressions.Regex.Match%2A> or <xref:System.Text.RegularExpressions.Regex.Matches%2A> method.</span></span>  
  
 <span data-ttu-id="5677c-690">静态<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式`pattern`和指定的正则表达式选项`options`并调用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29>实例方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-690">The static <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the regular expression pattern specified by `pattern` and the regular expression options specified by `options` and calling the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29> instance method.</span></span> <span data-ttu-id="5677c-691">此正则表达式模式由正则表达式引擎缓存供快速检索。</span><span class="sxs-lookup"><span data-stu-id="5677c-691">This regular expression pattern is cached for rapid retrieval by the regular expression engine.</span></span>  
  
 <span data-ttu-id="5677c-692">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-692">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-693">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-693">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-694"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-694">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-695">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-695">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-696">下面的示例演示如何使用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29>方法来确定字符串是否是有效的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-696">The following example illustrates the use of the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29> method to determine whether a string is a valid part number.</span></span> <span data-ttu-id="5677c-697">正则表达式假定的部件号具有特定格式包含三个由连字符分隔的字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-697">The regular expression assumes that the part number has a specific format that consists of three sets of characters separated by hyphens.</span></span> <span data-ttu-id="5677c-698">第一个集，其中包含四个字符，必须由字母数字字符后跟两个数字字符后跟字母数字字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-698">The first set, which contains four characters, must consist of an alphanumeric character followed by two numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-699">第二个集，其中包括三个字符，必须为数值。</span><span class="sxs-lookup"><span data-stu-id="5677c-699">The second set, which consists of three characters, must be numeric.</span></span> <span data-ttu-id="5677c-700">第三个组，其中包括四个字符，必须以字母数字字符后跟三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-700">The third set, which consists of four characters, must have three numeric characters followed by an alphanumeric character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.IsMatch#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/cs/ismatch4.cs#4)]
 [!code-vb[System.Text.RegularExpressions.Regex.IsMatch#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/vb/ismatch4.vb#4)]  
  
 <span data-ttu-id="5677c-701">正则表达式模式为：</span><span class="sxs-lookup"><span data-stu-id="5677c-701">The regular expression pattern is:</span></span>  
  
```  
^[A-Z0-9]\d{2}[A-Z0-9](-\d{3}){2}[A-Z0-9]$  
```  
  
 <span data-ttu-id="5677c-702">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-702">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-703">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-703">Pattern</span></span>|<span data-ttu-id="5677c-704">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-704">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-705">从字符串开头开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-705">Begin the match at the beginning of the string.</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-706">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-706">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`\d{2}`|<span data-ttu-id="5677c-707">匹配两个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-707">Match two numeric characters.</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-708">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-708">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`-`|<span data-ttu-id="5677c-709">匹配连字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-709">Match a hyphen.</span></span>|  
|`\d{3}`|<span data-ttu-id="5677c-710">匹配三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-710">Match exactly three numeric characters.</span></span>|  
|`(-\d{3}){2}`|<span data-ttu-id="5677c-711">找到连字符后跟三个数字字符，并将匹配此模式的两个匹配项...</span><span class="sxs-lookup"><span data-stu-id="5677c-711">Find a hyphen followed by three numeric characters, and match two occurrences of this pattern..</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-712">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-712">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`$`|<span data-ttu-id="5677c-713">在字符串的结尾结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-713">End the match at the end of the string.</span></span>|  
  
 <span data-ttu-id="5677c-714">调用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法替换`options`参数设置为<xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType>等效于定义以下正则表达式：</span><span class="sxs-lookup"><span data-stu-id="5677c-714">Calling the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method with the `options` parameter set to <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> is equivalent to defining the following regular expression:</span></span>  
  
```  
[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}){2}[A-Za-z0-9]  
```  
  
 <span data-ttu-id="5677c-715">有关比较，请参阅示例<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-715">For comparison, see the example for the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-716">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-716">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-717"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-717"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-718"><paramref name="options" /> 不是有效的 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值。</span><span class="sxs-lookup"><span data-stu-id="5677c-718"><paramref name="options" /> is not a valid <see cref="T:System.Text.RegularExpressions.RegexOptions" /> value.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-719">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-719">A time-out occurred.</span></span> <span data-ttu-id="5677c-720">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-720">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-721">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-721">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-722">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-722">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-723">推荐的静态方法用于验证的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-723">The recommended static method for verifying a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-724">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-724">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="IsMatch">
      <MemberSignature Language="C#" Value="public static bool IsMatch (string input, string pattern, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig bool IsMatch(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.IsMatch(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function IsMatch (input As String, pattern As String, options As RegexOptions, matchTimeout As TimeSpan) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static bool IsMatch(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member IsMatch : string * string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; bool" Usage="System.Text.RegularExpressions.Regex.IsMatch (input, pattern, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-725">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-725">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-726">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-726">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-727">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-727">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-728">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-728">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-729">指示所指定的正则表达式是否使用指定的匹配选项和超时间隔在指定的输入字符串中找到了匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-729">Indicates whether the specified regular expression finds a match in the specified input string, using the specified matching options and time-out interval.</span></span></summary>
        <returns><span data-ttu-id="5677c-730">如果正则表达式找到匹配项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-730"><see langword="true" /> if the regular expression finds a match; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-731"><xref:System.Text.RegularExpressions.Regex.IsMatch%2A>方法通常用于验证字符串或以确保符合特定模式的一个字符串，而无需检索该字符串以进行后续操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-731">The <xref:System.Text.RegularExpressions.Regex.IsMatch%2A> method is typically used to validate a string or to ensure that a string conforms to a particular pattern without retrieving that string for subsequent manipulation.</span></span> <span data-ttu-id="5677c-732">如果你想要确定是否一个或多个字符串与正则表达式模式匹配，然后检索成员以进行后续操作，调用<xref:System.Text.RegularExpressions.Regex.Match%2A>或<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-732">If you want to determine whether one or more strings match a regular expression pattern and then retrieve them for subsequent manipulation, call the <xref:System.Text.RegularExpressions.Regex.Match%2A> or <xref:System.Text.RegularExpressions.Regex.Matches%2A> method.</span></span>  
  
 <span data-ttu-id="5677c-733">静态<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式`pattern`和指定的正则表达式选项`options`并调用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29>实例方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-733">The static <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the regular expression pattern specified by `pattern` and the regular expression options specified by `options` and calling the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%29> instance method.</span></span> <span data-ttu-id="5677c-734">此正则表达式模式由正则表达式引擎缓存供快速检索。</span><span class="sxs-lookup"><span data-stu-id="5677c-734">This regular expression pattern is cached for rapid retrieval by the regular expression engine.</span></span>  
  
 <span data-ttu-id="5677c-735">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-735">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-736">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-736">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-737">`matchTimeout`参数指定如何长时间模式匹配方法应尝试超时之前找到匹配项。将设置的超时间隔可阻止依赖于过度回溯出现停止响应时它们处理输入的正则表达式，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-737">The `matchTimeout` parameter specifies how long a pattern matching method should try to find a match before it times out. Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-738">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-738">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-739">如果在该时间间隔内不找到任何匹配项，则该方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-739">If no match is found in that time interval, the method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-740">`matchTimeout` 重写应用程序域执行该方法定义的任何默认超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-740">`matchTimeout` overrides any default time-out value defined for the application domain in which the method executes.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-741">下面的示例演示如何使用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法来确定字符串是否是有效的部件号。</span><span class="sxs-lookup"><span data-stu-id="5677c-741">The following example illustrates the use of the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method to determine whether a string is a valid part number.</span></span> <span data-ttu-id="5677c-742">正则表达式假定的部件号具有特定格式包含三个由连字符分隔的字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-742">The regular expression assumes that the part number has a specific format that consists of three sets of characters separated by hyphens.</span></span> <span data-ttu-id="5677c-743">第一个集，其中包含四个字符，必须由字母数字字符后跟两个数字字符后跟字母数字字符组成。</span><span class="sxs-lookup"><span data-stu-id="5677c-743">The first set, which contains four characters, must consist of an alphanumeric character followed by two numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-744">第二个集，其中包括三个字符，必须为数值。</span><span class="sxs-lookup"><span data-stu-id="5677c-744">The second set, which consists of three characters, must be numeric.</span></span> <span data-ttu-id="5677c-745">第三个组，其中包括四个字符，必须以字母数字字符后跟三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-745">The third set, which consists of four characters, must have three numeric characters followed by an alphanumeric character.</span></span> <span data-ttu-id="5677c-746">匹配正则表达式模式应涉及最少搜索输入字符串，因此，该方法设置的超时间隔为 500 毫秒。</span><span class="sxs-lookup"><span data-stu-id="5677c-746">Matching the regular expression pattern should involve minimal searching through the input string, so the method sets a time-out interval of 500 milliseconds.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.IsMatch#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/cs/ismatch5.cs#5)]
 [!code-vb[System.Text.RegularExpressions.Regex.IsMatch#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.ismatch/vb/ismatch5.vb#5)]  
  
 <span data-ttu-id="5677c-747">正则表达式模式为：</span><span class="sxs-lookup"><span data-stu-id="5677c-747">The regular expression pattern is:</span></span>  
  
```  
^[A-Z0-9]\d{2}[A-Z0-9](-\d{3}){2}[A-Z0-9]$  
```  
  
 <span data-ttu-id="5677c-748">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-748">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-749">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-749">Pattern</span></span>|<span data-ttu-id="5677c-750">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-750">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-751">从字符串开头开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-751">Begin the match at the beginning of the string.</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-752">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-752">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`\d{2}`|<span data-ttu-id="5677c-753">匹配两个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-753">Match two numeric characters.</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-754">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-754">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`-`|<span data-ttu-id="5677c-755">匹配连字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-755">Match a hyphen.</span></span>|  
|`\d{3}`|<span data-ttu-id="5677c-756">匹配三个数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-756">Match exactly three numeric characters.</span></span>|  
|`(-\d{3}){2}`|<span data-ttu-id="5677c-757">找到连字符后跟三个数字字符，并将匹配此模式的两个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-757">Find a hyphen followed by three numeric characters, and match two occurrences of this pattern.</span></span>|  
|`[A-Z0-9]`|<span data-ttu-id="5677c-758">匹配任何单个字母字符`A`通过`Z`，或任意数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-758">Match any single alphabetic character from `A` through `Z`, or any numeric character.</span></span>|  
|`$`|<span data-ttu-id="5677c-759">在字符串的结尾结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-759">End the match at the end of the string.</span></span>|  
  
 <span data-ttu-id="5677c-760">调用<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法替换`options`参数设置为<xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType>等效于定义以下正则表达式：</span><span class="sxs-lookup"><span data-stu-id="5677c-760">Calling the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method with the `options` parameter set to <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> is equivalent to defining the following regular expression:</span></span>  
  
```  
[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}){2}[A-Za-z0-9]  
```  
  
 <span data-ttu-id="5677c-761">有关比较，请参阅示例<xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-761">For comparison, see the example for the <xref:System.Text.RegularExpressions.Regex.IsMatch%28System.String%2CSystem.String%29> method.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-762">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-762">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-763"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-763"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-764"><paramref name="options" /> 不是有效的 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值。</span><span class="sxs-lookup"><span data-stu-id="5677c-764"><paramref name="options" /> is not a valid <see cref="T:System.Text.RegularExpressions.RegexOptions" /> value.</span></span>  
  
<span data-ttu-id="5677c-765">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-765">-or-</span></span> 
 <span data-ttu-id="5677c-766"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-766"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-767">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-767">A time-out occurred.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-768">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-768">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-769">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-769">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-770">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-770">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-771">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-771">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-772">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-772">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-773">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-773">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-774">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-774">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-775">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-775">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="Match">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-776">在输入字符串中搜索匹配正则表达式模式的子字符串，并将第一个匹配项作为单个 <see cref="T:System.Text.RegularExpressions.Match" /> 对象返回。</span><span class="sxs-lookup"><span data-stu-id="5677c-776">Searches an input string for a substring that matches a regular expression pattern and returns the first occurrence as a single <see cref="T:System.Text.RegularExpressions.Match" /> object.</span></span></summary>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-777">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-777">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.Match Match (string input);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Text.RegularExpressions.Match Match(string input) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function Match (input As String) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Text::RegularExpressions::Match ^ Match(System::String ^ input);" />
      <MemberSignature Language="F#" Value="member this.Match : string -&gt; System.Text.RegularExpressions.Match" Usage="regex.Match input" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-778">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-778">The string to search for a match.</span></span></param>
        <summary><span data-ttu-id="5677c-779">在指定的输入字符串中搜索 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数中指定的正则表达式的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-779">Searches the specified input string for the first occurrence of the regular expression specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor.</span></span></summary>
        <returns><span data-ttu-id="5677c-780">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-780">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-781"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法返回输入字符串中的正则表达式模式匹配的第一个子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-781">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method returns the first substring that matches a regular expression pattern in an input string.</span></span> <span data-ttu-id="5677c-782">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-782">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-783">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-783">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-784">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-784">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-785">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-785">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-786">此方法返回中的第一个子字符串`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-786">This method returns the first substring in `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-787">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-787">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="5677c-788">此外可以通过调用来检索单个方法调用中的所有匹配<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-788">You can also retrieve all matches in a single method call by calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-789"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-789">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-790">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-790">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-791">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-791">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-792">下面的示例查找正则表达式模式匹配在字符串中，然后列出匹配组、 捕获的内容和捕获位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-792">The following example finds regular expression pattern matches in a string, then lists the matched groups, captures, and capture positions.</span></span>  
  
 [!code-cpp[Regex Match, NextMatch, Groups, Captures#8](~/samples/snippets/cpp/VS_Snippets_CLR/regex match, nextmatch, groups, captures/cpp/snippet8.cpp#8)]
 [!code-csharp[Regex Match, NextMatch, Groups, Captures#8](~/samples/snippets/csharp/VS_Snippets_CLR/regex match, nextmatch, groups, captures/cs/snippet8.cs#8)]
 [!code-vb[Regex Match, NextMatch, Groups, Captures#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/regex match, nextmatch, groups, captures/vb/snippet8.vb#8)]  
  
 <span data-ttu-id="5677c-793">正则表达式模式`(\w+)\s+(car)`匹配单词"car"以及它前面的字词的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-793">The regular expression pattern `(\w+)\s+(car)` matches occurrences of the word "car" along with the word that precedes it.</span></span> <span data-ttu-id="5677c-794">它被解释为下表中所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-794">It is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-795">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-795">Pattern</span></span>|<span data-ttu-id="5677c-796">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-796">Description</span></span>|  
|-------------|-----------------|  
|`(\w+)`|<span data-ttu-id="5677c-797">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-797">Match one or more word characters.</span></span> <span data-ttu-id="5677c-798">这是第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-798">This is the first capturing group.</span></span>|  
|`\s+`|<span data-ttu-id="5677c-799">匹配一个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-799">Match one or more white-space characters.</span></span>|  
|<span data-ttu-id="5677c-800">(car)</span><span class="sxs-lookup"><span data-stu-id="5677c-800">(car)</span></span>|<span data-ttu-id="5677c-801">匹配文本字符串"car"。</span><span class="sxs-lookup"><span data-stu-id="5677c-801">Match the literal string "car".</span></span> <span data-ttu-id="5677c-802">这是第二个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-802">This is the second capturing group.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-803"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-803"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-804">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-804">A time-out occurred.</span></span> <span data-ttu-id="5677c-805">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-805">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="M:System.Text.RegularExpressions.Match.NextMatch" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-806">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-806">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.Match Match (string input, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Text.RegularExpressions.Match Match(string input, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Match (input As String, startat As Integer) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Text::RegularExpressions::Match ^ Match(System::String ^ input, int startat);" />
      <MemberSignature Language="F#" Value="member this.Match : string * int -&gt; System.Text.RegularExpressions.Match" Usage="regex.Match (input, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-807">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-807">The string to search for a match.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-808">开始搜索的字符位置（从零开始）。</span><span class="sxs-lookup"><span data-stu-id="5677c-808">The zero-based character position at which to start the search.</span></span></param>
        <summary><span data-ttu-id="5677c-809">从输入字符串中的指定起始位置开始，在该字符串中搜索正则表达式的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-809">Searches the input string for the first occurrence of a regular expression, beginning at the specified starting position in the string.</span></span></summary>
        <returns><span data-ttu-id="5677c-810">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-810">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-811"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29>方法返回与匹配正则表达式模式，启动时或之后的第一个子字符串`startat`字符位置，在输入字符串中。</span><span class="sxs-lookup"><span data-stu-id="5677c-811">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29> method returns the first substring that matches a regular expression pattern, starting at or after the `startat` character position, in an input string.</span></span> <span data-ttu-id="5677c-812">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-812">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-813">为其正则表达式模式<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29>方法搜索定义之一调用<xref:System.Text.RegularExpressions.Regex>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-813">The regular expression pattern for which the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29> method searches is defined by the call to one of the <xref:System.Text.RegularExpressions.Regex> class constructors.</span></span> <span data-ttu-id="5677c-814">有关元素构成的正则表达式模式的详细信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-814">For more information about the elements that can form a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-815">可以选择通过使用指定字符串中的起始位置`startat`参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-815">You can optionally specify a starting position in the string by using the `startat` parameter.</span></span> <span data-ttu-id="5677c-816">当正则表达式引擎分析从左到右 （默认值） 时，匹配和扫描将移向右，从中指定的字符处开始`startat`。</span><span class="sxs-lookup"><span data-stu-id="5677c-816">When the regular expression engine parses from left to right (the default), the match and the scan move rightward, starting at the character specified in `startat`.</span></span> <span data-ttu-id="5677c-817">正则表达式引擎从右到左的分析时 (当正则表达式模式构造与<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType>选项)，匹配和扫描中相反方向移动，以在字符开头`startat`-1。</span><span class="sxs-lookup"><span data-stu-id="5677c-817">When the regular expression engine parses from right to left (when the regular expression pattern is constructed with the <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> option), the match and scan move in the opposite direction and begin with the character at `startat` -1.</span></span> <span data-ttu-id="5677c-818">如果未指定起始位置，开始为默认值执行搜索`startat`位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-818">If you do not specify a starting position, the search begins at the default `startat` position.</span></span> <span data-ttu-id="5677c-819">如果正则表达式进行搜索，从左到右，默认值`startat`位置位于的左端`input`; 如果它将搜索从右到左，默认`startat`位置位于右端的`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-819">If the regular expression searches from left to right, the default `startat` position is at the left end of `input`; if it searches from right to left, the default `startat` position is at the right end of `input`.</span></span>  
  
 <span data-ttu-id="5677c-820">如果你想要限制匹配项，以便它在字符串中特定的字符位置开始，并且正则表达式引擎不会扫描匹配项的字符串的其余部分，定位到正则表达式和`\G`（在从左到右的左侧模式中，或从右到左模式右侧)。</span><span class="sxs-lookup"><span data-stu-id="5677c-820">If you want to restrict a match so that it begins at a particular character position in the string and the regular expression engine does not scan the remainder of the string for a match, anchor the regular expression with a `\G` (at the left for a left-to-right pattern, or at the right for a right-to-left pattern).</span></span> <span data-ttu-id="5677c-821">这会限制匹配，因此它必须恰好在启动`startat`。</span><span class="sxs-lookup"><span data-stu-id="5677c-821">This restricts the match so it must start exactly at `startat`.</span></span>  
  
 <span data-ttu-id="5677c-822">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-822">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-823">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-823">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-824">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-824">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-825">此方法返回找到时或之后的第一个子字符串`startat`的字符位置`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-825">This method returns the first substring found at or after the `startat` character position in `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-826">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-826">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="5677c-827">此外可以通过调用来检索单个方法调用中的所有匹配<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-827">You can also retrieve all matches in a single method call by calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-828"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-828">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-829">如果操作超过任何超时值来建立在其中应用程序域时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-829">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exeeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-830">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-830">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-831"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-831"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-832"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-832"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-833">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-833">A time-out occurred.</span></span> <span data-ttu-id="5677c-834">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-834">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="M:System.Text.RegularExpressions.Match.NextMatch" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-835">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-835">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.Match Match (string input, string pattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.Match Match(string input, string pattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Match (input As String, pattern As String) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::Match ^ Match(System::String ^ input, System::String ^ pattern);" />
      <MemberSignature Language="F#" Value="static member Match : string * string -&gt; System.Text.RegularExpressions.Match" Usage="System.Text.RegularExpressions.Regex.Match (input, pattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-836">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-836">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-837">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-837">The regular expression pattern to match.</span></span></param>
        <summary><span data-ttu-id="5677c-838">在指定的输入字符串中搜索指定的正则表达式的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-838">Searches the specified input string for the first occurrence of the specified regular expression.</span></span></summary>
        <returns><span data-ttu-id="5677c-839">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-839">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-840"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29>方法返回输入字符串中的正则表达式模式匹配的第一个子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-840">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29> method returns the first substring that matches a regular expression pattern in an input string.</span></span> <span data-ttu-id="5677c-841">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-841">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-842">静态<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-842">The static <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method.</span></span> <span data-ttu-id="5677c-843">在这种情况下，正则表达式引擎缓存正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-843">In this case, the regular expression engine caches the regular expression pattern.</span></span>  
  
 <span data-ttu-id="5677c-844">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-844">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-845">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-845">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-846">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-846">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-847">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-847">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-848">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-848">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-849">此方法返回中的第一个子字符串`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-849">This method returns the first substring in `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-850">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-850">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="5677c-851">此外可以通过调用来检索单个方法调用中的所有匹配<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-851">You can also retrieve all matches in a single method call by calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-852"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-852">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-853">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-853">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-854">下面的示例调用<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29>方法以查找包含至少一个的第一个单词`z`字符，然后调用<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法查找任何其他匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-854">The following example calls the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29> method to find the first word that contains at least one `z` character, and then calls the <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method to find any additional matches.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Match#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.match/cs/match1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Match#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.match/vb/match1.vb#1)]  
  
 <span data-ttu-id="5677c-855">正则表达式模式 `\b\w*z+\w*\b` 的含义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-855">The regular expression pattern `\b\w*z+\w*\b` is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-856">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-856">Pattern</span></span>|<span data-ttu-id="5677c-857">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-857">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-858">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-858">Begin the match at a word boundary.</span></span>|  
|`\w*`|<span data-ttu-id="5677c-859">匹配零个、 一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-859">Match zero, one, or more word characters.</span></span>|  
|`z+`|<span data-ttu-id="5677c-860">匹配一个或多个匹配项的`z`字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-860">Match one or more occurrences of the `z` character.</span></span>|  
|`\w*`|<span data-ttu-id="5677c-861">匹配零个、 一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-861">Match zero, one, or more word characters.</span></span>|  
|`\b`|<span data-ttu-id="5677c-862">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-862">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-863">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-863">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-864"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-864"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-865">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-865">A time-out occurred.</span></span> <span data-ttu-id="5677c-866">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-866">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-867">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-867">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-868">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-868">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-869">推荐的静态方法检索的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-869">The recommended static method for retrieving a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String)" />, which lets you set the time-out interval.</span></span></para></block>
        <altmember cref="M:System.Text.RegularExpressions.Match.NextMatch" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-870">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-870">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.Match Match (string input, int beginning, int length);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Text.RegularExpressions.Match Match(string input, int32 beginning, int32 length) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String,System.Int32,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Match (input As String, beginning As Integer, length As Integer) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Text::RegularExpressions::Match ^ Match(System::String ^ input, int beginning, int length);" />
      <MemberSignature Language="F#" Value="member this.Match : string * int * int -&gt; System.Text.RegularExpressions.Match" Usage="regex.Match (input, beginning, length)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="beginning" Type="System.Int32" />
        <Parameter Name="length" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-871">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-871">The string to search for a match.</span></span></param>
        <param name="beginning"><span data-ttu-id="5677c-872">输入字符串中从零开始的字符位置，它定义要搜索的最左侧的位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-872">The zero-based character position in the input string that defines the leftmost position to be searched.</span></span></param>
        <param name="length"><span data-ttu-id="5677c-873">子字符串中包含在搜索中的字符数。</span><span class="sxs-lookup"><span data-stu-id="5677c-873">The number of characters in the substring to include in the search.</span></span></param>
        <summary><span data-ttu-id="5677c-874">从指定的起始位置开始，在输入字符串中搜索正则表达式的第一个匹配项，并且仅搜索指定数量的字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-874">Searches the input string for the first occurrence of a regular expression, beginning at the specified starting position and searching only the specified number of characters.</span></span></summary>
        <returns><span data-ttu-id="5677c-875">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-875">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-876"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29>方法返回输入字符串的一部分中的正则表达式模式匹配的第一个子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-876">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29> method returns the first substring that matches a regular expression pattern in a portion of an input string.</span></span> <span data-ttu-id="5677c-877">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-877">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-878">为其正则表达式模式<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29>方法搜索定义之一调用<xref:System.Text.RegularExpressions.Regex>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-878">The regular expression pattern for which the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29> method searches is defined by the call to one of the <xref:System.Text.RegularExpressions.Regex> class constructors.</span></span> <span data-ttu-id="5677c-879">有关元素构成的正则表达式模式的详细信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-879">For more information about the elements that can form a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-880"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29>方法搜索的一部分`input`由定义`beginning`和`length`正则表达式模式的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-880">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%2CSystem.Int32%29> method searches the portion of `input` defined by the `beginning` and `length` parameters for the regular expression pattern.</span></span> <span data-ttu-id="5677c-881">`beginning` 始终定义要在搜索中包括的最左侧字符的索引和`length`定义要搜索的字符最大数目。</span><span class="sxs-lookup"><span data-stu-id="5677c-881">`beginning` always defines the index of the leftmost character to include in the search, and `length` defines the maximum number of characters to search.</span></span> <span data-ttu-id="5677c-882">它们一起定义搜索的范围。</span><span class="sxs-lookup"><span data-stu-id="5677c-882">Together, they define the range of the search.</span></span> <span data-ttu-id="5677c-883">如果搜索继续从左到右 （默认值），正则表达式引擎将搜索从索引处的字符`beginning`索引处的字符`beginning`  +  `length` -1。</span><span class="sxs-lookup"><span data-stu-id="5677c-883">If the search proceeds from left to right (the default), the regular expression engine searches from the character at index `beginning` to the character at index `beginning` + `length` - 1.</span></span> <span data-ttu-id="5677c-884">如果通过实例化正则表达式引擎<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType>选项，以便搜索将继续从右到左、 从索引处的字符的正则表达式引擎搜索`beginning`  +  `length` -1 到字符索引处`beginning`。</span><span class="sxs-lookup"><span data-stu-id="5677c-884">If the regular expression engine was instantiated by using the <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft?displayProperty=nameWithType> option so that the search proceeds from right to left, the regular expression engine searches from the character at index `beginning` + `length` - 1 to the character at index `beginning`.</span></span> <span data-ttu-id="5677c-885">此方法返回此范围内找到第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-885">This method returns the first match that it finds within this range.</span></span> <span data-ttu-id="5677c-886">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-886">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-887">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-887">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-888">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-888">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-889">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-889">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-890"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-890">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-891">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置超时值，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-891">If you do not set a time-out value when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-892">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-892">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-893"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-893"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-894"><paramref name="beginning" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-894"><paramref name="beginning" /> is less than zero or greater than the length of <paramref name="input" />.</span></span>  
  
<span data-ttu-id="5677c-895">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-895">-or-</span></span> 
 <span data-ttu-id="5677c-896"><paramref name="length" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-896"><paramref name="length" /> is less than zero or greater than the length of <paramref name="input" />.</span></span>  
  
<span data-ttu-id="5677c-897">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-897">-or-</span></span> 
 <span data-ttu-id="5677c-898"><paramref name="beginning" /><see langword="+" /><paramref name="length" /><see langword="-1" /> 表示 <paramref name="input" /> 范围外的某个位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-898"><paramref name="beginning" /><see langword="+" /><paramref name="length" /><see langword="-1" /> identifies a position that is outside the range of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-899">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-899">A time-out occurred.</span></span> <span data-ttu-id="5677c-900">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-900">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="M:System.Text.RegularExpressions.Match.NextMatch" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-901">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-901">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.Match Match (string input, string pattern, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.Match Match(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Match (input As String, pattern As String, options As RegexOptions) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::Match ^ Match(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member Match : string * string * System.Text.RegularExpressions.RegexOptions -&gt; System.Text.RegularExpressions.Match" Usage="System.Text.RegularExpressions.Regex.Match (input, pattern, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-902">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-902">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-903">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-903">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-904">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-904">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-905">使用指定的匹配选项在输入字符串中搜索指定的正则表达式的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-905">Searches the input string for the first occurrence of the specified regular expression, using the specified matching options.</span></span></summary>
        <returns><span data-ttu-id="5677c-906">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-906">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-907"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法返回输入字符串中的正则表达式模式匹配的第一个子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-907">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method returns the first substring that matches a regular expression pattern in an input string.</span></span> <span data-ttu-id="5677c-908">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-908">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-909">静态<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29>构造函数并调用实例<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-909">The static <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%29> constructor and calling the instance <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method.</span></span>  
  
 <span data-ttu-id="5677c-910">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-910">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-911">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-911">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-912">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-912">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-913">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-913">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-914">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-914">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-915">此方法返回中找到的第一个子字符串`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-915">This method returns the first substring found in `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-916">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-916">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A> method.</span></span> <span data-ttu-id="5677c-917">此外可以通过调用来检索单个方法调用中的所有匹配<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-917">You can also retrieve all matches in a single method call by calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-918"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果匹配操作的执行时间超出了指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-918">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the matching operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-919">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-919">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-920">下面的示例定义正则表达式匹配以字母开头的单词"a"。</span><span class="sxs-lookup"><span data-stu-id="5677c-920">The following example defines a regular expression that matches words beginning with the letter "a".</span></span> <span data-ttu-id="5677c-921">它使用<xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType>选项以确保正则表达式查找开头的单词这两个大写字母"a"和一个小写字母"a"。</span><span class="sxs-lookup"><span data-stu-id="5677c-921">It uses the <xref:System.Text.RegularExpressions.RegexOptions.IgnoreCase?displayProperty=nameWithType> option to ensure that the regular expression locates words beginning with both an uppercase "a" and a lowercase "a".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Match#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.match/cs/match2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Match#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.match/vb/match2.vb#2)]  
  
 <span data-ttu-id="5677c-922">正则表达式模式 `\ba\w*\b` 的含义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-922">The regular expression pattern `\ba\w*\b` is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-923">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-923">Pattern</span></span>|<span data-ttu-id="5677c-924">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-924">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-925">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-925">Begin the match at a word boundary.</span></span>|  
|`a`|<span data-ttu-id="5677c-926">匹配的字符"a"。</span><span class="sxs-lookup"><span data-stu-id="5677c-926">Match the character "a".</span></span>|  
|`\w*`|<span data-ttu-id="5677c-927">匹配零个、 一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-927">Match zero, one, or more word characters.</span></span>|  
|`\b`|<span data-ttu-id="5677c-928">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-928">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-929">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-929">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-930"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-930"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-931"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-931"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-932">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-932">A time-out occurred.</span></span> <span data-ttu-id="5677c-933">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-933">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-934">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-934">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-935">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-935">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-936">推荐的静态方法检索的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-936">The recommended static method for retrieving a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String)" />, which lets you set the time-out interval.</span></span></para></block>
        <altmember cref="M:System.Text.RegularExpressions.Match.NextMatch" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-937">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-937">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Match">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.Match Match (string input, string pattern, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.Match Match(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Match(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Match (input As String, pattern As String, options As RegexOptions, matchTimeout As TimeSpan) As Match" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::Match ^ Match(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member Match : string * string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; System.Text.RegularExpressions.Match" Usage="System.Text.RegularExpressions.Regex.Match (input, pattern, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.Match</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-938">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-938">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-939">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-939">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-940">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-940">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-941">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-941">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-942">使用指定的匹配选项和超时间隔在输入字符串中搜索指定的正则表达式的第一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-942">Searches the input string for the first occurrence of the specified regular expression, using the specified matching options and time-out interval.</span></span></summary>
        <returns><span data-ttu-id="5677c-943">一个包含有关匹配的信息的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-943">An object that contains information about the match.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-944"><xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法返回输入字符串中的正则表达式模式匹配的第一个子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-944">The <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method returns the first substring that matches a regular expression pattern in an input string.</span></span> <span data-ttu-id="5677c-945">有关用于生成正则表达式模式的语言元素的信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-945">For information about the language elements used to build a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-946">静态<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法等效于构造<xref:System.Text.RegularExpressions.Regex>对象<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>构造函数并调用实例<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-946">The static <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method is equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> constructor and calling the instance <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method.</span></span>  
  
 <span data-ttu-id="5677c-947">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-947">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-948">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-948">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-949">您可以确定是否正则表达式模式已找到输入字符串中通过检查所返回的值<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Group.Success%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-949">You can determine whether the regular expression pattern has been found in the input string by checking the value of the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Group.Success%2A> property.</span></span> <span data-ttu-id="5677c-950">如果找到匹配项，返回<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Capture.Value%2A>属性包含的子字符串从`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-950">If a match is found, the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Capture.Value%2A> property contains the substring from `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-951">如果不找到任何匹配项，则其值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-951">If no match is found, its value is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="5677c-952">此方法返回中找到的第一个子字符串`input`匹配正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-952">This method returns the first substring found in `input` that matches the regular expression pattern.</span></span> <span data-ttu-id="5677c-953">您可以通过重复调用返回检索后续匹配项<xref:System.Text.RegularExpressions.Match>对象的<xref:System.Text.RegularExpressions.Match.NextMatch%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-953">You can retrieve subsequent matches by repeatedly calling the returned <xref:System.Text.RegularExpressions.Match> object's <xref:System.Text.RegularExpressions.Match.NextMatch%2A> method.</span></span> <span data-ttu-id="5677c-954">此外可以通过调用来检索单个方法调用中的所有匹配<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-954">You can also retrieve all matches in a single method call by calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="5677c-955">`matchTimeout`参数指定如何长时间模式匹配方法应尝试超时之前找到匹配项。将设置的超时间隔可阻止依赖于过度回溯出现停止响应时它们处理输入的正则表达式，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-955">The `matchTimeout` parameter specifies how long a pattern matching method should try to find a match before it times out. Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-956">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-956">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-957">如果在该时间间隔内不找到任何匹配项，则该方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-957">If no match is found in that time interval, the method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-958">`matchTimeout` 重写应用程序域执行该方法定义的任何默认超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-958">`matchTimeout` overrides any default time-out value defined for the application domain in which the method executes.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-959">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-959">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-960"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-960"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-961"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-961"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span>  
  
<span data-ttu-id="5677c-962">或</span><span class="sxs-lookup"><span data-stu-id="5677c-962">-or-</span></span> 
 <span data-ttu-id="5677c-963"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-963"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-964">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-964">A time-out occurred.</span></span> <span data-ttu-id="5677c-965">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-965">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-966">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-966">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-967">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-967">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-968">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-968">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-969">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-969">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-970">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-970">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-971">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-971">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-972">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-972">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-973">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-973">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="Matches">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-974">在输入字符串中搜索正则表达式的所有匹配项并返回所有匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-974">Searches an input string for all occurrences of a regular expression and returns all the matches.</span></span></summary>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-975">当通过调用重复的匹配尝试<see cref="Overload:System.Text.RegularExpressions.Regex.Matches" />方法中，正则表达式引擎提供空匹配项特殊处理。</span><span class="sxs-lookup"><span data-stu-id="5677c-975">When a match attempt is repeated by calling the <see cref="Overload:System.Text.RegularExpressions.Regex.Matches" /> method, the regular expression engine gives empty matches special treatment.</span></span> <span data-ttu-id="5677c-976">通常情况下，正则表达式引擎开始搜索下一个匹配完全上一个匹配项离开的位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-976">Usually, the regular expression engine begins the search for the next match exactly where the previous match left off.</span></span> <span data-ttu-id="5677c-977">但是之后在空匹配项，, 正则表达式引擎提前一个字符之前尝试下一个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-977">However, after an empty match, the regular expression engine advances by one character before trying the next match.</span></span> <span data-ttu-id="5677c-978">此行为可确保正则表达式引擎会通过字符串前进。</span><span class="sxs-lookup"><span data-stu-id="5677c-978">This behavior guarantees that the regular expression engine will progress through the string.</span></span> <span data-ttu-id="5677c-979">否则为在空匹配项不会导致任何向前移动，因为下一个匹配项将在与上一个匹配项，相同的位置开始，它将重复匹配同一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-979">Otherwise, because an empty match does not result in any forward movement, the next match would start in exactly the same place as the previous match, and it would match the same empty string repeatedly.</span></span>  
  
<span data-ttu-id="5677c-980">在下面的示例中，正则表达式模式<c>\*</c>搜索的零个或多个字母"a"字符串"abaabb"中。</span><span class="sxs-lookup"><span data-stu-id="5677c-980">In the following example, the regular expression pattern <c>a\*</c> searches for zero or more occurrences of the letter "a" in the string "abaabb".</span></span> <span data-ttu-id="5677c-981">如示例所示，生成输出<see cref="T:System.Text.RegularExpressions.MatchCollection" />对象包含六个<see cref="T:System.Text.RegularExpressions.Match" />对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-981">As the output from the example shows, the resulting <see cref="T:System.Text.RegularExpressions.MatchCollection" /> object contains six <see cref="T:System.Text.RegularExpressions.Match" /> objects.</span></span> <span data-ttu-id="5677c-982">第一个匹配尝试查找第一个"a"。</span><span class="sxs-lookup"><span data-stu-id="5677c-982">The first match attempt finds the first "a".</span></span> <span data-ttu-id="5677c-983">与完全其中第一个匹配结束，第一个 b; 之前在第二个匹配项开始它查找"a"的零个匹配项，并返回一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-983">The second match starts exactly where the first match ends, before the first b; it finds zero occurrences of "a" and returns an empty string.</span></span> <span data-ttu-id="5677c-984">第三个匹配项不开始恰好第二个匹配结束的地方，因为返回空字符串的第二个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-984">The third match does not begin exactly where the second match ended, because the second match returned an empty string.</span></span> <span data-ttu-id="5677c-985">相反，它从一个字符开始更高版本之后第一个"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-985">Instead, it begins one character later, after the first "b".</span></span> <span data-ttu-id="5677c-986">第三个匹配查找两个匹配项的"a"，并返回"aa"。</span><span class="sxs-lookup"><span data-stu-id="5677c-986">The third match finds two occurrences of "a" and returns "aa".</span></span> <span data-ttu-id="5677c-987">第四个匹配尝试结束的地方开始第三个匹配项之前第二个"b"，, 并返回一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-987">The fourth match attempt begins where the third match ended, before the second "b", and returns an empty string.</span></span> <span data-ttu-id="5677c-988">第五个匹配尝试再次提升一个字符，以便它在第三个"b"之前开始，并返回一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-988">The fifth match attempt again advances one character so that it begins before the third "b" and returns an empty string.</span></span> <span data-ttu-id="5677c-989">第六个匹配项开始后的最后一个"b"，并再次返回一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-989">The sixth match begins after the last "b" and returns an empty string again.</span></span>  
  
<span data-ttu-id="5677c-990">[！ 代码 csharp[System.Text.RegularExpressions.Regex.Matches#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/emptymatches1.cs#9)] [！ 代码 vb[System.Text.RegularExpressions.Regex.Matches#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/emptymatches1.vb#9)]</span><span class="sxs-lookup"><span data-stu-id="5677c-990">[!code-csharp[System.Text.RegularExpressions.Regex.Matches#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/emptymatches1.cs#9)] [!code-vb[System.Text.RegularExpressions.Regex.Matches#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/emptymatches1.vb#9)]</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-991">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-991">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="Matches">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.MatchCollection Matches (string input);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Text.RegularExpressions.MatchCollection Matches(string input) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Matches(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function Matches (input As String) As MatchCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Text::RegularExpressions::MatchCollection ^ Matches(System::String ^ input);" />
      <MemberSignature Language="F#" Value="member this.Matches : string -&gt; System.Text.RegularExpressions.MatchCollection" Usage="regex.Matches input" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.MatchCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-992">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-992">The string to search for a match.</span></span></param>
        <summary><span data-ttu-id="5677c-993">在指定的输入字符串中搜索正则表达式的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-993">Searches the specified input string for all occurrences of a regular expression.</span></span></summary>
        <returns><span data-ttu-id="5677c-994">搜索操作找到的 <see cref="T:System.Text.RegularExpressions.Match" /> 对象的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-994">A collection of the <see cref="T:System.Text.RegularExpressions.Match" /> objects found by the search.</span></span> <span data-ttu-id="5677c-995">如果未找到匹配项，则此方法将返回一个空集合对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-995">If no matches are found, the method returns an empty collection object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-996"><xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29>方法是类似于<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>找到输入字符串，而不是单个匹配项中的方法，前者返回有关所有匹配项的信息。</span><span class="sxs-lookup"><span data-stu-id="5677c-996">The <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29> method is similar to the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method, except that it returns information about all the matches found in the input string, instead of a single match.</span></span> <span data-ttu-id="5677c-997">它等效于以下代码：</span><span class="sxs-lookup"><span data-stu-id="5677c-997">It is equivalent to the following code:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matchespattern.cs#5)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matchespattern.vb#5)]  
  
 <span data-ttu-id="5677c-998">该集合包含唯一的匹配项，并终止于第一个非-匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-998">The collection includes only matches and terminates at the first non-match.</span></span>  
  
 <span data-ttu-id="5677c-999">为其正则表达式模式<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29>方法搜索定义之一调用<xref:System.Text.RegularExpressions.Regex>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-999">The regular expression pattern for which the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29> method searches is defined by the call to one of the <xref:System.Text.RegularExpressions.Regex> class constructors.</span></span> <span data-ttu-id="5677c-1000">有关元素构成的正则表达式模式的详细信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1000">For more information about the elements that can form a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1001"><xref:System.Text.RegularExpressions.Regex.Matches%2A>方法使用延迟计算来填充返回<xref:System.Text.RegularExpressions.MatchCollection>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1001">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method uses lazy evaluation to populate the returned <xref:System.Text.RegularExpressions.MatchCollection> object.</span></span> <span data-ttu-id="5677c-1002">访问此集合的成员，如<xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType>和<xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType>导致要立即填充的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1002">Accessing members of this collection such as <xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType> causes the collection to be populated immediately.</span></span> <span data-ttu-id="5677c-1003">若要利用延迟计算，应遍历集合使用一个构造，如`foreach`C# 中和`For Each`...`Next`</span><span class="sxs-lookup"><span data-stu-id="5677c-1003">To take advantage of lazy evaluation, you should iterate the collection by using a construct such as `foreach` in C# and `For Each`…`Next`</span></span> <span data-ttu-id="5677c-1004">口。</span><span class="sxs-lookup"><span data-stu-id="5677c-1004">in Visual Basic.</span></span>  
  
 <span data-ttu-id="5677c-1005">由于其迟缓计算中，调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29>方法不会引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1005">Because of its lazy evaluation, calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29> method does not throw a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1006">但是，将引发异常，对执行操作时<xref:System.Text.RegularExpressions.MatchCollection>时，返回的此方法的对象<xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A>属性不是<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>和匹配的操作超出超时时间间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1006">However, the exception is thrown when an operation is performed on the <xref:System.Text.RegularExpressions.MatchCollection> object returned by this method, if the <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A> property is not <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType> and a matching operation exceeds the time-out interval.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1007">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29>的方法来确定一个句子中以"es"结尾的所有单词。</span><span class="sxs-lookup"><span data-stu-id="5677c-1007">The following example uses the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29> method to identify any words in a sentence that end in "es".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matches1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matches1.vb#1)]  
  
 <span data-ttu-id="5677c-1008">正则表达式模式 `\b\w+es\b` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1008">The regular expression pattern `\b\w+es\b` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1009">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1009">Pattern</span></span>|<span data-ttu-id="5677c-1010">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1010">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-1011">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1011">Begin the match at a word boundary.</span></span>|  
|`\w+`|<span data-ttu-id="5677c-1012">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1012">Match one or more word characters.</span></span>|  
|`es`|<span data-ttu-id="5677c-1013">匹配文本字符串"es"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1013">Match the literal string "es".</span></span>|  
|`\b`|<span data-ttu-id="5677c-1014">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1014">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1015"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1015"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1016">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1016">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Matches">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.MatchCollection Matches (string input, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Text.RegularExpressions.MatchCollection Matches(string input, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Matches (input As String, startat As Integer) As MatchCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Text::RegularExpressions::MatchCollection ^ Matches(System::String ^ input, int startat);" />
      <MemberSignature Language="F#" Value="member this.Matches : string * int -&gt; System.Text.RegularExpressions.MatchCollection" Usage="regex.Matches (input, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.MatchCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1017">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1017">The string to search for a match.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-1018">在输入字符串中开始搜索的字符位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1018">The character position in the input string at which to start the search.</span></span></param>
        <summary><span data-ttu-id="5677c-1019">从字符串中的指定起始位置开始，在指定的输入字符串中搜索正则表达式的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1019">Searches the specified input string for all occurrences of a regular expression, beginning at the specified starting position in the string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1020">搜索操作找到的 <see cref="T:System.Text.RegularExpressions.Match" /> 对象的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1020">A collection of the <see cref="T:System.Text.RegularExpressions.Match" /> objects found by the search.</span></span> <span data-ttu-id="5677c-1021">如果未找到匹配项，则此方法将返回一个空集合对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1021">If no matches are found, the method returns an empty collection object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1022"><xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29>方法是类似于<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29>找到输入字符串，而不是单个匹配项中的方法，前者返回有关所有匹配项的信息。</span><span class="sxs-lookup"><span data-stu-id="5677c-1022">The  <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29> method is similar to the  <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.Int32%29> method, except that it returns information about all the matches found in the input string, instead of a single match.</span></span> <span data-ttu-id="5677c-1023">它等效于以下代码：</span><span class="sxs-lookup"><span data-stu-id="5677c-1023">It is equivalent to the following code:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matchespattern.cs#6)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matchespattern.vb#6)]  
  
 <span data-ttu-id="5677c-1024">为其正则表达式模式<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29>方法搜索定义之一调用<xref:System.Text.RegularExpressions.Regex>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1024">The regular expression pattern for which the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29> method searches is defined by the call to one of the <xref:System.Text.RegularExpressions.Regex> class constructors.</span></span> <span data-ttu-id="5677c-1025">有关元素构成的正则表达式模式的详细信息，请参阅[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1025">For more information about the elements that can form a regular expression pattern, see [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1026"><xref:System.Text.RegularExpressions.Regex.Matches%2A>方法使用延迟计算来填充返回<xref:System.Text.RegularExpressions.MatchCollection>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1026">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method uses lazy evaluation to populate the returned <xref:System.Text.RegularExpressions.MatchCollection> object.</span></span> <span data-ttu-id="5677c-1027">访问此集合的成员，如<xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType>和<xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType>导致要立即填充的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1027">Accessing members of this collection such as <xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType> causes the collection to be populated immediately.</span></span> <span data-ttu-id="5677c-1028">若要利用延迟计算，应遍历集合使用一个构造，如`foreach`C# 中和`For Each`...`Next`</span><span class="sxs-lookup"><span data-stu-id="5677c-1028">To take advantage of lazy evaluation, you should iterate the collection by using a construct such as `foreach` in C# and `For Each`…`Next`</span></span> <span data-ttu-id="5677c-1029">口。</span><span class="sxs-lookup"><span data-stu-id="5677c-1029">in Visual Basic.</span></span>  
  
 <span data-ttu-id="5677c-1030">由于其迟缓计算中，调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29>方法不会引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1030">Because of its lazy evaluation, calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29> method does not throw a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1031">但是，将引发异常，对执行操作时<xref:System.Text.RegularExpressions.MatchCollection>时，返回的此方法的对象<xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A>属性不是<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>匹配操作超出超时时间间隔和...</span><span class="sxs-lookup"><span data-stu-id="5677c-1031">However, the exception is thrown when an operation is performed on the <xref:System.Text.RegularExpressions.MatchCollection> object returned by this method, if the <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A> property is not <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType> and a matching operation exceeds the time-out interval..</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1032">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法查找句子中以"es"结尾，然后调用的第一个单词<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29>的方法来确定任何其他单词以"es"结尾的。</span><span class="sxs-lookup"><span data-stu-id="5677c-1032">The following example uses the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method to find the first word in a sentence that ends in "es", and then calls the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29> method to identify any additional words that end in "es".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matches3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matches3.vb#3)]  
  
 <span data-ttu-id="5677c-1033">正则表达式模式 `\b\w+es\b` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1033">The regular expression pattern `\b\w+es\b` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1034">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1034">Pattern</span></span>|<span data-ttu-id="5677c-1035">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1035">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-1036">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1036">Begin the match at a word boundary.</span></span>|  
|`\w+`|<span data-ttu-id="5677c-1037">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1037">Match one or more word characters.</span></span>|  
|`es`|<span data-ttu-id="5677c-1038">匹配文本字符串"es"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1038">Match the literal string "es".</span></span>|  
|`\b`|<span data-ttu-id="5677c-1039">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1039">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1040"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1040"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1041"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-1041"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1042">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1042">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Matches">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.MatchCollection Matches (string input, string pattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.MatchCollection Matches(string input, string pattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Matches (input As String, pattern As String) As MatchCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::MatchCollection ^ Matches(System::String ^ input, System::String ^ pattern);" />
      <MemberSignature Language="F#" Value="static member Matches : string * string -&gt; System.Text.RegularExpressions.MatchCollection" Usage="System.Text.RegularExpressions.Regex.Matches (input, pattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.MatchCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1043">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1043">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1044">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1044">The regular expression pattern to match.</span></span></param>
        <summary><span data-ttu-id="5677c-1045">在指定的输入字符串中搜索指定的正则表达式的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1045">Searches the specified input string for all occurrences of a specified regular expression.</span></span></summary>
        <returns><span data-ttu-id="5677c-1046">搜索操作找到的 <see cref="T:System.Text.RegularExpressions.Match" /> 对象的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1046">A collection of the <see cref="T:System.Text.RegularExpressions.Match" /> objects found by the search.</span></span> <span data-ttu-id="5677c-1047">如果未找到匹配项，则此方法将返回一个空集合对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1047">If no matches are found, the method returns an empty collection object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1048"><xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29>方法是类似于<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29>找到输入字符串，而不是单个匹配项中的方法，前者返回有关所有匹配项的信息。</span><span class="sxs-lookup"><span data-stu-id="5677c-1048">The <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> method is similar to the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%29> method, except that it returns information about all the matches found in the input string, instead of a single match.</span></span> <span data-ttu-id="5677c-1049">它等效于以下代码：</span><span class="sxs-lookup"><span data-stu-id="5677c-1049">It is equivalent to the following code:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matchespattern.cs#7)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matchespattern.vb#7)]  
  
 <span data-ttu-id="5677c-1050">静态`Matches`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Matches`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1050">The static `Matches` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Matches`.</span></span>  
  
 <span data-ttu-id="5677c-1051">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1051">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1052">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1052">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1053"><xref:System.Text.RegularExpressions.Regex.Matches%2A>方法使用延迟计算来填充返回<xref:System.Text.RegularExpressions.MatchCollection>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1053">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method uses lazy evaluation to populate the returned <xref:System.Text.RegularExpressions.MatchCollection> object.</span></span> <span data-ttu-id="5677c-1054">访问此集合的成员，如<xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType>和<xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType>导致要立即填充的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1054">Accessing members of this collection such as <xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType> causes the collection to be populated immediately.</span></span> <span data-ttu-id="5677c-1055">若要利用延迟计算，应遍历集合使用一个构造，如`foreach`C# 中和`For Each`...`Next`</span><span class="sxs-lookup"><span data-stu-id="5677c-1055">To take advantage of lazy evaluation, you should iterate the collection by using a construct such as `foreach` in C# and `For Each`…`Next`</span></span> <span data-ttu-id="5677c-1056">口。</span><span class="sxs-lookup"><span data-stu-id="5677c-1056">in Visual Basic.</span></span>  
  
 <span data-ttu-id="5677c-1057">由于其迟缓计算中，调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29>方法不会引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1057">Because of its lazy evaluation, calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> method does not throw a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1058">但是，将引发异常，对执行操作时<xref:System.Text.RegularExpressions.MatchCollection>如果由当前的应用程序域和匹配操作的"REGEX_DEFAULT_MATCH_TIMEOUT"属性定义的超时间隔，则此方法，返回的对象超出了此超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1058">However, the exception is thrown when an operation is performed on the <xref:System.Text.RegularExpressions.MatchCollection> object returned by this method, if a time-out interval is defined by the "REGEX_DEFAULT_MATCH_TIMEOUT" property of the current application domain and a matching operation exceeds this time-out interval.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1059">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29>的方法来确定在"es"结尾的句子中的任何文字。</span><span class="sxs-lookup"><span data-stu-id="5677c-1059">The following example uses the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> method to identify any word in a sentence that ends in "es".</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matches2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matches2.vb#2)]  
  
 <span data-ttu-id="5677c-1060">正则表达式模式 `\b\w+es\b` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1060">The regular expression pattern `\b\w+es\b` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1061">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1061">Pattern</span></span>|<span data-ttu-id="5677c-1062">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1062">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-1063">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1063">Begin the match at a word boundary.</span></span>|  
|`\w+`|<span data-ttu-id="5677c-1064">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1064">Match one or more word characters.</span></span>|  
|`es`|<span data-ttu-id="5677c-1065">匹配文本字符串"es"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1065">Match the literal string "es".</span></span>|  
|`\b`|<span data-ttu-id="5677c-1066">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1066">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1067">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1067">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1068"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1068"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1069">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1069">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-1070">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1070">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1071">推荐的静态方法检索多个模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，可用于指定超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1071">The recommended static method for retrieving multiple pattern matches is <see cref="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you specify the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1072">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1072">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Matches">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.MatchCollection Matches (string input, string pattern, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.MatchCollection Matches(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Matches (input As String, pattern As String, options As RegexOptions) As MatchCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::MatchCollection ^ Matches(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member Matches : string * string * System.Text.RegularExpressions.RegexOptions -&gt; System.Text.RegularExpressions.MatchCollection" Usage="System.Text.RegularExpressions.Regex.Matches (input, pattern, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.MatchCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1073">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1073">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1074">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1074">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1075">枚举值的按位组合，这些枚举值指定用于匹配的选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1075">A bitwise combination of the enumeration values that specify options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-1076">使用指定的匹配选项在指定的输入字符串中搜索指定的正则表达式的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1076">Searches the specified input string for all occurrences of a specified regular expression, using the specified matching options.</span></span></summary>
        <returns><span data-ttu-id="5677c-1077">搜索操作找到的 <see cref="T:System.Text.RegularExpressions.Match" /> 对象的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1077">A collection of the <see cref="T:System.Text.RegularExpressions.Match" /> objects found by the search.</span></span> <span data-ttu-id="5677c-1078">如果未找到匹配项，则此方法将返回一个空集合对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1078">If no matches are found, the method returns an empty collection object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1079"><xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法是类似于<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>找到输入字符串，而不是单个匹配项中的方法，前者返回有关所有匹配项的信息。</span><span class="sxs-lookup"><span data-stu-id="5677c-1079">The <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method is similar to the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method, except that it returns information about all the matches found in the input string, instead of a single match.</span></span> <span data-ttu-id="5677c-1080">它等效于以下代码：</span><span class="sxs-lookup"><span data-stu-id="5677c-1080">It is equivalent to the following code:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matchespattern.cs#8)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matchespattern.vb#8)]  
  
 <span data-ttu-id="5677c-1081">静态`Matches`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Matches`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1081">The static `Matches` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Matches`.</span></span>  
  
 <span data-ttu-id="5677c-1082">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1082">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1083">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1083">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1084"><xref:System.Text.RegularExpressions.Regex.Matches%2A>方法使用延迟计算来填充返回<xref:System.Text.RegularExpressions.MatchCollection>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1084">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method uses lazy evaluation to populate the returned <xref:System.Text.RegularExpressions.MatchCollection> object.</span></span> <span data-ttu-id="5677c-1085">访问此集合的成员，如<xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType>和<xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType>导致要立即填充的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1085">Accessing members of this collection such as <xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType> causes the collection to be populated immediately.</span></span> <span data-ttu-id="5677c-1086">若要利用延迟计算，应遍历集合使用一个构造，如`foreach`C# 中和`For Each`...`Next`</span><span class="sxs-lookup"><span data-stu-id="5677c-1086">To take advantage of lazy evaluation, you should iterate the collection by using a construct such as `foreach` in C# and `For Each`…`Next`</span></span> <span data-ttu-id="5677c-1087">口。</span><span class="sxs-lookup"><span data-stu-id="5677c-1087">in Visual Basic.</span></span>  
  
 <span data-ttu-id="5677c-1088">由于其迟缓计算中，调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29>方法不会引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1088">Because of its lazy evaluation, calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> method does not throw a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1089">但是，将引发异常，对执行操作时<xref:System.Text.RegularExpressions.MatchCollection>如果由当前的应用程序域和匹配操作的"REGEX_DEFAULT_MATCH_TIMEOUT"属性定义的超时间隔，则此方法，返回的对象超出了此超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1089">However, the exception is thrown when an operation is performed on the <xref:System.Text.RegularExpressions.MatchCollection> object returned by this method, if a time-out interval is defined by the "REGEX_DEFAULT_MATCH_TIMEOUT" property of the current application domain and a matching operation exceeds this time-out interval.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1090">下面的示例调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29>的方法来确定以"es"结尾，然后调用的句子中的任何文字<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法来执行不区分大小写的模式与输入字符串比较。</span><span class="sxs-lookup"><span data-stu-id="5677c-1090">The following example calls the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29> method to identify any word in a sentence that ends in "es", and then calls the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method to perform a case-insensitive comparison of the pattern with the input string.</span></span> <span data-ttu-id="5677c-1091">如输出所示，两种方法将返回不同的结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1091">As the output shows, the two methods return different results.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matches4.cs#4)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matches4.vb#4)]  
  
 <span data-ttu-id="5677c-1092">正则表达式模式 `\b\w+es\b` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1092">The regular expression pattern `\b\w+es\b` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1093">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1093">Pattern</span></span>|<span data-ttu-id="5677c-1094">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1094">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-1095">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1095">Begin the match at a word boundary.</span></span>|  
|`\w+`|<span data-ttu-id="5677c-1096">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1096">Match one or more word characters.</span></span>|  
|`es`|<span data-ttu-id="5677c-1097">匹配文本字符串"es"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1097">Match the literal string "es".</span></span>|  
|`\b`|<span data-ttu-id="5677c-1098">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1098">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1099">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1099">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1100"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1100"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1101"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1101"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1102">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1102">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-1103">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1103">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1104">推荐的静态方法检索多个模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1104">The recommended static method for retrieving multiple pattern matches is <see cref="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1105">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1105">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Matches">
      <MemberSignature Language="C#" Value="public static System.Text.RegularExpressions.MatchCollection Matches (string input, string pattern, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Text.RegularExpressions.MatchCollection Matches(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Matches(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Matches (input As String, pattern As String, options As RegexOptions, matchTimeout As TimeSpan) As MatchCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Text::RegularExpressions::MatchCollection ^ Matches(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member Matches : string * string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; System.Text.RegularExpressions.MatchCollection" Usage="System.Text.RegularExpressions.Regex.Matches (input, pattern, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.MatchCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1106">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1106">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1107">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1107">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1108">枚举值的按位组合，这些枚举值指定用于匹配的选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1108">A bitwise combination of the enumeration values that specify options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-1109">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1109">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-1110">使用指定的匹配选项和超时间隔在指定的输入字符串中搜索指定的正则表达式的所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1110">Searches the specified input string for all occurrences of a specified regular expression, using the specified matching options and time-out interval.</span></span></summary>
        <returns><span data-ttu-id="5677c-1111">搜索操作找到的 <see cref="T:System.Text.RegularExpressions.Match" /> 对象的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1111">A collection of the <see cref="T:System.Text.RegularExpressions.Match" /> objects found by the search.</span></span> <span data-ttu-id="5677c-1112">如果未找到匹配项，则此方法将返回一个空集合对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1112">If no matches are found, the method returns an empty collection object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1113"><xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法是类似于<xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>找到输入字符串，而不是单个匹配项中的方法，前者返回有关所有匹配项的信息。</span><span class="sxs-lookup"><span data-stu-id="5677c-1113">The <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method is similar to the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method, except that it returns information about all the matches found in the input string, instead of a single match.</span></span> <span data-ttu-id="5677c-1114">它等效于以下代码：</span><span class="sxs-lookup"><span data-stu-id="5677c-1114">It is equivalent to the following code:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matchespattern.cs#10)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matchespattern.vb#10)]  
  
 <span data-ttu-id="5677c-1115">静态`Matches`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Matches`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1115">The static `Matches` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Matches`.</span></span>  
  
 <span data-ttu-id="5677c-1116">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1116">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1117">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1117">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1118"><xref:System.Text.RegularExpressions.Regex.Matches%2A>方法使用延迟计算来填充返回<xref:System.Text.RegularExpressions.MatchCollection>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1118">The <xref:System.Text.RegularExpressions.Regex.Matches%2A> method uses lazy evaluation to populate the returned <xref:System.Text.RegularExpressions.MatchCollection> object.</span></span> <span data-ttu-id="5677c-1119">访问此集合的成员，如<xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType>和<xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType>导致要立即填充的集合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1119">Accessing members of this collection such as <xref:System.Text.RegularExpressions.MatchCollection.Count%2A?displayProperty=nameWithType> and <xref:System.Text.RegularExpressions.MatchCollection.CopyTo%2A?displayProperty=nameWithType> causes the collection to be populated immediately.</span></span> <span data-ttu-id="5677c-1120">若要利用延迟计算，应遍历集合使用一个构造，如`foreach`C# 中和`For Each`...`Next`</span><span class="sxs-lookup"><span data-stu-id="5677c-1120">To take advantage of lazy evaluation, you should iterate the collection by using a construct such as `foreach` in C# and `For Each`…`Next`</span></span> <span data-ttu-id="5677c-1121">口。</span><span class="sxs-lookup"><span data-stu-id="5677c-1121">in Visual Basic.</span></span>  
  
 <span data-ttu-id="5677c-1122">由于其迟缓计算中，调用<xref:System.Text.RegularExpressions.Regex.Matches%2A>方法不会引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1122">Because of its lazy evaluation, calling the <xref:System.Text.RegularExpressions.Regex.Matches%2A> method does not throw a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1123">但是，在执行操作时引发异常<xref:System.Text.RegularExpressions.MatchCollection>如果匹配操作超出指定的此超时时间间隔，此方法返回对象`matchTimeout`参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1123">However, an exception is thrown when an operation is performed on the <xref:System.Text.RegularExpressions.MatchCollection> object returned by this method, if a matching operation exceeds this time-out interval specified by the`matchTimeout` parameter.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1124">下面的示例调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法来执行匹配任何单词以"es"结尾的句子中的区分大小写比较。</span><span class="sxs-lookup"><span data-stu-id="5677c-1124">The following example calls the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method to perform a case-sensitive comparison that matches any word in a sentence that ends in "es".</span></span> <span data-ttu-id="5677c-1125">然后，它调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法来执行不区分大小写的模式与输入字符串比较。</span><span class="sxs-lookup"><span data-stu-id="5677c-1125">It then calls the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method to perform a case-insensitive comparison of the pattern with the input string.</span></span> <span data-ttu-id="5677c-1126">在这两种情况下，超时间隔设置为 1 秒。</span><span class="sxs-lookup"><span data-stu-id="5677c-1126">In both cases, the time-out interval is set to one second.</span></span> <span data-ttu-id="5677c-1127">如输出所示，两种方法将返回不同的结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1127">As the output shows, the two methods return different results.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Matches#11](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/cs/matches5.cs#11)]
 [!code-vb[System.Text.RegularExpressions.Regex.Matches#11](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matches/vb/matches5.vb#11)]  
  
 <span data-ttu-id="5677c-1128">正则表达式模式 `\b\w+es\b` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1128">The regular expression pattern `\b\w+es\b` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1129">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1129">Pattern</span></span>|<span data-ttu-id="5677c-1130">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1130">Description</span></span>|  
|-------------|-----------------|  
|`\b`|<span data-ttu-id="5677c-1131">在单词边界处开始匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1131">Begin the match at a word boundary.</span></span>|  
|`\w+`|<span data-ttu-id="5677c-1132">匹配一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1132">Match one or more word characters.</span></span>|  
|`es`|<span data-ttu-id="5677c-1133">匹配文本字符串"es"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1133">Match the literal string "es".</span></span>|  
|`\b`|<span data-ttu-id="5677c-1134">在单词边界处结束匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1134">End the match at a word boundary.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1135">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1135">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1136"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1136"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1137"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1137"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span>  
  
<span data-ttu-id="5677c-1138">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-1138">-or-</span></span> 
 <span data-ttu-id="5677c-1139"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-1139"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1140">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1140">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-1141">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-1141">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-1142">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-1142">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-1143">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1143">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-1144">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1144">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-1145">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1145">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-1146">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1146">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1147">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1147">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="MatchTimeout">
      <MemberSignature Language="C#" Value="public TimeSpan MatchTimeout { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.TimeSpan MatchTimeout" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.MatchTimeout" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property MatchTimeout As TimeSpan" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property TimeSpan MatchTimeout { TimeSpan get(); };" />
      <MemberSignature Language="F#" Value="member this.MatchTimeout : TimeSpan" Usage="System.Text.RegularExpressions.Regex.MatchTimeout" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.TimeSpan</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-1148">获取当前实例的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1148">Gets the time-out interval of the current instance.</span></span></summary>
        <value><span data-ttu-id="5677c-1149">在 <see cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException" /> 引发之前或如果时间超期被禁用 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> ，在样式匹配操作符中可以经过的最长时间间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1149">The maximum time interval that can elapse in a pattern-matching operation before a <see cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException" /> is thrown, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> if time-outs are disabled.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1150"><xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A>属性定义的近似最大时间间隔<xref:System.Text.RegularExpressions.Regex>实例操作超时前执行单个匹配操作。正则表达式引擎会抛出<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>在经过超时间隔后其下一步计时检查过程中的异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1150">The <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A> property defines the approximate maximum time interval for a <xref:System.Text.RegularExpressions.Regex> instance to execute a single matching operation before the operation times out. The regular expression engine throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception during its next timing check after the time-out interval has elapsed.</span></span> <span data-ttu-id="5677c-1151">这可以防止正则表达式引擎处理需要过多使用回溯的输入的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1151">This prevents the regular expression engine from processing input strings that require excessive backtracking.</span></span> <span data-ttu-id="5677c-1152">有关详细信息，请参阅[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)并[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1152">For more information, see [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md) and [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md).</span></span>  
  
 <span data-ttu-id="5677c-1153">此属性是只读的。</span><span class="sxs-lookup"><span data-stu-id="5677c-1153">This property is read-only.</span></span> <span data-ttu-id="5677c-1154">其值设置为某个人的显式<xref:System.Text.RegularExpressions.Regex>对象通过调用<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数; 并且可以将其值设置为所有<xref:System.Text.RegularExpressions.Regex>匹配应用程序域中的操作通过调用<xref:System.AppDomain.SetData%2A?displayProperty=nameWithType>方法并提供<xref:System.TimeSpan> "REGEX_DEFAULT_MATCH_TIMEOUT"属性值，如以下示例所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1154">You can set its value explicitly for an individual <xref:System.Text.RegularExpressions.Regex> object by calling the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor; and you can set its value for all <xref:System.Text.RegularExpressions.Regex> matching operations in an application domain by calling the <xref:System.AppDomain.SetData%2A?displayProperty=nameWithType> method and providing a <xref:System.TimeSpan> value for the "REGEX_DEFAULT_MATCH_TIMEOUT" property, as the following example illustrates.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.MatchTimeout#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matchtimeout/cs/regexmatchtimeout1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.MatchTimeout#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.matchtimeout/vb/regexmatchtimeout1.vb#1)]  
  
 <span data-ttu-id="5677c-1155">如果你未显式设置的超时间隔，默认值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>是使用情况，以及匹配的操作就不会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1155">If you do not explicitly set a time-out interval, the default value <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType> is used, and matching operations do not time out.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Options">
      <MemberSignature Language="C#" Value="public System.Text.RegularExpressions.RegexOptions Options { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Text.RegularExpressions.RegexOptions Options" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.Options" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Options As RegexOptions" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Text::RegularExpressions::RegexOptions Options { System::Text::RegularExpressions::RegexOptions get(); };" />
      <MemberSignature Language="F#" Value="member this.Options : System.Text.RegularExpressions.RegexOptions" Usage="System.Text.RegularExpressions.Regex.Options" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.RegexOptions</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-1156">获取传递给 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数的选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1156">Gets the options that were passed into the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor.</span></span></summary>
        <value><span data-ttu-id="5677c-1157"><see cref="T:System.Text.RegularExpressions.RegexOptions" /> 枚举 的一个或多个成员表示传递至 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数的选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1157">One or more members of the <see cref="T:System.Text.RegularExpressions.RegexOptions" /> enumeration that represent options that were passed to the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1158">值<xref:System.Text.RegularExpressions.Regex.Options%2A>属性包含的一个或多个成员<xref:System.Text.RegularExpressions.RegexOptions>枚举。</span><span class="sxs-lookup"><span data-stu-id="5677c-1158">The value of the <xref:System.Text.RegularExpressions.Regex.Options%2A> property consists of one or more members of the <xref:System.Text.RegularExpressions.RegexOptions> enumeration.</span></span> <span data-ttu-id="5677c-1159">如果在中不定义的任何选项<xref:System.Text.RegularExpressions.Regex>类构造函数，其值是<xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1159">If no options were defined in the <xref:System.Text.RegularExpressions.Regex> class constructor, its value is <xref:System.Text.RegularExpressions.RegexOptions.None?displayProperty=nameWithType>.</span></span> <span data-ttu-id="5677c-1160">中详细地讨论了可用的选项[正则表达式选项](~/docs/standard/base-types/regular-expression-options.md)主题。</span><span class="sxs-lookup"><span data-stu-id="5677c-1160">The available options are discussed in detail in the [Regular Expression Options](~/docs/standard/base-types/regular-expression-options.md) topic.</span></span>  
  
 <span data-ttu-id="5677c-1161">请注意，<xref:System.Text.RegularExpressions.Regex.Options%2A>属性不会反映在正则表达式中定义的内联选项模式本身。</span><span class="sxs-lookup"><span data-stu-id="5677c-1161">Note that the <xref:System.Text.RegularExpressions.Regex.Options%2A> property does not reflect inline options defined in the regular expression pattern itself.</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="5677c-1162">
            <see cref="T:System.Text.RegularExpressions.Regex" /> 是由创建的正则表达式的基类<see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" />方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1162">
            <see cref="T:System.Text.RegularExpressions.Regex" /> is the base class of regular expressions created by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span> <span data-ttu-id="5677c-1163">这些已编译的正则表达式使用的基类实现<see cref="P:System.Text.RegularExpressions.Regex.Options" />属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-1163">These compiled regular expressions use the base class implementation of the <see cref="P:System.Text.RegularExpressions.Regex.Options" /> property.</span></span> <span data-ttu-id="5677c-1164">如果从派生类中，调用<see cref="P:System.Text.RegularExpressions.Regex.Options" />属性返回传递到的选项<paramref name="options" />参数的<see cref="T:System.Text.RegularExpressions.RegexCompilationInfo" />用于定义正则表达式的类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1164">If called from a derived class, the <see cref="P:System.Text.RegularExpressions.Regex.Options" /> property returns the options that were passed to the <paramref name="options" /> parameter of the <see cref="T:System.Text.RegularExpressions.RegexCompilationInfo" /> class constructor that was used to define the regular expression.</span></span></para></block>
        <altmember cref="T:System.Text.RegularExpressions.RegexOptions" />
        <related type="Article" href="https://msdn.microsoft.com/library/c82dc689-7e82-4767-a18d-cd24ce5f05e9"><span data-ttu-id="5677c-1165">正则表达式选项</span><span class="sxs-lookup"><span data-stu-id="5677c-1165">Regular Expression Options</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="pattern">
      <MemberSignature Language="C#" Value="protected internal string pattern;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly string pattern" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.pattern" />
      <MemberSignature Language="VB.NET" Value="Protected Friend pattern As String " />
      <MemberSignature Language="C++ CLI" Value="protected public: System::String ^ pattern;" />
      <MemberSignature Language="F#" Value="val mutable pattern : string" Usage="System.Text.RegularExpressions.Regex.pattern" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-1166">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1166">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="Replace">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-1167">在指定的输入字符串内，使用指定的替换字符串替换与某个正则表达式模式匹配的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1167">In a specified input string, replaces strings that match a regular expression pattern with a specified replacement string.</span></span></summary>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1168">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1168">Regular Expression Language - Quick Reference</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1169">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1169">Substitutions</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, string replacement);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, string replacement) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, replacement As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::String ^ replacement);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * string -&gt; string" Usage="regex.Replace (input, replacement)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1170">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1170">The string to search for a match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1171">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1171">The replacement string.</span></span></param>
        <summary><span data-ttu-id="5677c-1172">在指定的输入字符串内，使用指定的替换字符串替换与某个正则表达式模式匹配的所有的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1172">In a specified input string, replaces all strings that match a regular expression pattern with a specified replacement string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1173">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1173">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1174">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1174">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1175">开头开始搜索的匹配项`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1175">The search for matches starts at the beginning of the `input` string.</span></span> <span data-ttu-id="5677c-1176">正则表达式是当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1176">The regular expression is the pattern defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span>  
  
 <span data-ttu-id="5677c-1177">`replacement`参数指定是替换中的每个匹配项的字符串`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1177">The `replacement` parameter specifies the string that is to replace each match in `input`.</span></span> <span data-ttu-id="5677c-1178">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1178">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1179">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1179">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1180">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1180">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1181">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1181">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1182">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1182">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1183"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1183">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1184">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1184">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1185">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1185">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1186">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1186">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1187">下面的示例定义正则表达式， `\s+`，匹配一个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1187">The following example defines a regular expression, `\s+`, that matches one or more white-space characters.</span></span> <span data-ttu-id="5677c-1188">替换字符串中，""，它们替换为单个空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1188">The replacement string, " ", replaces them with a single space character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replaceexample5.cs#5)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replaceexample5.vb#5)]  
  
 <span data-ttu-id="5677c-1189">下面的示例定义正则表达式`(\p{Sc}\s?)?(\d+\.?((?<=\.)\d+)?)(?(1)|\s?\p{Sc})?`，并替换模式中， `$2`，从一个数值中删除前导或尾随的货币符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1189">The following example defines a regular expression, `(\p{Sc}\s?)?(\d+\.?((?<=\.)\d+)?)(?(1)|\s?\p{Sc})?`, and a replacement pattern, `$2`, that removes either a leading or a trailing currency symbol from a numeric value.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replaceexample7.cs#7)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replaceexample7.vb#7)]  
  
 <span data-ttu-id="5677c-1190">正则表达式模式可以解释为下表中所示内容。</span><span class="sxs-lookup"><span data-stu-id="5677c-1190">The regular expression is interpreted as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1191">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1191">Pattern</span></span>|<span data-ttu-id="5677c-1192">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1192">Description</span></span>|  
|-------------|-----------------|  
|`\p{Sc}`|<span data-ttu-id="5677c-1193">与匹配货币符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1193">Match a currency symbol.</span></span> <span data-ttu-id="5677c-1194">`{Sc}` 表示任何字符的 Unicode 符号、 货币类别的成员。</span><span class="sxs-lookup"><span data-stu-id="5677c-1194">`{Sc}` denotes any character that is a member of the Unicode Symbol, Currency category.</span></span>|  
|`\s?`|<span data-ttu-id="5677c-1195">匹配零个或一个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1195">Match zero or one white-space character.</span></span>|  
|`(\p{Sc}\s?)?`|<span data-ttu-id="5677c-1196">匹配零个或一个匹配项的货币符号后跟零个或一个空白字符的组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1196">Match zero or one occurrence of the combination of a currency symbol followed by zero or one white-space character.</span></span> <span data-ttu-id="5677c-1197">这是第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1197">This is the first capturing group.</span></span>|  
|`\d+`|<span data-ttu-id="5677c-1198">匹配一个或多个十进制数字。</span><span class="sxs-lookup"><span data-stu-id="5677c-1198">Match one or more decimal digits.</span></span>|  
|`\.?`|<span data-ttu-id="5677c-1199">匹配零个或一个匹配项的一段 （用作小数分隔符字符）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1199">Match zero or one occurrence of a period (used as a decimal separator character).</span></span>|  
|`((?<=\.)\d+)?`|<span data-ttu-id="5677c-1200">如果一段是前一个字符，匹配一个或多个十进制数字。</span><span class="sxs-lookup"><span data-stu-id="5677c-1200">If a period is the previous character, match one or more decimal digits.</span></span> <span data-ttu-id="5677c-1201">此模式可以匹配零个或一个时间。</span><span class="sxs-lookup"><span data-stu-id="5677c-1201">This pattern can be matched either zero or one time.</span></span>|  
|`(\d+\.?((?<=\.)\d+)?)`|<span data-ttu-id="5677c-1202">与一个或多个十进制数字，后面再跟一个可选的时间段和其他十进制数字的模式匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1202">Match the pattern of one or more decimal digits followed by an optional period and additional decimal digits.</span></span> <span data-ttu-id="5677c-1203">这是第二个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1203">This is the second capturing group.</span></span> <span data-ttu-id="5677c-1204">对调用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%29>方法使用此捕获组的值替换整个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1204">The call to the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%29> method replaces the entire match with the value of this captured group.</span></span>|  
|<code>(?(1)&#124;\s?\p{Sc})?</code>|<span data-ttu-id="5677c-1205">如果第一个捕获的组存在，则匹配空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1205">If the first captured group exists, match an empty string.</span></span> <span data-ttu-id="5677c-1206">否则，匹配零个或一个空白字符后跟货币符号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1206">Otherwise, match zero or one white-space character followed by a currency symbol.</span></span>|  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1207"><paramref name="input" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1207"><paramref name="input" /> or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1208">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1208">A time-out occurred.</span></span> <span data-ttu-id="5677c-1209">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1209">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1210">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1210">Regular Expression Language - Quick Reference</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1211">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1211">Substitutions</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, System.Text.RegularExpressions.MatchEvaluator evaluator);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, class System.Text.RegularExpressions.MatchEvaluator evaluator) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.Text.RegularExpressions.MatchEvaluator)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, evaluator As MatchEvaluator) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::Text::RegularExpressions::MatchEvaluator ^ evaluator);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * System.Text.RegularExpressions.MatchEvaluator -&gt; string" Usage="regex.Replace (input, evaluator)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1212">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1212">The string to search for a match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1213">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1213">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <summary><span data-ttu-id="5677c-1214">在指定的输入字符串中，使用由 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与指定的正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1214">In a specified input string, replaces all strings that match a specified regular expression with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span></summary>
        <returns><span data-ttu-id="5677c-1215">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被一个替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1215">A new string that is identical to the input string, except that a replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1216">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1216">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1217"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%29?displayProperty=nameWithType>方法可用于替换正则表达式匹配，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1217">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%29?displayProperty=nameWithType> method is useful for replacing a regular expression match if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1218">正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1218">The replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1219">替换字符串中匹配的字符串上进行某些处理结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1219">The replacement string results from some processing done on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1220">来自有条件处理的替换字符串结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1220">The replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1221">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType>方法并传递每个<xref:System.Text.RegularExpressions.Match>在返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1221">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType> method and passing each <xref:System.Text.RegularExpressions.Match> object in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1222">正则表达式是当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1222">The regular expression is the pattern defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span>  
  
 <span data-ttu-id="5677c-1223">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1223">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1224">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1224">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1225">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1225">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1226"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1226">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1227">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1227">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1228">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1228">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1229">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1229">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1230">下面的代码示例显示原始字符串、 匹配原始字符串中的每个单词，将转换后的字符串转换为大写，然后显示每个匹配项的第一个字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1230">The following code example displays an original string, matches each word in the original string, converts the first character of each match to uppercase, then displays the converted string.</span></span>  
  
 [!code-csharp[Regex.Replace-Instance#1](~/samples/snippets/csharp/VS_Snippets_CLR/Regex.Replace-Instance/cs/sample.cs#1)]
 [!code-vb[Regex.Replace-Instance#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/Regex.Replace-Instance/vb/sample.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1231"><paramref name="input" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1231"><paramref name="input" /> or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1232">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1232">A time-out occurred.</span></span> <span data-ttu-id="5677c-1233">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1233">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="T:System.Text.RegularExpressions.MatchEvaluator" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1234">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1234">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1235">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1235">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, string replacement, int count);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, string replacement, int32 count) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, replacement As String, count As Integer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::String ^ replacement, int count);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * string * int -&gt; string" Usage="regex.Replace (input, replacement, count)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
        <Parameter Name="count" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1236">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1236">The string to search for a match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1237">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1237">The replacement string.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1238">可进行替换的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1238">The maximum number of times the replacement can occur.</span></span></param>
        <summary><span data-ttu-id="5677c-1239">在指定输入字符串内，使用指定替换字符串替换与某个正则表达式模式匹配的字符串（其数目为指定的最大数目）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1239">In a specified input string, replaces a specified maximum number of strings that match a regular expression pattern with a specified replacement string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1240">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1240">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1241">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1241">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1242">开头开始搜索的匹配项`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1242">The search for matches starts at the beginning of the `input` string.</span></span> <span data-ttu-id="5677c-1243">正则表达式是由当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1243">The regular expression is the pattern that is defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span> <span data-ttu-id="5677c-1244">如果`count`为负，替换继续进行到字符串的末尾。</span><span class="sxs-lookup"><span data-stu-id="5677c-1244">If `count` is negative, replacements continue to the end of the string.</span></span> <span data-ttu-id="5677c-1245">如果`count`超过了匹配项的数目，则替换所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1245">If `count` exceeds the number of matches, all matches are replaced.</span></span>  
  
 <span data-ttu-id="5677c-1246">`replacement`参数指定的字符串，用于替换第一个`count`一致`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1246">The `replacement` parameter specifies the string that is to replace the first `count` matches in `input`.</span></span> <span data-ttu-id="5677c-1247">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1247">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1248">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1248">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1249">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1249">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1250">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1250">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1251">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1251">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1252"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1252">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1253">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1253">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1254">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1254">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1255">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1255">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1256">下面的示例重复的字符的前五个匹配项替换单个字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1256">The following example replaces the first five occurrences of duplicated characters with a single character.</span></span> <span data-ttu-id="5677c-1257">正则表达式模式`(\w)\1`匹配单个字符的连续匹配项并将第一个匹配项分配给第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1257">The regular expression pattern `(\w)\1` matches consecutive occurrences of a single character and assigns the first occurrence to the first capturing group.</span></span> <span data-ttu-id="5677c-1258">替换模式`$1`替换整个匹配项替换为第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1258">The replacement pattern `$1` replaces the entire match with the first captured group.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replaceexample8.cs#8)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replaceexample8.vb#8)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1259"><paramref name="input" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1259"><paramref name="input" /> or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1260">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1260">A time-out occurred.</span></span> <span data-ttu-id="5677c-1261">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1261">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1262">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1262">Regular Expression Language - Quick Reference</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1263">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1263">Substitutions</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, string replacement);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, string replacement) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, replacement As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::String ^ replacement);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * string -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, replacement)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1264">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1264">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1265">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1265">The regular expression pattern to match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1266">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1266">The replacement string.</span></span></param>
        <summary><span data-ttu-id="5677c-1267">在指定的输入字符串内，使用指定的替换字符串替换与指定正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1267">In a specified input string, replaces all strings that match a specified regular expression with a specified replacement string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1268">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1268">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1269">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1269">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1270">静态`Replace`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Replace`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1270">The static `Replace` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Replace`.</span></span>  
  
 <span data-ttu-id="5677c-1271">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1271">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1272">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1272">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span> <span data-ttu-id="5677c-1273">开头开始搜索的匹配项`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1273">The search for matches starts at the beginning of the `input` string.</span></span>  
  
 <span data-ttu-id="5677c-1274">`replacement`参数指定是替换中的每个匹配项的字符串`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1274">The `replacement` parameter specifies the string that is to replace each match in `input`.</span></span> <span data-ttu-id="5677c-1275">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1275">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1276">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1276">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1277">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1277">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1278">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1278">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1279">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1279">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1280"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1280">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1281">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1281">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 <span data-ttu-id="5677c-1282">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1282">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1283">下面的示例定义正则表达式， `\s+`，匹配一个或多个空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1283">The following example defines a regular expression, `\s+`, that matches one or more white-space characters.</span></span> <span data-ttu-id="5677c-1284">替换字符串中，""，它们替换为单个空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1284">The replacement string, " ", replaces them with a single space character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replaceexample6.cs#6)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replaceexample6.vb#6)]  
  
 <span data-ttu-id="5677c-1285">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%29>方法将替换本地文件路径的 UNC 路径中的本地计算机和驱动器名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1285">The following example uses the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%29> method to replace the local machine and drive names in a UNC path with a local file path.</span></span> <span data-ttu-id="5677c-1286">使用正则表达式<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性以包含本地计算机的名称和<xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType>方法以包括的逻辑驱动器的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1286">The regular expression uses the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property to include the name of the local computer, and the <xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType> method to include the names of the logical drives.</span></span> <span data-ttu-id="5677c-1287">若要成功运行该示例，应该替换你本地计算机的名称为"MyMachine"的文本字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1287">To run the example successfully, you should replace the literal string "MyMachine" with your local machine name.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace3.vb#3)]  
  
 <span data-ttu-id="5677c-1288">以下表达式所定义的正则表达式模式：</span><span class="sxs-lookup"><span data-stu-id="5677c-1288">The regular expression pattern is defined by the following expression:</span></span>  
  
 `"\\\\(?i:" + Environment.MachineName + ")(?:\.\w+)*\\((?i:[" + driveNames + "]))\$"`  
  
 <span data-ttu-id="5677c-1289">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1289">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-1290">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1290">Pattern</span></span>|<span data-ttu-id="5677c-1291">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1291">Description</span></span>|  
|-------------|-----------------|  
|`\\\\`|<span data-ttu-id="5677c-1292">匹配两个连续反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1292">Match two consecutive backslash (`\`) characters.</span></span> <span data-ttu-id="5677c-1293">反斜杠字符解释为转义符，因为每个反斜杠必须使用另一个反斜杠进行转义。</span><span class="sxs-lookup"><span data-stu-id="5677c-1293">Because the backslash character is interpreted as the escape character, each backslash must be escaped with another backslash.</span></span>|  
|`(?i:" + Environment.MachineName + ")`|<span data-ttu-id="5677c-1294">执行不区分大小写的匹配返回的字符串的<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-1294">Perform a case-insensitive match of the string that is returned by the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property.</span></span>|  
|`(?:\.\w+)*`|<span data-ttu-id="5677c-1295">匹配句点 (`.`) 字符后跟一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1295">Match the period (`.`) character followed by one or more word characters.</span></span> <span data-ttu-id="5677c-1296">此匹配可以出现零次或多次。</span><span class="sxs-lookup"><span data-stu-id="5677c-1296">This match can occur zero or more times.</span></span> <span data-ttu-id="5677c-1297">未捕获匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1297">The matched subexpression is not captured.</span></span>|  
|`\\`|<span data-ttu-id="5677c-1298">匹配一个反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1298">Match a backslash (`\`) character.</span></span>|  
|`((?i:[" + driveNames + "]))`|<span data-ttu-id="5677c-1299">执行不区分大小写的匹配项的各个盘符所组成的字符类。</span><span class="sxs-lookup"><span data-stu-id="5677c-1299">Perform a case-insensitive match of the character class that consists of the individual drive lettters.</span></span> <span data-ttu-id="5677c-1300">满足此匹配，第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1300">This match is the first captured subexpression.</span></span>|  
|`\$`|<span data-ttu-id="5677c-1301">匹配文本的美元符号 (`$`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1301">Match the literal dollar sign (`$`) character.</span></span>|  
  
 <span data-ttu-id="5677c-1302">替换模式`$1`整个匹配项替换为第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1302">The replacement pattern `$1` replaces the entire match with the first captured subexpression.</span></span> <span data-ttu-id="5677c-1303">也就是说，它将 UNC 计算机和驱动器名称替换为驱动器号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1303">That is, it replaces the UNC machine and drive name with the drive letter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1304">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1304">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1305"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1305"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1306">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1306">A time-out occurred.</span></span> <span data-ttu-id="5677c-1307">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1307">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1308">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1308">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-1309">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1309">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1310">推荐的静态方法，用于更换的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1310">The recommended static method for replacing a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1311">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1311">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1312">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1312">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, System.Text.RegularExpressions.MatchEvaluator evaluator);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, class System.Text.RegularExpressions.MatchEvaluator evaluator) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, evaluator As MatchEvaluator) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::MatchEvaluator ^ evaluator);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * System.Text.RegularExpressions.MatchEvaluator -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, evaluator)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1313">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1313">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1314">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1314">The regular expression pattern to match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1315">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1315">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <summary><span data-ttu-id="5677c-1316">在指定的输入字符串中，使用由 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与指定的正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1316">In a specified input string, replaces all strings that match a specified regular expression with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span></summary>
        <returns><span data-ttu-id="5677c-1317">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被一个替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1317">A new string that is identical to the input string, except that a replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1318">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1318">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1319"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%29?displayProperty=nameWithType>方法可用于替换正则表达式匹配，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1319">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%29?displayProperty=nameWithType> method is useful for replacing a regular expression match if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1320">正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1320">The replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1321">替换字符串中匹配的字符串上进行某些处理结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1321">The replacement string results from some processing done on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1322">来自有条件处理的替换字符串结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1322">The replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1323">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType>方法并传递每个<xref:System.Text.RegularExpressions.Match>在返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1323">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%29?displayProperty=nameWithType> method and passing each <xref:System.Text.RegularExpressions.Match> object in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1324">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1324">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1325">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1325">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1326">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1326">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1327">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1327">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1328">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1328">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1329"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1329">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1330">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1330">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 <span data-ttu-id="5677c-1331">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1331">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1332">下面的示例使用正则表达式，从字符串中提取的单个单词，然后使用<xref:System.Text.RegularExpressions.MatchEvaluator>委托来调用一个名为方法`WordScramble`打乱单词中的单个字母。</span><span class="sxs-lookup"><span data-stu-id="5677c-1332">The following example uses a regular expression to extract the individual words from a string, and then uses a <xref:System.Text.RegularExpressions.MatchEvaluator> delegate to call a method named `WordScramble` that scrambles the individual letters in the word.</span></span> <span data-ttu-id="5677c-1333">若要执行此操作，`WordScramble`方法创建一个数组，包含匹配项中的字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1333">To do this, the `WordScramble` method creates an array that contains the characters in the match.</span></span> <span data-ttu-id="5677c-1334">它还用随机浮点数创建一个并行数组，它将填充。</span><span class="sxs-lookup"><span data-stu-id="5677c-1334">It also creates a parallel array that it populates with random floating-point numbers.</span></span> <span data-ttu-id="5677c-1335">这些数组进行排序通过调用<xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>方法，并已排序的数组作为参数提供<xref:System.String>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1335">The arrays are sorted by calling the <xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method, and the sorted array is provided as an argument to a <xref:System.String> class constructor.</span></span> <span data-ttu-id="5677c-1336">然后返回此新创建的字符串`WordScramble`方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1336">This newly created string is then returned by the `WordScramble` method.</span></span> <span data-ttu-id="5677c-1337">正则表达式模式`\w+`匹配一个或多个单词字符; 正则表达式引擎将继续将字符添加到匹配项，直到它遇到非单词字符，例如空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1337">The regular expression pattern `\w+` matches one or more word characters; the regular expression engine will continue to add characters to the match until it encounters a non-word character, such as a white-space character.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace5.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace5.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1338">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1338">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1339"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1339"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1340">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1340">A time-out occurred.</span></span> <span data-ttu-id="5677c-1341">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1341">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1342">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1342">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-1343">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1343">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1344">推荐的静态方法，用于评估和替换模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1344">The recommended static method for evaluating and replacing a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <altmember cref="T:System.Text.RegularExpressions.MatchEvaluator" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1345">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1345">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1346">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1346">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, System.Text.RegularExpressions.MatchEvaluator evaluator, int count);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, class System.Text.RegularExpressions.MatchEvaluator evaluator, int32 count) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.Text.RegularExpressions.MatchEvaluator,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, evaluator As MatchEvaluator, count As Integer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::Text::RegularExpressions::MatchEvaluator ^ evaluator, int count);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * System.Text.RegularExpressions.MatchEvaluator * int -&gt; string" Usage="regex.Replace (input, evaluator, count)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
        <Parameter Name="count" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1347">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1347">The string to search for a match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1348">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1348">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1349">进行替换的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1349">The maximum number of times the replacement will occur.</span></span></param>
        <summary><span data-ttu-id="5677c-1350">在指定的输入字符串内，使用 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与某个正则表达式模式匹配的字符串（其数目为指定的最大数目）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1350">In a specified input string, replaces a specified maximum number of strings that match a regular expression pattern with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span></summary>
        <returns><span data-ttu-id="5677c-1351">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被一个替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1351">A new string that is identical to the input string, except that a replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1352">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1352">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1353"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Int32%29?displayProperty=nameWithType>方法可用于替换正则表达式匹配，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1353">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Int32%29?displayProperty=nameWithType> method is useful for replacing a regular expression match if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1354">正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1354">The replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1355">替换字符串中匹配的字符串上进行某些处理结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1355">The replacement string results from some processing done on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1356">来自有条件处理的替换字符串结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1356">The replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1357">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType>方法并传递第一个`count`<xref:System.Text.RegularExpressions.Match>中返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1357">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%29?displayProperty=nameWithType> method and passing the first `count`<xref:System.Text.RegularExpressions.Match> objects in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1358">正则表达式是当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1358">The regular expression is the pattern defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span>  
  
 <span data-ttu-id="5677c-1359">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1359">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1360">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1360">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1361">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1361">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1362"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1362">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1363">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1363">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1364">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1364">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1365">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1365">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1366">以下示例使用正则表达式来有意拼错的单词列表中的下半部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1366">The following example uses a regular expression to deliberately misspell half of the words in a list.</span></span> <span data-ttu-id="5677c-1367">它使用正则表达式`\w*(ie|ei)\w*`与包含字符"ie"或"ei"的单词匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1367">It uses the regular expression `\w*(ie|ei)\w*` to match words that include the characters "ie" or "ei".</span></span> <span data-ttu-id="5677c-1368">它将传递第一个到匹配的单词的一半`ReverseLetter`方法，它反过来使用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法，以撤消"i"和"e"中匹配的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1368">It passes the first half of the matching words to the `ReverseLetter` method, which, in turn, uses the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method to reverse "i" and "e" in the matched string.</span></span> <span data-ttu-id="5677c-1369">剩余字词保持不变。</span><span class="sxs-lookup"><span data-stu-id="5677c-1369">The remaining words remain unchanged.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#11](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace7.cs#11)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#11](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace7.vb#11)]  
  
 <span data-ttu-id="5677c-1370">正则表达式 `\w*(ie|ei)\w*` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1370">The regular expression `\w*(ie|ei)\w*` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1371">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1371">Pattern</span></span>|<span data-ttu-id="5677c-1372">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1372">Description</span></span>|  
|-------------|-----------------|  
|`\w*`|<span data-ttu-id="5677c-1373">匹配零个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1373">Match zero or more word characters.</span></span>|  
|<code>(ie&#124;ei)</code>|<span data-ttu-id="5677c-1374">匹配"ie"或"ei"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1374">Match either "ie" or "ei".</span></span>|  
|`\w*`|<span data-ttu-id="5677c-1375">匹配零个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1375">Match zero or more word characters.</span></span>|  
  
 <span data-ttu-id="5677c-1376">正则表达式模式`([ie])([ie])`在`ReverseLetter`方法 diphthong"ie"或"ei"中匹配的第一个"i"或"e"，并将字母分配给第一个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1376">The regular expression pattern `([ie])([ie])` in the `ReverseLetter` method matches the first "i" or "e" in the diphthong "ie" or "ei" and assigns the letter to the first capturing group.</span></span> <span data-ttu-id="5677c-1377">它匹配的第二个"i"或"e"，并将号分配给第二个捕获组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1377">It matches the second "i" or "e" and assigns the letter to the second capturing group.</span></span> <span data-ttu-id="5677c-1378">两个字符会接着反转通过调用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%29>方法使用替换模式`$2$1`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1378">The two characters are then reversed by calling the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%29> method with the replacement pattern `$2$1`.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1379"><paramref name="input" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1379"><paramref name="input" /> or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1380">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1380">A time-out occurred.</span></span> <span data-ttu-id="5677c-1381">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1381">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="T:System.Text.RegularExpressions.MatchEvaluator" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1382">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1382">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1383">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1383">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, string replacement, int count, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, string replacement, int32 count, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Int32,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, replacement As String, count As Integer, startat As Integer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::String ^ replacement, int count, int startat);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * string * int * int -&gt; string" Usage="regex.Replace (input, replacement, count, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
        <Parameter Name="count" Type="System.Int32" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1384">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1384">The string to search for a match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1385">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1385">The replacement string.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1386">可进行替换的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1386">Maximum number of times the replacement can occur.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-1387">输入字符串中开始执行搜索的字符位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1387">The character position in the input string where the search begins.</span></span></param>
        <summary><span data-ttu-id="5677c-1388">在指定输入子字符串内，使用指定替换字符串替换与某个正则表达式模式匹配的字符串（其数目为指定的最大数目）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1388">In a specified input substring, replaces a specified maximum number of strings that match a regular expression pattern with a specified replacement string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1389">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1389">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1390">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1390">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1391">开始搜索的匹配项`input`字符串中指定的位置`startat`参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1391">The search for matches starts in the `input` string at the position specified by the `startat` parameter.</span></span> <span data-ttu-id="5677c-1392">正则表达式是当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1392">The regular expression is the pattern defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span> <span data-ttu-id="5677c-1393">如果`count`为负，替换继续进行到字符串的末尾。</span><span class="sxs-lookup"><span data-stu-id="5677c-1393">If `count` is negative, replacements continue to the end of the string.</span></span> <span data-ttu-id="5677c-1394">如果`count`超过了匹配项的数目，则替换所有匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1394">If `count` exceeds the number of matches, all matches are replaced.</span></span>  
  
 <span data-ttu-id="5677c-1395">`replacement`参数指定是替换中的每个匹配项的字符串`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1395">The `replacement` parameter specifies the string that is to replace each match in `input`.</span></span> <span data-ttu-id="5677c-1396">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1396">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1397">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1397">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1398">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1398">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1399">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1399">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1400">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1400">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1401"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1401">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1402">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1402">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1403">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1403">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1404">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1404">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1405">除字符串的第一行之外的所有 double-spaces 下面的示例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1405">The following example double-spaces all but the first line of a string.</span></span> <span data-ttu-id="5677c-1406">它定义的正则表达式模式`^.*$`，与匹配的文本，调用行<xref:System.Text.RegularExpressions.Regex.Match%28System.String%29>方法以匹配的字符串，并使用第一行`Match.Index`和`Match.Count`属性以确定第二个的起始位置行。</span><span class="sxs-lookup"><span data-stu-id="5677c-1406">It defines a regular expression pattern, `^.*$`, that matches a line of text, calls the <xref:System.Text.RegularExpressions.Regex.Match%28System.String%29> method to match the first line of the string, and uses the `Match.Index` and `Match.Count` properties to determine the starting position of the second line.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replaceexample9.cs#9)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replaceexample9.vb#9)]  
  
 <span data-ttu-id="5677c-1407">正则表达式模式 `^.*$` 的定义如下表所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1407">The regular expression pattern `^.*$` is defined as shown in the following table.</span></span>  
  
|<span data-ttu-id="5677c-1408">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1408">Pattern</span></span>|<span data-ttu-id="5677c-1409">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1409">Description</span></span>|  
|-------------|-----------------|  
|`^`|<span data-ttu-id="5677c-1410">匹配行的开头。</span><span class="sxs-lookup"><span data-stu-id="5677c-1410">Match the start of a line.</span></span> <span data-ttu-id="5677c-1411">(请注意，<xref:System.Text.RegularExpressions.Regex>对象实例化使用<xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>选项; 否则，此字符类将仅匹配输入字符串的开头。)</span><span class="sxs-lookup"><span data-stu-id="5677c-1411">(Note that the <xref:System.Text.RegularExpressions.Regex> object was instantiated by using the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option; otherwise, this character class would only match the beginning of the input string.)</span></span>|  
|`.*`|<span data-ttu-id="5677c-1412">匹配任一字符零次或多次。</span><span class="sxs-lookup"><span data-stu-id="5677c-1412">Match any character zero or more times.</span></span>|  
|`$`|<span data-ttu-id="5677c-1413">匹配行尾。</span><span class="sxs-lookup"><span data-stu-id="5677c-1413">Match the end of a line.</span></span> <span data-ttu-id="5677c-1414">(请注意，<xref:System.Text.RegularExpressions.Regex>对象实例化使用<xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType>选项; 否则，此字符类将仅匹配输入字符串的开头。)</span><span class="sxs-lookup"><span data-stu-id="5677c-1414">(Note that the <xref:System.Text.RegularExpressions.Regex> object was instantiated by using the <xref:System.Text.RegularExpressions.RegexOptions.Multiline?displayProperty=nameWithType> option; otherwise, this character class would only match the beginning of the input string.)</span></span>|  
  
 <span data-ttu-id="5677c-1415">替换字符串 (`vbCrLf + "$&"`在 Visual Basic 中`"\n$&"`C# 中) 添加一个新行之前匹配的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1415">The replacement string (`vbCrLf + "$&"` in Visual Basic, `"\n$&"` in C#) adds a new line before the matched string.</span></span> <span data-ttu-id="5677c-1416">请注意，`\n`在 C# 示例将解释为换行字符由 C# 编译器; 它不表示正则表达式字符转义符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1416">Note that `\n` in the C# example is interpreted as the newline character by the C# compiler; it does not represent a regular expression character escape.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1417"><paramref name="input" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1417"><paramref name="input" /> or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1418"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-1418"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1419">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1419">A time-out occurred.</span></span> <span data-ttu-id="5677c-1420">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1420">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1421">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1421">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1422">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1422">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, string replacement, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, string replacement, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, replacement As String, options As RegexOptions) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::String ^ replacement, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * string * System.Text.RegularExpressions.RegexOptions -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, replacement, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1423">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1423">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1424">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1424">The regular expression pattern to match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1425">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1425">The replacement string.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1426">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1426">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-1427">在指定的输入字符串内，使用指定的替换字符串替换与指定正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1427">In a specified input string, replaces all strings that match a specified regular expression with a specified replacement string.</span></span> <span data-ttu-id="5677c-1428">指定的选项将修改匹配操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-1428">Specified options modify the matching operation.</span></span></summary>
        <returns><span data-ttu-id="5677c-1429">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1429">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1430">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1430">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1431">静态`Replace`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Replace`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1431">The static `Replace` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Replace`.</span></span>  
  
 <span data-ttu-id="5677c-1432">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1432">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1433">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1433">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span> <span data-ttu-id="5677c-1434">如果指定<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>为`options`参数，搜索的匹配项从输入字符串的末尾处开始，并向左移动; 否则为搜索输入字符串的开头开始并向右移动。</span><span class="sxs-lookup"><span data-stu-id="5677c-1434">If you specify <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft> for the `options` parameter, the search for matches begins at the end of the input string and moves left; otherwise, the search begins at the start of the input string and moves right.</span></span>  
  
 <span data-ttu-id="5677c-1435">`replacement`参数指定是替换中的每个匹配项的字符串`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1435">The `replacement` parameter specifies the string that is to replace each match in `input`.</span></span> <span data-ttu-id="5677c-1436">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1436">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1437">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1437">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1438">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1438">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1439">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1439">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1440">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1440">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1441"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1441">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1442">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1442">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 <span data-ttu-id="5677c-1443">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1443">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1444">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29>方法将替换本地文件路径的 UNC 路径中的本地计算机和驱动器名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1444">The following example uses the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29> method to replace the local machine and drive names in a UNC path with a local file path.</span></span> <span data-ttu-id="5677c-1445">使用正则表达式<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性以包含本地计算机的名称和<xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType>方法以包括的逻辑驱动器的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1445">The regular expression uses the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property to include the name of the local computer, and the <xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType> method to include the names of the logical drives.</span></span> <span data-ttu-id="5677c-1446">所有正则表达式字符串比较不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="5677c-1446">All regular expression string comparisons are case-insensitive.</span></span> <span data-ttu-id="5677c-1447">若要成功运行该示例，应该替换你本地计算机的名称为"MyMachine"的文本字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1447">To run the example successfully, you should replace the literal string "MyMachine" with your local machine name.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace4.cs#4)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace4.vb#4)]  
  
 <span data-ttu-id="5677c-1448">以下表达式所定义的正则表达式模式：</span><span class="sxs-lookup"><span data-stu-id="5677c-1448">The regular expression pattern is defined by the following expression:</span></span>  
  
 `"\\\\" + Environment.MachineName + "(?:\.\w+)*\\([" + driveNames + "])\$"`  
  
 <span data-ttu-id="5677c-1449">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1449">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-1450">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1450">Pattern</span></span>|<span data-ttu-id="5677c-1451">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1451">Description</span></span>|  
|-------------|-----------------|  
|`\\\\`|<span data-ttu-id="5677c-1452">匹配两个连续反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1452">Match two consecutive backslash (`\`) characters.</span></span> <span data-ttu-id="5677c-1453">反斜杠字符解释为转义符，因为每个反斜杠必须使用另一个反斜杠进行转义。</span><span class="sxs-lookup"><span data-stu-id="5677c-1453">Because the backslash character is interpreted as the escape character, each backslash must be escaped with another backslash.</span></span>|  
|`+ Environment.MachineName +`|<span data-ttu-id="5677c-1454">返回的字符串匹配<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-1454">Match the string that is returned by the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property.</span></span>|  
|`(?:\.\w+)*`|<span data-ttu-id="5677c-1455">匹配句点 (`.`) 字符后跟一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1455">Match the period (`.`) character followed by one or more word characters.</span></span> <span data-ttu-id="5677c-1456">此匹配可以出现零次或多次。</span><span class="sxs-lookup"><span data-stu-id="5677c-1456">This match can occur zero or more times.</span></span> <span data-ttu-id="5677c-1457">未捕获匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1457">The matched subexpression is not captured.</span></span>|  
|`\\`|<span data-ttu-id="5677c-1458">匹配一个反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1458">Match a backslash (`\`) character.</span></span>|  
|`([" + driveNames + "])`|<span data-ttu-id="5677c-1459">匹配包含单个驱动器字母的字符类。</span><span class="sxs-lookup"><span data-stu-id="5677c-1459">Match the character class that consists of the individual drive letters.</span></span> <span data-ttu-id="5677c-1460">满足此匹配，第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1460">This match is the first captured subexpression.</span></span>|  
|`\$`|<span data-ttu-id="5677c-1461">匹配文本的美元符号 (`$`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1461">Match the literal dollar sign (`$`) character.</span></span>|  
  
 <span data-ttu-id="5677c-1462">替换模式`$1`整个匹配项替换为第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1462">The replacement pattern `$1` replaces the entire match with the first captured subexpression.</span></span> <span data-ttu-id="5677c-1463">也就是说，它将 UNC 计算机和驱动器名称替换为驱动器号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1463">That is, it replaces the UNC machine and drive name with the drive letter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1464">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1464">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1465"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1465"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1466"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1466"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1467">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1467">A time-out occurred.</span></span> <span data-ttu-id="5677c-1468">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1468">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1469">此方法等同于调用它的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1469">This method times out after an interval that is equal to the default time-out value of the application domain in which it is called.</span></span> <span data-ttu-id="5677c-1470">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1470">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1471">推荐的静态方法，用于更换的模式匹配是<see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1471">The recommended static method for replacing a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <altmember cref="T:System.Text.RegularExpressions.RegexOptions" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1472">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1472">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1473">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1473">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, System.Text.RegularExpressions.MatchEvaluator evaluator, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, class System.Text.RegularExpressions.MatchEvaluator evaluator, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, evaluator As MatchEvaluator, options As RegexOptions) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::MatchEvaluator ^ evaluator, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * System.Text.RegularExpressions.MatchEvaluator * System.Text.RegularExpressions.RegexOptions -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, evaluator, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1474">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1474">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1475">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1475">The regular expression pattern to match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1476">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1476">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1477">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1477">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-1478">在指定的输入字符串中，使用由 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与指定的正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1478">In a specified input string, replaces all strings that match a specified regular expression with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span> <span data-ttu-id="5677c-1479">指定的选项将修改匹配操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-1479">Specified options modify the matching operation.</span></span></summary>
        <returns><span data-ttu-id="5677c-1480">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被一个替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1480">A new string that is identical to the input string, except that a replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1481">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1481">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1482"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法可用于替换中的正则表达式匹配项，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1482">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method is useful for replacing a regular expression match in if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1483">正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1483">The replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1484">替换字符串中匹配的字符串上进行某些处理结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1484">The replacement string results from some processing done on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1485">来自有条件处理的替换字符串结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1485">The replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1486">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法并传递每个<xref:System.Text.RegularExpressions.Match>在返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1486">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method and passing each <xref:System.Text.RegularExpressions.Match> object in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1487">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1487">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1488">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1488">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1489">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1489">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1490">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1490">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1491">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1491">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1492">如果指定<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>为`options`参数，搜索的匹配项从输入字符串的末尾处开始，并向左移动; 否则为搜索输入字符串的开头开始并向右移动。</span><span class="sxs-lookup"><span data-stu-id="5677c-1492">If you specify <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft> for the `options` parameter, the search for matches begins at the end of the input string and moves left; otherwise, the search begins at the start of the input string and moves right.</span></span>  
  
 <span data-ttu-id="5677c-1493"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1493">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1494">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1494">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 <span data-ttu-id="5677c-1495">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1495">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1496">下面的示例使用正则表达式，从字符串中提取的单个单词，然后使用<xref:System.Text.RegularExpressions.MatchEvaluator>委托来调用一个名为方法`WordScramble`打乱单词中的单个字母。</span><span class="sxs-lookup"><span data-stu-id="5677c-1496">The following example uses a regular expression to extract the individual words from a string, and then uses a <xref:System.Text.RegularExpressions.MatchEvaluator> delegate to call a method named `WordScramble` that scrambles the individual letters in the word.</span></span> <span data-ttu-id="5677c-1497">若要执行此操作，`WordScramble`方法创建一个数组，包含匹配项中的字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1497">To do this, the `WordScramble` method creates an array that contains the characters in the match.</span></span> <span data-ttu-id="5677c-1498">它还用随机浮点数创建一个并行数组，它将填充。</span><span class="sxs-lookup"><span data-stu-id="5677c-1498">It also creates a parallel array that it populates with random floating-point numbers.</span></span> <span data-ttu-id="5677c-1499">这些数组进行排序通过调用<xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>方法，并已排序的数组作为参数提供<xref:System.String>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1499">The arrays are sorted by calling the <xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method, and the sorted array is provided as an argument to a <xref:System.String> class constructor.</span></span> <span data-ttu-id="5677c-1500">然后返回此新创建的字符串`WordScramble`方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1500">This newly created string is then returned by the `WordScramble` method.</span></span> <span data-ttu-id="5677c-1501">正则表达式模式`\w+`匹配一个或多个单词字符; 正则表达式引擎将继续将字符添加到匹配项，直到它遇到非单词字符，例如空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1501">The regular expression pattern `\w+` matches one or more word characters; the regular expression engine will continue to add characters to the match until it encounters a non-word character, such as a white-space character.</span></span> <span data-ttu-id="5677c-1502">在调用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29>方法包括<xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>选项，以便在正则表达式模式中的注释`\w+  # Matches all the characters in a word.`忽略正则表达式引擎。</span><span class="sxs-lookup"><span data-stu-id="5677c-1502">The call to the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29> method includes the <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option so that the comment in the regular expression pattern `\w+  # Matches all the characters in a word.` is ignored by the regular expression engine.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace6.cs#10)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace6.vb#10)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1503">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1503">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1504"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1504"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1505"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1505"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1506">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1506">A time-out occurred.</span></span> <span data-ttu-id="5677c-1507">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1507">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="T:System.Text.RegularExpressions.MatchEvaluator" />
        <altmember cref="T:System.Text.RegularExpressions.RegexOptions" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1508">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1508">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1509">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1509">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public string Replace (string input, System.Text.RegularExpressions.MatchEvaluator evaluator, int count, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string Replace(string input, class System.Text.RegularExpressions.MatchEvaluator evaluator, int32 count, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.Text.RegularExpressions.MatchEvaluator,System.Int32,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Replace (input As String, evaluator As MatchEvaluator, count As Integer, startat As Integer) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::String ^ Replace(System::String ^ input, System::Text::RegularExpressions::MatchEvaluator ^ evaluator, int count, int startat);" />
      <MemberSignature Language="F#" Value="member this.Replace : string * System.Text.RegularExpressions.MatchEvaluator * int * int -&gt; string" Usage="regex.Replace (input, evaluator, count, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
        <Parameter Name="count" Type="System.Int32" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1510">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1510">The string to search for a match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1511">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1511">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1512">进行替换的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1512">The maximum number of times the replacement will occur.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-1513">输入字符串中开始执行搜索的字符位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1513">The character position in the input string where the search begins.</span></span></param>
        <summary><span data-ttu-id="5677c-1514">在指定的输入子字符串内，使用 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与某个正则表达式模式匹配的字符串（其数目为指定的最大数目）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1514">In a specified input substring, replaces a specified maximum number of strings that match a regular expression pattern with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span></summary>
        <returns><span data-ttu-id="5677c-1515">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被一个替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1515">A new string that is identical to the input string, except that a replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1516">如果正则表达式模式与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1516">If the regular expression pattern is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1517"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType>方法可用于替换正则表达式匹配，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1517">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Int32%2CSystem.Int32%29?displayProperty=nameWithType> method is useful for replacing a regular expression match if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1518">正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1518">The replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1519">替换字符串中匹配的字符串上进行某些处理结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1519">The replacement string results from some processing done on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1520">来自有条件处理的替换字符串结果。</span><span class="sxs-lookup"><span data-stu-id="5677c-1520">The replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1521">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29?displayProperty=nameWithType>方法并传递第一个`count`<xref:System.Text.RegularExpressions.Match>中返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1521">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.Int32%29?displayProperty=nameWithType> method and passing the first `count`<xref:System.Text.RegularExpressions.Match> objects in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1522">正则表达式是当前的构造函数定义的模式<xref:System.Text.RegularExpressions.Regex>对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1522">The regular expression is the pattern defined by the constructor for the current <xref:System.Text.RegularExpressions.Regex> object.</span></span>  
  
 <span data-ttu-id="5677c-1523">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1523">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1524">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1524">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1525">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1525">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1526"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果替换操作的执行时间超过指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1526">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the replacement operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1527">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1527">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1528">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1528">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 <span data-ttu-id="5677c-1529">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1529">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1530"><paramref name="input" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1530"><paramref name="input" /> or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1531"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-1531"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1532">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1532">A time-out occurred.</span></span> <span data-ttu-id="5677c-1533">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1533">For more information about time-outs, see the Remarks section.</span></span></exception>
        <altmember cref="T:System.Text.RegularExpressions.MatchEvaluator" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1534">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1534">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1535">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1535">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, string replacement, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, string replacement, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, replacement As String, options As RegexOptions, matchTimeout As TimeSpan) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::String ^ replacement, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, replacement, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="replacement" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1536">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1536">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1537">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1537">The regular expression pattern to match.</span></span></param>
        <param name="replacement"><span data-ttu-id="5677c-1538">替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1538">The replacement string.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1539">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1539">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-1540">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1540">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-1541">在指定的输入字符串内，使用指定的替换字符串替换与指定正则表达式匹配的所有字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1541">In a specified input string, replaces all strings that match a specified regular expression with a specified replacement string.</span></span> <span data-ttu-id="5677c-1542">如果未找到匹配项，则其他参数指定修改匹配操作的选项和超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1542">Additional parameters specify options that modify the matching operation and a time-out interval if no match is found.</span></span></summary>
        <returns><span data-ttu-id="5677c-1543">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1543">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1544">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1544">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1545">静态`Replace`方法是等效于构造<xref:System.Text.RegularExpressions.Regex>对象使用指定的正则表达式模式，并调用实例方法`Replace`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1545">The static `Replace` methods are equivalent to constructing a <xref:System.Text.RegularExpressions.Regex> object with the specified regular expression pattern and calling the instance method `Replace`.</span></span>  
  
 <span data-ttu-id="5677c-1546">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1546">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1547">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1547">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span> <span data-ttu-id="5677c-1548">如果指定<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>为`options`参数，搜索的匹配项从输入字符串的末尾处开始，并向左移动; 否则为搜索输入字符串的开头开始并向右移动。</span><span class="sxs-lookup"><span data-stu-id="5677c-1548">If you specify <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft> for the `options` parameter, the search for matches begins at the end of the input string and moves left; otherwise, the search begins at the start of the input string and moves right.</span></span>  
  
 <span data-ttu-id="5677c-1549">`replacement`参数指定是替换中的每个匹配项的字符串`input`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1549">The `replacement` parameter specifies the string that is to replace each match in `input`.</span></span> <span data-ttu-id="5677c-1550">`replacement` 可以包含文字文本的任意组合并[替换](~/docs/standard/base-types/substitutions-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1550">`replacement` can consist of any combination of literal text and [substitutions](~/docs/standard/base-types/substitutions-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1551">例如，替换模式`a*${test}b`插入字符串"\*"匹配的子字符串后跟`test`捕获组，如果有后, 跟字符串"b"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1551">For example, the replacement pattern `a*${test}b` inserts the string "a\*" followed by the substring that is matched by the `test` capturing group, if any, followed by the string "b".</span></span> <span data-ttu-id="5677c-1552">\* 字符未被识别为元字符在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1552">The \* character is not recognized as a metacharacter within a replacement pattern.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1553">替换是替换模式中识别的唯一的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1553">Substitutions are the only regular expression language elements that are recognized in a replacement pattern.</span></span> <span data-ttu-id="5677c-1554">所有其他正则表达式语言元素，包括[字符转义符](~/docs/standard/base-types/character-escapes-in-regular-expressions.md)、 仅正则表达式模式中允许和不识别在替换模式中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1554">All other regular expression language elements, including [character escapes](~/docs/standard/base-types/character-escapes-in-regular-expressions.md), are allowed in regular expression patterns only and are not recognized in replacement patterns.</span></span>  
  
 <span data-ttu-id="5677c-1555">`matchTimeout`参数指定如何长时间模式匹配方法应尝试超时之前找到匹配项。将设置的超时间隔可阻止依赖于过度回溯出现停止响应时它们处理输入的正则表达式，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1555">The `matchTimeout` parameter specifies how long a pattern matching method should try to find a match before it times out. Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-1556">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1556">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1557">如果在该时间间隔内不找到任何匹配项，则该方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1557">If no match is found in that time interval, the method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1558">`matchTimeout` 重写应用程序域执行该方法定义的任何默认超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-1558">`matchTimeout` overrides any default time-out value defined for the application domain in which the method executes.</span></span>  
  
 <span data-ttu-id="5677c-1559">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1559">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1560">下面的示例使用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29>方法将替换本地文件路径的 UNC 路径中的本地计算机和驱动器名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1560">The following example uses the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29> method to replace the local machine and drive names in a UNC path with a local file path.</span></span> <span data-ttu-id="5677c-1561">使用正则表达式<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性以包含本地计算机的名称和<xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType>方法以包括的逻辑驱动器的名称。</span><span class="sxs-lookup"><span data-stu-id="5677c-1561">The regular expression uses the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property to include the name of the local computer and the <xref:System.Environment.GetLogicalDrives%2A?displayProperty=nameWithType> method to include the names of the logical drives.</span></span> <span data-ttu-id="5677c-1562">所有正则表达式字符串比较是区分大小写，并在 0.5 秒内找不到匹配项，任何单个替换操作将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1562">All regular expression string comparisons are case-insensitive, and any single replacement operation times out if a match cannot be found in 0.5 second.</span></span> <span data-ttu-id="5677c-1563">若要成功运行该示例，应该替换你本地计算机的名称为"MyMachine"的文本字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1563">To run the example successfully, you should replace the literal string "MyMachine" with your local machine name.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#12](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace12.cs#12)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#12](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace12.vb#12)]  
  
 <span data-ttu-id="5677c-1564">以下表达式所定义的正则表达式模式：</span><span class="sxs-lookup"><span data-stu-id="5677c-1564">The regular expression pattern is defined by the following expression:</span></span>  
  
 `"\\\\" + Environment.MachineName + "(?:\.\w+)*\\([" + driveNames + "])\$"`  
  
 <span data-ttu-id="5677c-1565">下表演示了如何解释正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1565">The following table shows how the regular expression pattern is interpreted.</span></span>  
  
|<span data-ttu-id="5677c-1566">模式</span><span class="sxs-lookup"><span data-stu-id="5677c-1566">Pattern</span></span>|<span data-ttu-id="5677c-1567">描述</span><span class="sxs-lookup"><span data-stu-id="5677c-1567">Description</span></span>|  
|-------------|-----------------|  
|`\\\\`|<span data-ttu-id="5677c-1568">匹配两个连续反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1568">Match two consecutive backslash (`\`) characters.</span></span> <span data-ttu-id="5677c-1569">反斜杠字符解释为转义符，因为每个反斜杠必须使用另一个反斜杠进行转义。</span><span class="sxs-lookup"><span data-stu-id="5677c-1569">Because the backslash character is interpreted as the escape character, each backslash must be escaped with another backslash.</span></span>|  
|`+ Environment.MachineName +`|<span data-ttu-id="5677c-1570">返回的字符串匹配<xref:System.Environment.MachineName%2A?displayProperty=nameWithType>属性。</span><span class="sxs-lookup"><span data-stu-id="5677c-1570">Match the string that is returned by the <xref:System.Environment.MachineName%2A?displayProperty=nameWithType> property.</span></span>|  
|`(?:\.\w+)*`|<span data-ttu-id="5677c-1571">匹配句点 (`.`) 字符后跟一个或多个单词字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1571">Match the period (`.`) character followed by one or more word characters.</span></span> <span data-ttu-id="5677c-1572">此匹配可以出现零次或多次。</span><span class="sxs-lookup"><span data-stu-id="5677c-1572">This match can occur zero or more times.</span></span> <span data-ttu-id="5677c-1573">未捕获匹配的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1573">The matched subexpression is not captured.</span></span>|  
|`\\`|<span data-ttu-id="5677c-1574">匹配一个反斜杠 (`\`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1574">Match a backslash (`\`) character.</span></span>|  
|`([" + driveNames + "])`|<span data-ttu-id="5677c-1575">匹配包含单个驱动器字母的字符类。</span><span class="sxs-lookup"><span data-stu-id="5677c-1575">Match the character class that consists of the individual drive letters.</span></span> <span data-ttu-id="5677c-1576">满足此匹配，第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1576">This match is the first captured subexpression.</span></span>|  
|`\$`|<span data-ttu-id="5677c-1577">匹配文本的美元符号 (`$`) 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1577">Match the literal dollar sign (`$`) character.</span></span>|  
  
 <span data-ttu-id="5677c-1578">替换模式`$1`整个匹配项替换为第一个捕获的子表达式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1578">The replacement pattern `$1` replaces the entire match with the first captured subexpression.</span></span> <span data-ttu-id="5677c-1579">也就是说，它将 UNC 计算机和驱动器名称替换为驱动器号。</span><span class="sxs-lookup"><span data-stu-id="5677c-1579">That is, it replaces the UNC machine and drive name with the drive letter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1580">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1580">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1581"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="replacement" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1581"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="replacement" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1582"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1582"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span>  
  
<span data-ttu-id="5677c-1583">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-1583">-or-</span></span> 
 <span data-ttu-id="5677c-1584"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-1584"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1585">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1585">A time-out occurred.</span></span> <span data-ttu-id="5677c-1586">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1586">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1587">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1587">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-1588">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-1588">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-1589">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-1589">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-1590">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1590">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-1591">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1591">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-1592">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1592">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-1593">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1593">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <altmember cref="T:System.Text.RegularExpressions.RegexOptions" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1594">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1594">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1595">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1595">Regular Expression Language Elements</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/34df1152-0b22-4a1c-a76c-3c28c47b70d8"><span data-ttu-id="5677c-1596">回溯</span><span class="sxs-lookup"><span data-stu-id="5677c-1596">Backtracking</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/618e5afb-3a97-440d-831a-70e4c526a51c"><span data-ttu-id="5677c-1597">.NET Framework 中的正则表达式的最佳做法</span><span class="sxs-lookup"><span data-stu-id="5677c-1597">Best Practices for Regular Expressions in the .NET Framework</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Replace">
      <MemberSignature Language="C#" Value="public static string Replace (string input, string pattern, System.Text.RegularExpressions.MatchEvaluator evaluator, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Replace(string input, string pattern, class System.Text.RegularExpressions.MatchEvaluator evaluator, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Replace(System.String,System.String,System.Text.RegularExpressions.MatchEvaluator,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Replace (input As String, pattern As String, evaluator As MatchEvaluator, options As RegexOptions, matchTimeout As TimeSpan) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Replace(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::MatchEvaluator ^ evaluator, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member Replace : string * string * System.Text.RegularExpressions.MatchEvaluator * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; string" Usage="System.Text.RegularExpressions.Regex.Replace (input, pattern, evaluator, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="evaluator" Type="System.Text.RegularExpressions.MatchEvaluator" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1598">要搜索匹配项的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1598">The string to search for a match.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1599">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1599">The regular expression pattern to match.</span></span></param>
        <param name="evaluator"><span data-ttu-id="5677c-1600">一个自定义方法，该方法检查每个匹配项，然后返回原始的匹配字符串或替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1600">A custom method that examines each match and returns either the original matched string or a replacement string.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1601">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1601">A bitwise combination of enumeration values that provide options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-1602">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1602">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-1603">在指定的输入字符串中，使用由 <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> 委托返回的字符串替换与指定的正则表达式匹配的所有子字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1603">In a specified input string, replaces all substrings that match a specified regular expression with a string returned by a <see cref="T:System.Text.RegularExpressions.MatchEvaluator" /> delegate.</span></span> <span data-ttu-id="5677c-1604">如果未找到匹配项，则其他参数指定修改匹配操作的选项和超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1604">Additional parameters specify options that modify the matching operation and a time-out interval if no match is found.</span></span></summary>
        <returns><span data-ttu-id="5677c-1605">一个与输入字符串基本相同的新字符串，唯一的差别在于，其中的每个匹配字符串已被替换字符串代替。</span><span class="sxs-lookup"><span data-stu-id="5677c-1605">A new string that is identical to the input string, except that the replacement string takes the place of each matched string.</span></span> <span data-ttu-id="5677c-1606">如果 <paramref name="pattern" /> 与当前实例不匹配，则此方法返回未更改的当前实例。</span><span class="sxs-lookup"><span data-stu-id="5677c-1606">If <paramref name="pattern" /> is not matched in the current instance, the method returns the current instance unchanged.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1607"><xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法可用于替换正则表达式匹配，如果以下条件为真：</span><span class="sxs-lookup"><span data-stu-id="5677c-1607">The <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method is useful for replacing a regular expression match if any of the following conditions is true:</span></span>  
  
-   <span data-ttu-id="5677c-1608">如果正则表达式替换模式不能轻松地指定替换字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1608">If the replacement string cannot readily be specified by a regular expression replacement pattern.</span></span>  
  
-   <span data-ttu-id="5677c-1609">如果替换字符串得到的一些处理执行匹配的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1609">If the replacement string results from some processing performed on the matched string.</span></span>  
  
-   <span data-ttu-id="5677c-1610">如果替换字符串而得出的有条件处理。</span><span class="sxs-lookup"><span data-stu-id="5677c-1610">If the replacement string results from conditional processing.</span></span>  
  
 <span data-ttu-id="5677c-1611">该方法等效于调用<xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType>方法并传递每个<xref:System.Text.RegularExpressions.Match>在返回的对象<xref:System.Text.RegularExpressions.MatchCollection>集合`evaluator`委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1611">The method is equivalent to calling the <xref:System.Text.RegularExpressions.Regex.Matches%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.RegexOptions%29?displayProperty=nameWithType> method and passing each <xref:System.Text.RegularExpressions.Match> object in the returned <xref:System.Text.RegularExpressions.MatchCollection> collection to the `evaluator` delegate.</span></span>  
  
 <span data-ttu-id="5677c-1612">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1612">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1613">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1613">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 <span data-ttu-id="5677c-1614">`evaluator`参数是您定义的自定义方法的委托，用于检查每个匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1614">The `evaluator` parameter is the delegate for a custom method that you define and that examines each match.</span></span> <span data-ttu-id="5677c-1615">自定义的方法必须具有以下签名以匹配<xref:System.Text.RegularExpressions.MatchEvaluator>委托。</span><span class="sxs-lookup"><span data-stu-id="5677c-1615">The custom method must have the following signature to match the <xref:System.Text.RegularExpressions.MatchEvaluator> delegate.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/syntax1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/syntax1.vb#1)]  
  
 <span data-ttu-id="5677c-1616">自定义方法返回的字符串可替换匹配的输入。</span><span class="sxs-lookup"><span data-stu-id="5677c-1616">Your custom method returns a string that replaces the matched input.</span></span>  
  
 <span data-ttu-id="5677c-1617">如果指定<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>为`options`参数，搜索的匹配项从输入字符串的末尾处开始，并向左移动; 否则为搜索输入字符串的开头开始并向右移动。</span><span class="sxs-lookup"><span data-stu-id="5677c-1617">If you specify <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft> for the `options` parameter, the search for matches begins at the end of the input string and moves left; otherwise, the search begins at the start of the input string and moves right.</span></span>  
  
 <span data-ttu-id="5677c-1618">`matchTimeout`参数指定如何长时间模式匹配方法应尝试超时之前找到匹配项。设置超时间隔可防止正则表达式依赖于过度回溯到出现的"停止响应时它们处理输入，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1618">The `matchTimeout` parameter specifies how long a pattern matching method should try to find a match before it times out. Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to "stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-1619">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1619">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1620">如果在该时间间隔内不找到任何匹配项，则该方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1620">If no match is found in that time interval, the method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1621">`matchTimeout` 重写应用程序域执行该方法定义的任何默认超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-1621">`matchTimeout` overrides any default time-out value defined for the application domain in which the method executes.</span></span>  
  
 <span data-ttu-id="5677c-1622">因为该方法返回`input`如果没有匹配项保持不变，您可以使用<xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType>方法，以确定该方法是否已发生与输入字符串的任何替换。</span><span class="sxs-lookup"><span data-stu-id="5677c-1622">Because the method returns `input` unchanged if there is no match, you can use the <xref:System.Object.ReferenceEquals%2A?displayProperty=nameWithType> method to determine whether the method has made any replacements to the input string.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5677c-1623">下面的示例使用正则表达式，从字符串中提取的单个单词，然后使用<xref:System.Text.RegularExpressions.MatchEvaluator>委托来调用一个名为方法`WordScramble`打乱单词中的单个字母。</span><span class="sxs-lookup"><span data-stu-id="5677c-1623">The following example uses a regular expression to extract the individual words from a string, and then uses a <xref:System.Text.RegularExpressions.MatchEvaluator> delegate to call a method named `WordScramble` that scrambles the individual letters in the word.</span></span> <span data-ttu-id="5677c-1624">若要执行此操作，`WordScramble`方法创建一个数组，包含匹配项中的字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1624">To do this, the `WordScramble` method creates an array that contains the characters in the match.</span></span> <span data-ttu-id="5677c-1625">它还用随机浮点数创建一个并行数组，它将填充。</span><span class="sxs-lookup"><span data-stu-id="5677c-1625">It also creates a parallel array that it populates with random floating-point numbers.</span></span> <span data-ttu-id="5677c-1626">这些数组进行排序通过调用<xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>方法，并已排序的数组作为参数提供<xref:System.String>类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1626">The arrays are sorted by calling the <xref:System.Array.Sort%60%602%28%60%600%5B%5D%2C%60%601%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method, and the sorted array is provided as an argument to a <xref:System.String> class constructor.</span></span> <span data-ttu-id="5677c-1627">然后返回此新创建的字符串`WordScramble`方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1627">This newly created string is then returned by the `WordScramble` method.</span></span> <span data-ttu-id="5677c-1628">正则表达式模式`\w+`匹配一个或多个单词字符; 正则表达式引擎将继续将字符添加到匹配项，直到它遇到非单词字符，例如空格字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1628">The regular expression pattern `\w+` matches one or more word characters; the regular expression engine will continue to add characters to the match until it encounters a non-word character, such as a white-space character.</span></span> <span data-ttu-id="5677c-1629">在调用<xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29>方法包括<xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType>选项，以便在正则表达式模式中的注释`\w+  # Matches all the characters in a word.`忽略正则表达式引擎。</span><span class="sxs-lookup"><span data-stu-id="5677c-1629">The call to the <xref:System.Text.RegularExpressions.Regex.Replace%28System.String%2CSystem.String%2CSystem.Text.RegularExpressions.MatchEvaluator%2CSystem.Text.RegularExpressions.RegexOptions%29> method includes the <xref:System.Text.RegularExpressions.RegexOptions.IgnorePatternWhitespace?displayProperty=nameWithType> option so that the comment in the regular expression pattern `\w+  # Matches all the characters in a word.` is ignored by the regular expression engine.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Replace#13](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/cs/replace13.cs#13)]
 [!code-vb[System.Text.RegularExpressions.Regex.Replace#13](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.text.regularexpressions.regex.replace/vb/replace13.vb#13)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1630">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1630">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1631"><paramref name="input" />、<paramref name="pattern" /> 或 <paramref name="evaluator" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1631"><paramref name="input" />, <paramref name="pattern" />, or <paramref name="evaluator" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1632"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1632"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span>  
  
<span data-ttu-id="5677c-1633">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-1633">-or-</span></span> 
 <span data-ttu-id="5677c-1634"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-1634"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1635">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1635">A time-out occurred.</span></span> <span data-ttu-id="5677c-1636">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1636">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1637">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1637">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-1638">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-1638">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-1639">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-1639">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-1640">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1640">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-1641">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1641">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-1642">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1642">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-1643">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1643">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <altmember cref="T:System.Text.RegularExpressions.RegexOptions" />
        <related type="Article" href="https://msdn.microsoft.com/library/d1f52431-1c7d-4dc6-8792-6b988256892e"><span data-ttu-id="5677c-1644">替代</span><span class="sxs-lookup"><span data-stu-id="5677c-1644">Substitutions</span></span></related>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1645">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1645">Regular Expression Language Elements</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/34df1152-0b22-4a1c-a76c-3c28c47b70d8"><span data-ttu-id="5677c-1646">回溯</span><span class="sxs-lookup"><span data-stu-id="5677c-1646">Backtracking</span></span></related>
        <related type="Article" href="https://msdn.microsoft.com/library/618e5afb-3a97-440d-831a-70e4c526a51c"><span data-ttu-id="5677c-1647">.NET Framework 中的正则表达式的最佳做法</span><span class="sxs-lookup"><span data-stu-id="5677c-1647">Best Practices for Regular Expressions in the .NET Framework</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="RightToLeft">
      <MemberSignature Language="C#" Value="public bool RightToLeft { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool RightToLeft" />
      <MemberSignature Language="DocId" Value="P:System.Text.RegularExpressions.Regex.RightToLeft" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property RightToLeft As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool RightToLeft { bool get(); };" />
      <MemberSignature Language="F#" Value="member this.RightToLeft : bool" Usage="System.Text.RegularExpressions.Regex.RightToLeft" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>get: System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-1648">获取一个值，该值指示正则表达式是否从右向左进行搜索。</span><span class="sxs-lookup"><span data-stu-id="5677c-1648">Gets a value that indicates whether the regular expression searches from right to left.</span></span></summary>
        <value><span data-ttu-id="5677c-1649">如果正则表达式从右向左进行搜索，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1649"><see langword="true" /> if the regular expression searches from right to left; otherwise, <see langword="false" />.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1650"><xref:System.Text.RegularExpressions.Regex.RightToLeft%2A> 是`true`如果<xref:System.Text.RegularExpressions.Regex>实例创建与<xref:System.Text.RegularExpressions.RegexOptions.RightToLeft>选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1650"><xref:System.Text.RegularExpressions.Regex.RightToLeft%2A> is `true` if the <xref:System.Text.RegularExpressions.Regex> instance was created with the <xref:System.Text.RegularExpressions.RegexOptions.RightToLeft> option.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="roptions">
      <MemberSignature Language="C#" Value="protected internal System.Text.RegularExpressions.RegexOptions roptions;" />
      <MemberSignature Language="ILAsm" Value=".field familyorassembly valuetype System.Text.RegularExpressions.RegexOptions roptions" />
      <MemberSignature Language="DocId" Value="F:System.Text.RegularExpressions.Regex.roptions" />
      <MemberSignature Language="VB.NET" Value="Protected Friend roptions As RegexOptions " />
      <MemberSignature Language="C++ CLI" Value="protected public: System::Text::RegularExpressions::RegexOptions roptions;" />
      <MemberSignature Language="F#" Value="val mutable roptions : System.Text.RegularExpressions.RegexOptions" Usage="System.Text.RegularExpressions.Regex.roptions" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Text.RegularExpressions.RegexOptions</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="5677c-1651">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1651">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="Split">
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="5677c-1652">在由正则表达式匹配定义的位置将输入字符串拆分为一个子字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1652">Splits an input string into an array of substrings at the positions defined by a regular expression match.</span></span></summary>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1653">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1653">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public string[] Split (string input);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string[] Split(string input) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Function Split (input As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input);" />
      <MemberSignature Language="F#" Value="member this.Split : string -&gt; string[]" Usage="regex.Split input" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1654">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1654">The string to split.</span></span></param>
        <summary><span data-ttu-id="5677c-1655">在由 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数指定的正则表达式模式所定义的位置，将输入字符串拆分为子字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1655">Splits an input string into an array of substrings at the positions defined by a regular expression pattern specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor.</span></span></summary>
        <returns><span data-ttu-id="5677c-1656">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1656">An array of strings.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1657"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1657">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1658">将字符串拆分为多的次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1658">The string is split as many times as possible.</span></span> <span data-ttu-id="5677c-1659">如果不找到任何分隔符，则返回值包含一个其值为原始输入的字符串的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1659">If no delimiter is found, the return value contains one element whose value is the original input string.</span></span>  
  
 <span data-ttu-id="5677c-1660">如果多个匹配项是彼此相邻，则将空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1660">If multiple matches are adjacent to one another, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1661">例如，拆分上一个连字符的字符串会导致返回的数组，若要在其中找到两个连续的连字符，如以下代码所示的位置中包括一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1661">For example, splitting a string on a single hyphen causes the returned array to include an empty string in the position where two adjacent hyphens are found, as the following code shows.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split1.cs#1)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split1.vb#1)]  
  
 <span data-ttu-id="5677c-1662">如果开头或输入字符串的末尾找到匹配项，则为空字符串是数组的包含开头或末尾返回。</span><span class="sxs-lookup"><span data-stu-id="5677c-1662">If a match is found at the beginning or the end of the input string, an empty string is included at the beginning or the end of the returned array.</span></span> <span data-ttu-id="5677c-1663">下面的示例使用正则表达式模式`\d+`拆分输入的字符串对数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1663">The following example uses the regular expression pattern `\d+` to split an input string on numeric characters.</span></span> <span data-ttu-id="5677c-1664">由于字符串开头和结尾匹配数字字符，则返回的数组的第一个和最后一个元素的值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1664">Because the string begins and ends with matching numeric characters, the value of the first and last element of the returned array is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#21](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split21.cs#21)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#21](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split21.vb#21)]  
  
 <span data-ttu-id="5677c-1665">如果在使用捕获括号，则<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>表达式中，任何捕获的文本包括在生成的字符串数组中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1665">If capturing parentheses are used in a <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> expression, any captured text is included in the resulting string array.</span></span> <span data-ttu-id="5677c-1666">例如，如果拆分"plum-pear"上一个连字符放在捕获括号的字符串，返回的数组包含一个包含连字符的字符串元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1666">For example, if you split the string "plum-pear" on a hyphen placed within capturing parentheses, the returned array includes a string element that contains the hyphen.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split2.cs#2)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split2.vb#2)]  
  
 <span data-ttu-id="5677c-1667">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1667">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1668">在.NET Framework 1.0 和 1.1 中，如果捕获括号中的第一个集内找不到匹配项从其他捕获括号捕获的文本不包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1668">In the .NET Framework 1.0 and 1.1, if a match is not found within the first set of capturing parentheses, captured text from additional capturing parentheses is not included in the returned array.</span></span> <span data-ttu-id="5677c-1669">从.NET Framework 2.0 开始，所有捕获的文本也添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1669">Starting with the .NET Framework 2.0, all captured text is also added to the returned array.</span></span> <span data-ttu-id="5677c-1670">例如，下面的代码使用两个组捕获括号来提取日期，包括日期分隔符，从日期字符串的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1670">For example, the following code uses two sets of capturing parentheses to extract the elements of a date, including the date delimiters, from a date string.</span></span> <span data-ttu-id="5677c-1671">第一捕获括号的组捕获连字符，并第二个集捕获正斜杠。</span><span class="sxs-lookup"><span data-stu-id="5677c-1671">The first set of capturing parentheses captures the hyphen, and the second set captures the forward slash.</span></span> <span data-ttu-id="5677c-1672">如果示例代码编译和运行.NET Framework 1.0 或 1.1，它不包括反斜杠字符;如果它是编译并运行.NET Framework 2.0 或更高版本下，它包括它们。</span><span class="sxs-lookup"><span data-stu-id="5677c-1672">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, it excludes the slash characters; if it is compiled and run under the .NET Framework 2.0 or later versions, it includes them.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split3.cs#3)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split3.vb#3)]  
  
 <span data-ttu-id="5677c-1673">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%28System.String%29>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1673">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%28System.String%29> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span> <span data-ttu-id="5677c-1674">例如:</span><span class="sxs-lookup"><span data-stu-id="5677c-1674">For example:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#11](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split11.cs#11)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#11](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split11.vb#11)]  
  
 <span data-ttu-id="5677c-1675">请注意，在返回的数组还包含空字符串的开头和结尾的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1675">Note that the returned array also includes an empty string at the beginning and end of the array.</span></span>  
  
 <span data-ttu-id="5677c-1676"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果拆分操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1676">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the split operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1677">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1677">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1678">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1678">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1679"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1679"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1680">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1680">A time-out occurred.</span></span> <span data-ttu-id="5677c-1681">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1681">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1682">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1682">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public string[] Split (string input, int count);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string[] Split(string input, int32 count) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Split (input As String, count As Integer) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input, int count);" />
      <MemberSignature Language="F#" Value="member this.Split : string * int -&gt; string[]" Usage="regex.Split (input, count)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="count" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1683">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1683">The string to be split.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1684">可拆分的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1684">The maximum number of times the split can occur.</span></span></param>
        <summary><span data-ttu-id="5677c-1685">在由 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数中指定的正则表达式定义的位置，将输入字符串拆分为子字符串数组指定的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1685">Splits an input string a specified maximum number of times into an array of substrings, at the positions defined by a regular expression specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor.</span></span></summary>
        <returns><span data-ttu-id="5677c-1686">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1686">An array of strings.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1687"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%2A?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1687">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%2A?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1688">`count`参数指定到其中的子字符串的最大数目`input`可以拆分字符串; 最后一个字符串包含拆分的字符串的其余部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1688">The `count` parameter specifies the maximum number of substrings into which the `input` string can be split; the last string contains the unsplit remainder of the string.</span></span> <span data-ttu-id="5677c-1689">一个`count`为零的值提供拆分为尽可能多的默认行为。</span><span class="sxs-lookup"><span data-stu-id="5677c-1689">A `count` value of zero provides the default behavior of splitting as many times as possible.</span></span>  
  
 <span data-ttu-id="5677c-1690">如果是彼此相邻的多个匹配项，或在开头或末尾找到匹配项`input`，并找到匹配项数目是至少两个小于`count`，空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1690">If multiple matches are adjacent to one another or if a match is found at the beginning or end of `input`, and the number of matches found is at least two less than `count`, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1691">它是相邻的匹配项或位置的开头或输入字符串的末尾匹配项导致的空字符串是否会计算在内中确定的数目匹配子字符串等于`count`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1691">That is, empty strings that result from adjacent matches or from matches at the beginning or end of the input string are counted in determining whether the number of matched substrings equals `count`.</span></span> <span data-ttu-id="5677c-1692">在下面的示例中，正则表达式`/d+`用于拆分输入的字符串到三个子字符串的最多包含一个或多个十进制数字。</span><span class="sxs-lookup"><span data-stu-id="5677c-1692">In the following example, the regular expression `/d+` is used to split an input string that includes one or more decimal digits into a maximum of three substrings.</span></span> <span data-ttu-id="5677c-1693">因为输入字符串的开头与正则表达式模式相匹配，则第一个数组元素包含<xref:System.String.Empty?displayProperty=nameWithType>，第二个包含输入字符串中的字母字符的第一个集和第三个包含字符串的其余部分第三个匹配项后的。</span><span class="sxs-lookup"><span data-stu-id="5677c-1693">Because the beginning of the input string matches the regular expression pattern, the first array element contains <xref:System.String.Empty?displayProperty=nameWithType>, the second contains the first set of alphabetic characters in the input string, and the third contains the remainder of the string that follows the third match.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#25](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split25.cs#25)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#25](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split25.vb#25)]  
  
 <span data-ttu-id="5677c-1694">如果正则表达式中使用捕获括号，拆分的字符串数组中包含任何捕获的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1694">If capturing parentheses are used in a regular expression, any captured text is included in the array of split strings.</span></span> <span data-ttu-id="5677c-1695">但是，包含捕获的文本的任何数组元素不会计入确定是否匹配项的数目已达到`count`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1695">However, any array elements that contain captured text are not counted in determining whether the number of matches has reached `count`.</span></span> <span data-ttu-id="5677c-1696">例如，拆分到最多七个元素的数组，如以下代码中的四个子字符串结果的字符串"apple-apricot-plum-pear-banana"显示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1696">For example, splitting the string "apple-apricot-plum-pear-banana" into a maximum of four substrings results in a seven-element array, as the following code shows.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split4.cs#4)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split4.vb#4)]  
  
 <span data-ttu-id="5677c-1697">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1697">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1698">在.NET Framework 1.0 和 1.1 中，仅从第一捕获括号的组捕获的文本包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1698">In the .NET Framework 1.0 and 1.1, only captured text from the first set of capturing parentheses is included in the returned array.</span></span> <span data-ttu-id="5677c-1699">从.NET Framework 2.0 开始，所有捕获的文本添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1699">Starting with the .NET Framework 2.0, all captured text is added to the returned array.</span></span> <span data-ttu-id="5677c-1700">但是，返回的数组中包含捕获的文本的元素不会计入确定是否数匹配子字符串等于`count`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1700">However, elements in the returned array that contain captured text are not counted in determining whether the number of matched substrings equals `count`.</span></span> <span data-ttu-id="5677c-1701">例如，在下面的代码中，正则表达式使用两组捕获括号以从日期字符串中提取日期的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1701">For example, in the following code, a regular expression uses two sets of capturing parentheses to extract the elements of a date from a date string.</span></span> <span data-ttu-id="5677c-1702">第一捕获括号的组捕获连字符，并第二个集捕获正斜杠。</span><span class="sxs-lookup"><span data-stu-id="5677c-1702">The first set of capturing parentheses captures the hyphen, and the second set captures the forward slash.</span></span> <span data-ttu-id="5677c-1703">对调用<xref:System.Text.RegularExpressions.Regex.Split%28System.String%2CSystem.Int32%29>方法然后指定两个元素的最多返回的数组中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1703">The call to the <xref:System.Text.RegularExpressions.Regex.Split%28System.String%2CSystem.Int32%29> method then specifies a maximum of two elements in the returned array.</span></span> <span data-ttu-id="5677c-1704">如果示例代码编译和运行.NET Framework 1.0 或 1.1，方法将返回两个元素的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1704">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, the method returns a two-element string array.</span></span> <span data-ttu-id="5677c-1705">如果编译和.NET Framework 2.0 或更高版本下运行，方法将返回三个元素的字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1705">If it is compiled and run under the .NET Framework 2.0 or later versions, the method returns a three-element string array.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split5.cs#5)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split5.vb#5)]  
  
 <span data-ttu-id="5677c-1706">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%28System.String%2CSystem.Int32%29>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1706">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%28System.String%2CSystem.Int32%29> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span> <span data-ttu-id="5677c-1707">下面的示例将字符串"字符"拆分成，因为许多元素与输入字符串中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1707">The following example splits the string "characters" into as many elements as there are in the input string.</span></span> <span data-ttu-id="5677c-1708">Null 字符串与输入字符串的开头匹配，因为返回的数组开头位置插入一个 null 字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1708">Because the null string matches the beginning of the input string, a null string is inserted at the beginning of the returned array.</span></span> <span data-ttu-id="5677c-1709">这将导致第 10 个元素组成的输入字符串末尾的两个字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1709">This causes the tenth element to consist of the two characters at the end of the input string.</span></span>  
  
 [!code-vb[System.Text.RegularExpressions.Regex.Split#12](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split12.vb#12)]  
  
 <span data-ttu-id="5677c-1710"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果拆分操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1710">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the split operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1711">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1711">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1712">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1712">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1713"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1713"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1714">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1714">A time-out occurred.</span></span> <span data-ttu-id="5677c-1715">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1715">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1716">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1716">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public static string[] Split (string input, string pattern);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] Split(string input, string pattern) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Split (input As String, pattern As String) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input, System::String ^ pattern);" />
      <MemberSignature Language="F#" Value="static member Split : string * string -&gt; string[]" Usage="System.Text.RegularExpressions.Regex.Split (input, pattern)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1717">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1717">The string to split.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1718">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1718">The regular expression pattern to match.</span></span></param>
        <summary><span data-ttu-id="5677c-1719">在由正则表达式模式定义的位置将输入字符串拆分为一个子字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1719">Splits an input string into an array of substrings at the positions defined by a regular expression pattern.</span></span></summary>
        <returns><span data-ttu-id="5677c-1720">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1720">An array of strings.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1721"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%2A?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1721">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%2A?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1722">`input`字符串拆分为尽可能多次。</span><span class="sxs-lookup"><span data-stu-id="5677c-1722">The `input` string is split as many times as possible.</span></span> <span data-ttu-id="5677c-1723">如果`pattern`中找不到`input`字符串，返回值包含一个其值为原始元素`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1723">If `pattern` is not found in the `input` string, the return value contains one element whose value is the original `input` string.</span></span>  
  
 <span data-ttu-id="5677c-1724">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1724">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1725">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1725">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5677c-1726">已编译的正则表达式中调用静态使用<xref:System.Text.RegularExpressions.Regex.Split%2A>自动缓存的方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1726">Compiled regular expressions used in calls to static <xref:System.Text.RegularExpressions.Regex.Split%2A> methods are automatically cached.</span></span> <span data-ttu-id="5677c-1727">若要自行管理的已编译的正则表达式的生存期，使用实例<xref:System.Text.RegularExpressions.Regex.Split%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1727">To manage the lifetime of compiled regular expressions yourself, use the instance <xref:System.Text.RegularExpressions.Regex.Split%2A> methods.</span></span>  
  
 <span data-ttu-id="5677c-1728">如果多个匹配项是彼此相邻，则将空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1728">If multiple matches are adjacent to one another, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1729">例如，拆分上一个连字符的字符串会导致返回的数组，若要在其中找到两个连续的连字符，如以下代码所示的位置中包括一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1729">For example, splitting a string on a single hyphen causes the returned array to include an empty string in the position where two adjacent hyphens are found, as the following code shows.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#8](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split8.cs#8)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#8](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split8.vb#8)]  
  
 <span data-ttu-id="5677c-1730">如果开头或输入字符串的末尾找到匹配项，则为空字符串是数组的包含开头或末尾返回。</span><span class="sxs-lookup"><span data-stu-id="5677c-1730">If a match is found at the beginning or the end of the input string, an empty string is included at the beginning or the end of the returned array.</span></span> <span data-ttu-id="5677c-1731">下面的示例使用正则表达式模式`\d+`拆分输入的字符串对数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1731">The following example uses the regular expression pattern `\d+` to split an input string on numeric characters.</span></span> <span data-ttu-id="5677c-1732">由于字符串开头和结尾匹配数字字符，则返回的数组的第一个和最后一个元素的值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1732">Because the string begins and ends with matching numeric characters, the value of the first and last element of the returned array is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#22](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split22.cs#22)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#22](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split22.vb#22)]  
  
 <span data-ttu-id="5677c-1733">如果在使用捕获括号，则<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>表达式中，任何捕获的文本包括在生成的字符串数组中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1733">If capturing parentheses are used in a <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> expression, any captured text is included in the resulting string array.</span></span> <span data-ttu-id="5677c-1734">例如，如果拆分"plum-pear"上一个连字符放在捕获括号的字符串，返回的数组包含一个包含连字符的字符串元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1734">For example, if you split the string "plum-pear" on a hyphen placed within capturing parentheses, the returned array includes a string element that contains the hyphen.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split9.cs#9)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split9.vb#9)]  
  
 <span data-ttu-id="5677c-1735">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1735">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1736">在.NET Framework 1.0 和 1.1 中，如果捕获括号中的第一个集内找不到匹配项从其他捕获括号捕获的文本不包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1736">In the .NET Framework 1.0 and 1.1, if a match is not found within the first set of capturing parentheses, captured text from additional capturing parentheses is not included in the returned array.</span></span> <span data-ttu-id="5677c-1737">从.NET Framework 2.0 开始，所有捕获的文本也添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1737">Starting with the .NET Framework 2.0, all captured text is also added to the returned array.</span></span> <span data-ttu-id="5677c-1738">例如，下面的代码使用两个组捕获括号来提取日期，包括日期分隔符，从日期字符串的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1738">For example, the following code uses two sets of capturing parentheses to extract the elements of a date, including the date delimiters, from a date string.</span></span> <span data-ttu-id="5677c-1739">第一捕获括号的组捕获连字符，并第二个集捕获正斜杠。</span><span class="sxs-lookup"><span data-stu-id="5677c-1739">The first set of capturing parentheses captures the hyphen, and the second set captures the forward slash.</span></span> <span data-ttu-id="5677c-1740">如果示例代码编译和运行.NET Framework 1.0 或 1.1，它不包括反斜杠字符;如果它是编译并运行.NET Framework 2.0 或更高版本下，它包括它们。</span><span class="sxs-lookup"><span data-stu-id="5677c-1740">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, it excludes the slash characters; if it is compiled and run under the .NET Framework 2.0 or later versions, it includes them.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split10.cs#10)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split10.vb#10)]  
  
 <span data-ttu-id="5677c-1741">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%2A>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1741">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%2A> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span> <span data-ttu-id="5677c-1742">例如:</span><span class="sxs-lookup"><span data-stu-id="5677c-1742">For example:</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#13](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split13.cs#13)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#13](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split13.vb#13)]  
  
 <span data-ttu-id="5677c-1743">请注意，在返回的数组还包含空字符串的开头和结尾的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1743">Note that the returned array also includes an empty string at the beginning and end of the array.</span></span>  
  
 <span data-ttu-id="5677c-1744"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果 split 操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1744">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the split operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1745">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1745">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1746">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1746">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1747"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1747"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1748">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1748">A time-out occurred.</span></span> <span data-ttu-id="5677c-1749">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1749">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1750">此方法等同于在其中调用该方法的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1750">This method times out after an interval that is equal to the default time-out value of the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1751">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1751">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1752">推荐的静态方法拆分模式匹配的文本是<see cref="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1752">The recommended static method for splitting text on a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1753">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1753">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public string[] Split (string input, int count, int startat);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance string[] Split(string input, int32 count, int32 startat) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String,System.Int32,System.Int32)" />
      <MemberSignature Language="VB.NET" Value="Public Function Split (input As String, count As Integer, startat As Integer) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input, int count, int startat);" />
      <MemberSignature Language="F#" Value="member this.Split : string * int * int -&gt; string[]" Usage="regex.Split (input, count, startat)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="count" Type="System.Int32" />
        <Parameter Name="startat" Type="System.Int32" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1754">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1754">The string to be split.</span></span></param>
        <param name="count"><span data-ttu-id="5677c-1755">可拆分的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1755">The maximum number of times the split can occur.</span></span></param>
        <param name="startat"><span data-ttu-id="5677c-1756">输入字符串中将开始搜索的字符位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1756">The character position in the input string where the search will begin.</span></span></param>
        <summary><span data-ttu-id="5677c-1757">在由 <see cref="T:System.Text.RegularExpressions.Regex" /> 构造函数中指定的正则表达式定义的位置，将输入字符串拆分为子字符串数组指定的最大次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1757">Splits an input string a specified maximum number of times into an array of substrings, at the positions defined by a regular expression specified in the <see cref="T:System.Text.RegularExpressions.Regex" /> constructor.</span></span> <span data-ttu-id="5677c-1758">从输入字符串的指定字符位置开始搜索正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1758">The search for the regular expression pattern starts at a specified character position in the input string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1759">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1759">An array of strings.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1760"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%2A?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1760">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%2A?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1761">`count`参数指定到其中的子字符串的最大数目`input`拆分字符串; 最后一个字符串包含拆分的字符串的其余部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1761">The `count` parameter specifies the maximum number of substrings into which the `input` string is split; the last string contains the unsplit remainder of the string.</span></span> <span data-ttu-id="5677c-1762">一个`count`为零的值提供拆分为尽可能多的默认行为。</span><span class="sxs-lookup"><span data-stu-id="5677c-1762">A `count` value of zero provides the default behavior of splitting as many times as possible.</span></span> <span data-ttu-id="5677c-1763">`startat`参数定义的第一个分隔符搜索开始处的点 （可用于跳过前导空格）。</span><span class="sxs-lookup"><span data-stu-id="5677c-1763">The `startat` parameter defines the point at which the search for the first delimiter begins (this can be used for skipping leading white space).</span></span>  
  
 <span data-ttu-id="5677c-1764">如果没有找到匹配的来自`count`+ 1 位置的字符串中，该方法返回一个元素的数组，其中包含`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1764">If no matches are found from the `count`+1 position in the string, the method returns a one-element array that contains the `input` string.</span></span> <span data-ttu-id="5677c-1765">如果找到一个或多个匹配项，返回的数组的第一个元素将包含来自最多匹配项前一个字符的第一个字符的字符串的第一个部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1765">If one or more matches are found, the first element of the returned array contains the first portion of the string from the first character up to one character before the match.</span></span>  
  
 <span data-ttu-id="5677c-1766">如果多个匹配项是彼此相邻并找到匹配项数目是至少两个小于`count`，空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1766">If multiple matches are adjacent to one another and the number of matches found is at least two less than `count`, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1767">同样，如果在找到匹配项`startat`，即在字符串中的第一个字符，则返回的数组的第一个元素为空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1767">Similarly, if a match is found at `startat`, which is the first character in the string, the first element of the returned array is an empty string.</span></span> <span data-ttu-id="5677c-1768">也就是说，所产生的相邻匹配空字符串是否会计算在内中确定的数目匹配子字符串等于`count`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1768">That is, empty strings that result from adjacent matches are counted in determining whether the number of matched substrings equals `count`.</span></span> <span data-ttu-id="5677c-1769">在下面的示例中，正则表达式`\d+`用于在字符串中，查找数字字符的第一个子字符串的起始位置，然后将字符串拆分的最多三次开始该位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1769">In the following example, the regular expression `\d+` is used to find the starting position of the first substring of numeric characters in a string, and then to split the string a maximum of three times starting at that position.</span></span> <span data-ttu-id="5677c-1770">正则表达式模式与输入字符串的开头匹配，因为返回的字符串数组包含空字符串、 五个字符的字母字符串，以及字符串的其余部分</span><span class="sxs-lookup"><span data-stu-id="5677c-1770">Because the regular expression pattern matches the beginning of the input string, the returned string array consists of an empty string, a five-character alphabetic string, and the remainder of the string,</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#26](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split26.cs#26)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#26](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split26.vb#26)]  
  
 <span data-ttu-id="5677c-1771">如果正则表达式中使用捕获括号，拆分的字符串数组中包含任何捕获的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1771">If capturing parentheses are used in a regular expression, any captured text is included in the array of split strings.</span></span> <span data-ttu-id="5677c-1772">但是，包含捕获的文本的任何数组元素不会计入确定是否匹配项的数目已达到`count`。</span><span class="sxs-lookup"><span data-stu-id="5677c-1772">However, any array elements that contain captured text are not counted in determining whether the number of matches has reached `count`.</span></span> <span data-ttu-id="5677c-1773">例如，拆分字符串"apple-apricot-plum-pear-pomegranate-pineapple-peach"到最多四个的子字符串开始字符 15 字符串导致七个元素的数组，如以下代码所示。</span><span class="sxs-lookup"><span data-stu-id="5677c-1773">For example, splitting the string '"apple-apricot-plum-pear-pomegranate-pineapple-peach" into a maximum of four substrings beginning at character 15 in the string results in a seven-element array, as the following code shows.</span></span>  
  
 [!code-vb[System.Text.RegularExpressions.Regex.Split#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split6.vb#6)]  
  
 <span data-ttu-id="5677c-1774">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1774">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1775">在.NET Framework 1.0 和 1.1 中，如果捕获括号中的第一个集内找不到匹配项从其他捕获括号捕获的文本不包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1775">In .NET Framework 1.0 and 1.1, if a match is not found within the first set of capturing parentheses, captured text from additional capturing parentheses is not included in the returned array.</span></span> <span data-ttu-id="5677c-1776">从.NET Framework 2.0 开始，所有捕获的文本也添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1776">Starting with the .NET Framework 2.0, all captured text is also added to the returned array.</span></span> <span data-ttu-id="5677c-1777">例如，下面的代码使用捕获括号的两个集提取在字符串中的个别词。</span><span class="sxs-lookup"><span data-stu-id="5677c-1777">For example, the following code uses two sets of capturing parentheses to extract the individual words in a string.</span></span> <span data-ttu-id="5677c-1778">第一捕获括号的组捕获连字符，并第二个集捕获垂直条。</span><span class="sxs-lookup"><span data-stu-id="5677c-1778">The first set of capturing parentheses captures the hyphen, and the second set captures the vertical bar.</span></span> <span data-ttu-id="5677c-1779">如果示例代码编译和运行.NET Framework 1.0 或 1.1，它不包括垂直条形字符;如果它是编译并运行.NET Framework 2.0 或更高版本下，它包括它们。</span><span class="sxs-lookup"><span data-stu-id="5677c-1779">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, it excludes the vertical bar characters; if it is compiled and run under the .NET Framework 2.0 or later versions, it includes them.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#7](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split7.cs#7)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#7](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split7.vb#7)]  
  
 <span data-ttu-id="5677c-1780">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%2A>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1780">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%2A> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span> <span data-ttu-id="5677c-1781">下面的示例： 将字符串"字符"拆分成尽可能多的元素，因为输入的字符串包含，以字符为起始"a"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1781">The following example splits the string "characters" into as many elements as the input string contains, starting with the character "a".</span></span> <span data-ttu-id="5677c-1782">Null 字符串与输入字符串的末尾匹配，因为返回数组的末尾插入一个 null 字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1782">Because the null string matches the end of the input string, a null string is inserted at the end of the returned array.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#14](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split14.cs#14)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#14](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split14.vb#14)]  
  
 <span data-ttu-id="5677c-1783"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果拆分操作的执行时间超出了指定的超时间隔将引发异常<xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType>构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1783">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the split operation exceeds the time-out interval specified by the <xref:System.Text.RegularExpressions.Regex.%23ctor%28System.String%2CSystem.Text.RegularExpressions.RegexOptions%2CSystem.TimeSpan%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="5677c-1784">如果操作超过在其中应用程序域建立任何超时值时调用的构造函数未设置的超时间隔，如果引发异常<xref:System.Text.RegularExpressions.Regex>创建对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1784">If you do not set a time-out interval when you call the constructor, the exception is thrown if the operation exceeds any time-out value established for the application domain in which the <xref:System.Text.RegularExpressions.Regex> object is created.</span></span> <span data-ttu-id="5677c-1785">如果在中定义没有超时设定<xref:System.Text.RegularExpressions.Regex>构造函数调用或在应用程序域的属性中，或如果超时值<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常</span><span class="sxs-lookup"><span data-stu-id="5677c-1785">If no time-out is defined in the <xref:System.Text.RegularExpressions.Regex> constructor call or in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1786"><paramref name="input" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1786"><paramref name="input" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1787"><paramref name="startat" /> 小于零或大于 <paramref name="input" /> 的长度。</span><span class="sxs-lookup"><span data-stu-id="5677c-1787"><paramref name="startat" /> is less than zero or greater than the length of <paramref name="input" />.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1788">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1788">A time-out occurred.</span></span> <span data-ttu-id="5677c-1789">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1789">For more information about time-outs, see the Remarks section.</span></span></exception>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1790">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1790">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public static string[] Split (string input, string pattern, System.Text.RegularExpressions.RegexOptions options);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] Split(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Split (input As String, pattern As String, options As RegexOptions) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options);" />
      <MemberSignature Language="F#" Value="static member Split : string * string * System.Text.RegularExpressions.RegexOptions -&gt; string[]" Usage="System.Text.RegularExpressions.Regex.Split (input, pattern, options)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1791">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1791">The string to split.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1792">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1792">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1793">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1793">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <summary><span data-ttu-id="5677c-1794">在由指定正则表达式模式定义的位置将输入字符串拆分为一个子字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1794">Splits an input string into an array of substrings at the positions defined by a specified regular expression pattern.</span></span> <span data-ttu-id="5677c-1795">指定的选项将修改匹配操作。</span><span class="sxs-lookup"><span data-stu-id="5677c-1795">Specified options modify the matching operation.</span></span></summary>
        <returns><span data-ttu-id="5677c-1796">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1796">An array of strings.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1797"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1797">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1798">将字符串拆分为多的次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1798">The string is split as many times as possible.</span></span> <span data-ttu-id="5677c-1799">如果不找到任何分隔符，则返回值包含一个其值为原始元素`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1799">If no delimiter is found, the return value contains one element whose value is the original `input` string.</span></span>  
  
 <span data-ttu-id="5677c-1800">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1800">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1801">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1801">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5677c-1802">已编译的正则表达式中调用静态使用<xref:System.Text.RegularExpressions.Regex.Split%2A>自动缓存的方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1802">Compiled regular expressions used in calls to static <xref:System.Text.RegularExpressions.Regex.Split%2A> methods are automatically cached.</span></span> <span data-ttu-id="5677c-1803">若要自行管理的已编译的正则表达式的生存期，使用实例<xref:System.Text.RegularExpressions.Regex.Split%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1803">To manage the lifetime of compiled regular expressions yourself, use the instance <xref:System.Text.RegularExpressions.Regex.Split%2A> methods.</span></span>  
  
 <span data-ttu-id="5677c-1804">如果多个匹配项是彼此相邻，则将空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1804">If multiple matches are adjacent to one another, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1805">例如，拆分上一个连字符的字符串会导致返回的数组，若要在其中找到两个连续的连字符的位置中包括一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1805">For example, splitting a string on a single hyphen causes the returned array to include an empty string in the position where two adjacent hyphens are found.</span></span>  
  
 <span data-ttu-id="5677c-1806">如果开头或输入字符串的末尾找到匹配项，则为空字符串是数组的包含开头或末尾返回。</span><span class="sxs-lookup"><span data-stu-id="5677c-1806">If a match is found at the beginning or the end of the input string, an empty string is included at the beginning or the end of the returned array.</span></span> <span data-ttu-id="5677c-1807">下面的示例使用正则表达式模式`[a-z]+`拆分输入的字符串上任意大写或小写的字母字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1807">The following example uses the regular expression pattern `[a-z]+` to split an input string on any uppercase or lowercase alphabetic character.</span></span> <span data-ttu-id="5677c-1808">由于字符串开头和结尾匹配字母字符，则返回的数组的第一个和最后一个元素的值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1808">Because the string begins and ends with matching alphabetic characters, the value of the first and last element of the returned array is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#24](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split24.cs#24)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#24](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split24.vb#24)]  
  
 <span data-ttu-id="5677c-1809">如果在使用捕获括号，则<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>表达式中，任何捕获的文本包括在生成的字符串数组中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1809">If capturing parentheses are used in a <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> expression, any captured text is included in the resulting string array.</span></span> <span data-ttu-id="5677c-1810">例如，如果拆分"plum-pear"上一个连字符放在捕获括号的字符串，返回的数组包含一个包含连字符的字符串元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1810">For example, if you split the string "plum-pear" on a hyphen placed within capturing parentheses, the returned array includes a string element that contains the hyphen.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split9.cs#9)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split9.vb#9)]  
  
 <span data-ttu-id="5677c-1811">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1811">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1812">在.NET Framework 1.0 和 1.1 中，如果捕获括号中的第一个集内找不到匹配项从其他捕获括号捕获的文本不包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1812">In the .NET Framework 1.0 and 1.1, if a match is not found within the first set of capturing parentheses, captured text from additional capturing parentheses is not included in the returned array.</span></span> <span data-ttu-id="5677c-1813">从.NET Framework 2.0 开始，所有捕获的文本也添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1813">Starting with the .NET Framework 2.0, all captured text is also added to the returned array.</span></span> <span data-ttu-id="5677c-1814">例如，下面的代码使用两个组捕获括号来提取日期，包括日期分隔符，从日期字符串的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1814">For example, the following code uses two sets of capturing parentheses to extract the elements of a date, including the date delimiters, from a date string.</span></span> <span data-ttu-id="5677c-1815">第一捕获括号的组捕获连字符，并第二个集捕获正斜杠。</span><span class="sxs-lookup"><span data-stu-id="5677c-1815">The first set of capturing parentheses captures the hyphen, and the second set captures the forward slash.</span></span> <span data-ttu-id="5677c-1816">如果示例代码编译和运行.NET Framework 1.0 或 1.1，它不包括反斜杠字符;如果它是编译并运行.NET Framework 2.0 或更高版本下，它包括它们。</span><span class="sxs-lookup"><span data-stu-id="5677c-1816">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, it excludes the slash characters; if it is compiled and run under the .NET Framework 2.0 or later versions, it includes them.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split10.cs#10)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split10.vb#10)]  
  
 <span data-ttu-id="5677c-1817">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%2A>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1817">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%2A> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span>  
  
 <span data-ttu-id="5677c-1818"><xref:System.Text.RegularExpressions.RegexMatchTimeoutException>如果 split 操作的执行时间超过指定的方法称为应用程序域的超时间隔将引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1818">The <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception is thrown if the execution time of the split operation exceeds the time-out interval specified for the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1819">如果在应用程序域的属性中，定义无超时或超时值，即<xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>，不会引发异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1819">If no time-out is defined in the application domain's properties, or if the time-out value is <xref:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout?displayProperty=nameWithType>, no exception is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1820">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1820">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1821"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1821"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1822"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1822"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1823">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1823">A time-out occurred.</span></span> <span data-ttu-id="5677c-1824">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1824">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1825">此方法等同于在其中调用该方法的应用程序域的默认超时值的时间间隔后将会超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1825">This method times out after an interval that is equal to the default time-out value of the application domain in which the method is called.</span></span> <span data-ttu-id="5677c-1826">如果不为应用程序域，值定义超时值<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，这样可以防止不会超时，该方法使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1826">If a time-out value has not been defined for the application domain, the value <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, which prevents the method from timing out, is used.</span></span> <span data-ttu-id="5677c-1827">推荐的静态方法拆分模式匹配的文本是<see cref="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />，它允许您设置的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1827">The recommended static method for splitting text on a pattern match is <see cref="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />, which lets you set the time-out interval.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1828">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1828">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="Split">
      <MemberSignature Language="C#" Value="public static string[] Split (string input, string pattern, System.Text.RegularExpressions.RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string[] Split(string input, string pattern, valuetype System.Text.RegularExpressions.RegexOptions options, valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Split(System.String,System.String,System.Text.RegularExpressions.RegexOptions,System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Split (input As String, pattern As String, options As RegexOptions, matchTimeout As TimeSpan) As String()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static cli::array &lt;System::String ^&gt; ^ Split(System::String ^ input, System::String ^ pattern, System::Text::RegularExpressions::RegexOptions options, TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member Split : string * string * System.Text.RegularExpressions.RegexOptions * TimeSpan -&gt; string[]" Usage="System.Text.RegularExpressions.Regex.Split (input, pattern, options, matchTimeout)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="input" Type="System.String" />
        <Parameter Name="pattern" Type="System.String" />
        <Parameter Name="options" Type="System.Text.RegularExpressions.RegexOptions" />
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="input"><span data-ttu-id="5677c-1829">要拆分的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1829">The string to split.</span></span></param>
        <param name="pattern"><span data-ttu-id="5677c-1830">要匹配的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1830">The regular expression pattern to match.</span></span></param>
        <param name="options"><span data-ttu-id="5677c-1831">枚举值的一个按位组合，这些枚举值提供匹配选项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1831">A bitwise combination of the enumeration values that provide options for matching.</span></span></param>
        <param name="matchTimeout"><span data-ttu-id="5677c-1832">超时间隔；若要指示该方法不应超时，则为 <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1832">A time-out interval, or <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" /> to indicate that the method should not time out.</span></span></param>
        <summary><span data-ttu-id="5677c-1833">在由指定正则表达式模式定义的位置将输入字符串拆分为一个子字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1833">Splits an input string into an array of substrings at the positions defined by a specified regular expression pattern.</span></span> <span data-ttu-id="5677c-1834">如果未找到匹配项，则其他参数指定修改匹配操作的选项和超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1834">Additional parameters specify options that modify the matching operation and a time-out interval if no match is found.</span></span></summary>
        <returns><span data-ttu-id="5677c-1835">字符串数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1835">A string array.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1836"><xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>方法都是类似于<xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType>方法，不同之处在于<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>在由正则表达式而不是一组字符分隔符拆分字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1836">The <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> methods are similar to the <xref:System.String.Split%28System.Char%5B%5D%29?displayProperty=nameWithType> method, except that <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> splits the string at a delimiter determined by a regular expression instead of a set of characters.</span></span> <span data-ttu-id="5677c-1837">将字符串拆分为多的次数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1837">The string is split as many times as possible.</span></span> <span data-ttu-id="5677c-1838">如果不找到任何分隔符，则返回值包含一个其值为原始元素`input`字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1838">If no delimiter is found, the return value contains one element whose value is the original `input` string.</span></span>  
  
 <span data-ttu-id="5677c-1839">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1839">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1840">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1840">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="5677c-1841">已编译的正则表达式中调用静态使用<xref:System.Text.RegularExpressions.Regex.Split%2A>自动缓存的方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1841">Compiled regular expressions used in calls to static <xref:System.Text.RegularExpressions.Regex.Split%2A> methods are automatically cached.</span></span> <span data-ttu-id="5677c-1842">若要自行管理的已编译的正则表达式的生存期，使用实例<xref:System.Text.RegularExpressions.Regex.Split%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1842">To manage the lifetime of compiled regular expressions yourself, use the instance <xref:System.Text.RegularExpressions.Regex.Split%2A> methods.</span></span>  
  
 <span data-ttu-id="5677c-1843">如果多个匹配项是彼此相邻，则将空字符串插入到数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1843">If multiple matches are adjacent to one another, an empty string is inserted into the array.</span></span> <span data-ttu-id="5677c-1844">例如，拆分上一个连字符的字符串会导致返回的数组，若要在其中找到两个连续的连字符的位置中包括一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1844">For example, splitting a string on a single hyphen causes the returned array to include an empty string in the position where two adjacent hyphens are found.</span></span>  
  
 <span data-ttu-id="5677c-1845">如果开头或输入字符串的末尾找到匹配项，则为空字符串是数组的包含开头或末尾返回。</span><span class="sxs-lookup"><span data-stu-id="5677c-1845">If a match is found at the beginning or the end of the input string, an empty string is included at the beginning or the end of the returned array.</span></span> <span data-ttu-id="5677c-1846">下面的示例使用正则表达式模式`[a-z]+`拆分输入的字符串上任意大写或小写的字母字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1846">The following example uses the regular expression pattern `[a-z]+` to split an input string on any uppercase or lowercase alphabetic character.</span></span> <span data-ttu-id="5677c-1847">由于字符串开头和结尾匹配字母字符，则返回的数组的第一个和最后一个元素的值是<xref:System.String.Empty?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1847">Because the string begins and ends with matching alphabetic characters, the value of the first and last element of the returned array is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#23](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split23.cs#23)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#23](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split23.vb#23)]  
  
 <span data-ttu-id="5677c-1848">如果在使用捕获括号，则<xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType>表达式中，任何捕获的文本包括在生成的字符串数组中。</span><span class="sxs-lookup"><span data-stu-id="5677c-1848">If capturing parentheses are used in a <xref:System.Text.RegularExpressions.Regex.Split%2A?displayProperty=nameWithType> expression, any captured text is included in the resulting string array.</span></span> <span data-ttu-id="5677c-1849">例如，如果拆分"plum-pear"上一个连字符放在捕获括号的字符串，返回的数组包含一个包含连字符的字符串元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1849">For example, if you split the string "plum-pear" on a hyphen placed within capturing parentheses, the returned array includes a string element that contains the hyphen.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split9.cs#9)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#9](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split9.vb#9)]  
  
 <span data-ttu-id="5677c-1850">但是，如果正则表达式模式包含多组捕获括号，此方法的行为依赖于.NET Framework 的版本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1850">However, when the regular expression pattern includes multiple sets of capturing parentheses, the behavior of this method depends on the version of the .NET Framework.</span></span> <span data-ttu-id="5677c-1851">在.NET Framework 1.0 和 1.1 中，如果捕获括号中的第一个集内找不到匹配项从其他捕获括号捕获的文本不包含在返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1851">In the .NET Framework 1.0 and 1.1, if a match is not found within the first set of capturing parentheses, captured text from additional capturing parentheses is not included in the returned array.</span></span> <span data-ttu-id="5677c-1852">从.NET Framework 2.0 开始，所有捕获的文本也添加到返回的数组。</span><span class="sxs-lookup"><span data-stu-id="5677c-1852">Starting with the .NET Framework 2.0, all captured text is also added to the returned array.</span></span> <span data-ttu-id="5677c-1853">例如，下面的代码使用两个组捕获括号来提取日期，包括日期分隔符，从日期字符串的元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1853">For example, the following code uses two sets of capturing parentheses to extract the elements of a date, including the date delimiters, from a date string.</span></span> <span data-ttu-id="5677c-1854">第一捕获括号的组捕获连字符，并第二个集捕获正斜杠。</span><span class="sxs-lookup"><span data-stu-id="5677c-1854">The first set of capturing parentheses captures the hyphen, and the second set captures the forward slash.</span></span> <span data-ttu-id="5677c-1855">如果示例代码编译和运行.NET Framework 1.0 或 1.1，它不包括反斜杠字符;如果它是编译并运行.NET Framework 2.0 或更高版本下，它包括它们。</span><span class="sxs-lookup"><span data-stu-id="5677c-1855">If the example code is compiled and run under the .NET Framework 1.0 or 1.1, it excludes the slash characters; if it is compiled and run under the .NET Framework 2.0 or later versions, it includes them.</span></span>  
  
 [!code-csharp[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/cs/split10.cs#10)]
 [!code-vb[System.Text.RegularExpressions.Regex.Split#10](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Text.RegularExpressions.Regex.Split/vb/split10.vb#10)]  
  
 <span data-ttu-id="5677c-1856">如果正则表达式可以匹配空字符串，<xref:System.Text.RegularExpressions.Regex.Split%2A>会将字符串拆分为一个单字符字符串数组，因为可以在每个位置找到空字符串分隔符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1856">If the regular expression can match the empty string, <xref:System.Text.RegularExpressions.Regex.Split%2A> will split the string into an array of single-character strings because the empty string delimiter can be found at every location.</span></span>  
  
 <span data-ttu-id="5677c-1857">`matchTimeout`参数指定如何长时间模式匹配方法应尝试超时之前找到匹配项。将设置的超时间隔可阻止依赖于过度回溯出现停止响应时它们处理输入的正则表达式，其中包含接近的匹配项。</span><span class="sxs-lookup"><span data-stu-id="5677c-1857">The `matchTimeout` parameter specifies how long a pattern matching method should try to find a match before it times out. Setting a time-out interval prevents regular expressions that rely on excessive backtracking from appearing to stop responding when they process input that contains near matches.</span></span> <span data-ttu-id="5677c-1858">有关详细信息，请参阅[正则表达式的最佳实践](~/docs/standard/base-types/best-practices.md)并[回溯](~/docs/standard/base-types/backtracking-in-regular-expressions.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1858">For more information, see [Best Practices for Regular Expressions](~/docs/standard/base-types/best-practices.md) and [Backtracking](~/docs/standard/base-types/backtracking-in-regular-expressions.md).</span></span> <span data-ttu-id="5677c-1859">如果在该时间间隔内不找到任何匹配项，则该方法将引发<xref:System.Text.RegularExpressions.RegexMatchTimeoutException>异常。</span><span class="sxs-lookup"><span data-stu-id="5677c-1859">If no match is found in that time interval, the method throws a <xref:System.Text.RegularExpressions.RegexMatchTimeoutException> exception.</span></span> <span data-ttu-id="5677c-1860">`matchTimeout` 重写应用程序域执行该方法定义的任何默认超时值。</span><span class="sxs-lookup"><span data-stu-id="5677c-1860">`matchTimeout` overrides any default time-out value defined for the application domain in which the method executes.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1861">出现正则表达式分析错误。</span><span class="sxs-lookup"><span data-stu-id="5677c-1861">A regular expression parsing error occurred.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1862"><paramref name="input" /> 或 <paramref name="pattern" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1862"><paramref name="input" /> or <paramref name="pattern" /> is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ArgumentOutOfRangeException"><span data-ttu-id="5677c-1863"><paramref name="options" /> 不是 <see cref="T:System.Text.RegularExpressions.RegexOptions" /> 值的有效按位组合。</span><span class="sxs-lookup"><span data-stu-id="5677c-1863"><paramref name="options" /> is not a valid bitwise combination of <see cref="T:System.Text.RegularExpressions.RegexOptions" /> values.</span></span>  
  
<span data-ttu-id="5677c-1864">- 或 -</span><span class="sxs-lookup"><span data-stu-id="5677c-1864">-or-</span></span> 
 <span data-ttu-id="5677c-1865"><paramref name="matchTimeout" /> 为负、零或大于 24 天左右。</span><span class="sxs-lookup"><span data-stu-id="5677c-1865"><paramref name="matchTimeout" /> is negative, zero, or greater than approximately 24 days.</span></span></exception>
        <exception cref="T:System.Text.RegularExpressions.RegexMatchTimeoutException"><span data-ttu-id="5677c-1866">发生超时。</span><span class="sxs-lookup"><span data-stu-id="5677c-1866">A time-out occurred.</span></span> <span data-ttu-id="5677c-1867">有关超时的详细信息，请参阅“备注”部分。</span><span class="sxs-lookup"><span data-stu-id="5677c-1867">For more information about time-outs, see the Remarks section.</span></span></exception>
        <block subset="none" type="usage"><para><span data-ttu-id="5677c-1868">我们建议您将设置<paramref name="matchTimeout" />为适当的值，如两秒的参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1868">We recommend that you set the <paramref name="matchTimeout" /> parameter to an appropriate value, such as two seconds.</span></span> <span data-ttu-id="5677c-1869">如果通过指定禁用超时<see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />，正则表达式引擎提供了略有更好的性能。</span><span class="sxs-lookup"><span data-stu-id="5677c-1869">If you disable time-outs by specifying <see cref="F:System.Text.RegularExpressions.Regex.InfiniteMatchTimeout" />, the regular expression engine offers slightly better performance.</span></span> <span data-ttu-id="5677c-1870">但是，您应该禁用超时值仅在以下情况下：</span><span class="sxs-lookup"><span data-stu-id="5677c-1870">However, you should disable time-outs only under the following conditions:</span></span> 
<span data-ttu-id="5677c-1871">-当正则表达式处理输入派生自已知和受信任的来源或包含静态文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1871">-   When the input processed by a regular expression is derived from a known and trusted source or consists of static text.</span></span> <span data-ttu-id="5677c-1872">这不包括具有动态已由用户输入的文本。</span><span class="sxs-lookup"><span data-stu-id="5677c-1872">This excludes text that has been dynamically input by users.</span></span>  
  
<span data-ttu-id="5677c-1873">-当经过全面测试正则表达式模式以确保它有效地处理匹配，不匹配，并不久匹配。</span><span class="sxs-lookup"><span data-stu-id="5677c-1873">-   When the regular expression pattern has been thoroughly tested to ensure that it efficiently handles matches, non-matches, and near matches.</span></span>  
  
<span data-ttu-id="5677c-1874">-当正则表达式模式不包含任何已知会导致过度回溯，处理接近的匹配项时的语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1874">-   When the regular expression pattern contains no language elements that are known to cause excessive backtracking when processing a near match.</span></span></para></block>
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1875">正则表达式语言元素</span><span class="sxs-lookup"><span data-stu-id="5677c-1875">Regular Expression Language Elements</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="System.Runtime.Serialization.ISerializable.GetObjectData">
      <MemberSignature Language="C#" Value="void ISerializable.GetObjectData (System.Runtime.Serialization.SerializationInfo si, System.Runtime.Serialization.StreamingContext context);" />
      <MemberSignature Language="ILAsm" Value=".method hidebysig newslot virtual instance void System.Runtime.Serialization.ISerializable.GetObjectData(class System.Runtime.Serialization.SerializationInfo si, valuetype System.Runtime.Serialization.StreamingContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.System#Runtime#Serialization#ISerializable#GetObjectData(System.Runtime.Serialization.SerializationInfo,System.Runtime.Serialization.StreamingContext)" />
      <MemberSignature Language="VB.NET" Value="Sub GetObjectData (si As SerializationInfo, context As StreamingContext) Implements ISerializable.GetObjectData" />
      <MemberSignature Language="C++ CLI" Value=" virtual void System.Runtime.Serialization.ISerializable.GetObjectData(System::Runtime::Serialization::SerializationInfo ^ si, System::Runtime::Serialization::StreamingContext context) = System::Runtime::Serialization::ISerializable::GetObjectData;" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.Runtime.Serialization.ISerializable.GetObjectData(System.Runtime.Serialization.SerializationInfo,System.Runtime.Serialization.StreamingContext)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="si" Type="System.Runtime.Serialization.SerializationInfo" />
        <Parameter Name="context" Type="System.Runtime.Serialization.StreamingContext" />
      </Parameters>
      <Docs>
        <param name="si"><span data-ttu-id="5677c-1876">要用序列化信息填充的对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1876">The object to populate with serialization information.</span></span></param>
        <param name="context"><span data-ttu-id="5677c-1877">存储和检索序列化数据的位置。</span><span class="sxs-lookup"><span data-stu-id="5677c-1877">The place to store and retrieve serialized data.</span></span> <span data-ttu-id="5677c-1878">此参数保留以供将来使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1878">This parameter is reserved for future use.</span></span></param>
        <summary><span data-ttu-id="5677c-1879">使用所需的数据填充 <see cref="T:System.Runtime.Serialization.SerializationInfo" /> 对象来反序列化当前 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象。</span><span class="sxs-lookup"><span data-stu-id="5677c-1879">Populates a <see cref="T:System.Runtime.Serialization.SerializationInfo" /> object with the data necessary to deserialize the current <see cref="T:System.Text.RegularExpressions.Regex" /> object.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ToString">
      <MemberSignature Language="C#" Value="public override string ToString ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string ToString() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.ToString" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function ToString () As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::String ^ ToString();" />
      <MemberSignature Language="F#" Value="override this.ToString : unit -&gt; string" Usage="regex.ToString " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-1880">返回传入 <see langword="Regex" /> 构造函数的正则表达式模式。</span><span class="sxs-lookup"><span data-stu-id="5677c-1880">Returns the regular expression pattern that was passed into the <see langword="Regex" /> constructor.</span></span></summary>
        <returns><span data-ttu-id="5677c-1881">传入 <see langword="Regex" /> 构造函数的 <paramref name="pattern" /> 参数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1881">The <paramref name="pattern" /> parameter that was passed into the <see langword="Regex" /> constructor.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1882">`pattern`参数包含的符号描述要匹配的字符串的正则表达式语言元素。</span><span class="sxs-lookup"><span data-stu-id="5677c-1882">The `pattern` parameter consists of regular expression language elements that symbolically describe the string to match.</span></span> <span data-ttu-id="5677c-1883">有关正则表达式的详细信息，请参阅[.NET Framework 正则表达式](~/docs/standard/base-types/regular-expressions.md)并[正则表达式语言-快速参考](~/docs/standard/base-types/regular-expression-language-quick-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5677c-1883">For more information about regular expressions, see [.NET Framework Regular Expressions](~/docs/standard/base-types/regular-expressions.md) and [Regular Expression Language - Quick Reference](~/docs/standard/base-types/regular-expression-language-quick-reference.md).</span></span>  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides"><para><span data-ttu-id="5677c-1884">
            <see cref="T:System.Text.RegularExpressions.Regex" /> 是由创建的正则表达式的基类<see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" />方法。</span><span class="sxs-lookup"><span data-stu-id="5677c-1884">
            <see cref="T:System.Text.RegularExpressions.Regex" /> is the base class of regular expressions created by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span> <span data-ttu-id="5677c-1885">这些已编译的正则表达式使用<see cref="M:System.Text.RegularExpressions.Regex.ToString" />基的类的实现。</span><span class="sxs-lookup"><span data-stu-id="5677c-1885">These compiled regular expressions use the <see cref="M:System.Text.RegularExpressions.Regex.ToString" /> implementation of the base class.</span></span> <span data-ttu-id="5677c-1886">如果从派生类中，调用<see cref="M:System.Text.RegularExpressions.Regex.ToString" />方法返回的字符串传递给<paramref name="pattern" />参数的<see cref="T:System.Text.RegularExpressions.RegexCompilationInfo" />用于定义正则表达式的类构造函数。</span><span class="sxs-lookup"><span data-stu-id="5677c-1886">If called from a derived class, the <see cref="M:System.Text.RegularExpressions.Regex.ToString" /> method returns the string that was passed to the <paramref name="pattern" /> parameter of the <see cref="T:System.Text.RegularExpressions.RegexCompilationInfo" /> class constructor that was used to define the regular expression.</span></span></para></block>
      </Docs>
    </Member>
    <Member MemberName="Unescape">
      <MemberSignature Language="C#" Value="public static string Unescape (string str);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig string Unescape(string str) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.Unescape(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function Unescape (str As String) As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::String ^ Unescape(System::String ^ str);" />
      <MemberSignature Language="F#" Value="static member Unescape : string -&gt; string" Usage="System.Text.RegularExpressions.Regex.Unescape str" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="str" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="str"><span data-ttu-id="5677c-1887">包含要转换的文本的输入字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1887">The input string containing the text to convert.</span></span></param>
        <summary><span data-ttu-id="5677c-1888">转换输入字符串中的任何转义字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1888">Converts any escaped characters in the input string.</span></span></summary>
        <returns><span data-ttu-id="5677c-1889">包含任何转换为非转义形式的转义字符的字符串。</span><span class="sxs-lookup"><span data-stu-id="5677c-1889">A string of characters with any escaped characters converted to their unescaped form.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5677c-1890"><xref:System.Text.RegularExpressions.Regex.Unescape%2A>方法执行以下两个转换之一：</span><span class="sxs-lookup"><span data-stu-id="5677c-1890">The <xref:System.Text.RegularExpressions.Regex.Unescape%2A> method performs one of the following two transformations:</span></span>  
  
-   <span data-ttu-id="5677c-1891">反转执行的转换<xref:System.Text.RegularExpressions.Regex.Escape%2A>方法通过删除转义符 ("\\") 从该方法通过转义每个字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1891">It reverses the transformation performed by the <xref:System.Text.RegularExpressions.Regex.Escape%2A> method by removing the escape character ("\\") from each character escaped by the method.</span></span> <span data-ttu-id="5677c-1892">其中包括\\，\*，+，？， &#124;，{，[，（、）、 ^、 $、。，# 和空白字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1892">These include the \\, \*, +, ?, &#124;, {, [, (,), ^, $, ., #, and white space characters.</span></span> <span data-ttu-id="5677c-1893">此外，<xref:System.Text.RegularExpressions.Regex.Unescape%2A>方法反转义右括号 (]) 和右大括号 （}） 字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1893">In addition, the <xref:System.Text.RegularExpressions.Regex.Unescape%2A> method unescapes the closing bracket (]) and closing brace (}) characters.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5677c-1894"><xref:System.Text.RegularExpressions.Regex.Unescape%2A> 完全不能撤消已转义的字符串，因为它无法推导出的字符转义准确地说，</span><span class="sxs-lookup"><span data-stu-id="5677c-1894"><xref:System.Text.RegularExpressions.Regex.Unescape%2A> cannot reverse an escaped string perfectly because it cannot deduce precisely which characters were escaped,</span></span>  
  
-   <span data-ttu-id="5677c-1895">它使用实际的可打印字符替换逐字字符串文本中的十六进制值。</span><span class="sxs-lookup"><span data-stu-id="5677c-1895">It replaces the hexadecimal values in verbatim string literals with the actual printable characters.</span></span> <span data-ttu-id="5677c-1896">例如，它将替换@"\x07"使用"\a"或@"\x0A"与"\n"。</span><span class="sxs-lookup"><span data-stu-id="5677c-1896">For example, it replaces @"\x07" with "\a", or @"\x0A" with "\n".</span></span> <span data-ttu-id="5677c-1897">它将转换为受支持的转义字符，如 \a，\b \e、 \n、 \r、 \f、 \t，\v 和字母数字字符。</span><span class="sxs-lookup"><span data-stu-id="5677c-1897">It converts to supported escape characters such as \a, \b, \e, \n, \r, \f, \t, \v, and alphanumeric characters.</span></span>
  
 <span data-ttu-id="5677c-1898">如果<xref:System.Text.RegularExpressions.Regex.Unescape%2A>方法遇到无法转换，其他转义序列如 \w 或 \s，则会引发<xref:System.ArgumentException>。</span><span class="sxs-lookup"><span data-stu-id="5677c-1898">If the <xref:System.Text.RegularExpressions.Regex.Unescape%2A> method encounters other escape sequences that it cannot convert, such as \w or \s, it throws an <xref:System.ArgumentException>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="5677c-1899"><paramref name="str" /> 包括无法识别的转义序列。</span><span class="sxs-lookup"><span data-stu-id="5677c-1899"><paramref name="str" /> includes an unrecognized escape sequence.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="5677c-1900"><paramref name="str" /> 为 <see langword="null" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1900"><paramref name="str" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.Text.RegularExpressions.Regex.Escape(System.String)" />
        <related type="Article" href="~/docs/standard/base-types/regular-expression-language-quick-reference.md"><span data-ttu-id="5677c-1901">正则表达式语言 - 快速参考</span><span class="sxs-lookup"><span data-stu-id="5677c-1901">Regular Expression Language - Quick Reference</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="UseOptionC">
      <MemberSignature Language="C#" Value="protected bool UseOptionC ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance bool UseOptionC() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.UseOptionC" />
      <MemberSignature Language="VB.NET" Value="Protected Function UseOptionC () As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; bool UseOptionC();" />
      <MemberSignature Language="F#" Value="member this.UseOptionC : unit -&gt; bool" Usage="regex.UseOptionC " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-1902">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1902">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <returns><span data-ttu-id="5677c-1903">如果 <see cref="P:System.Text.RegularExpressions.Regex.Options" /> 属性包含 <see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" /> 选项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1903"><see langword="true" /> if the <see cref="P:System.Text.RegularExpressions.Regex.Options" /> property contains the <see cref="F:System.Text.RegularExpressions.RegexOptions.Compiled" /> option; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="UseOptionR">
      <MemberSignature Language="C#" Value="protected bool UseOptionR ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig instance bool UseOptionR() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.UseOptionR" />
      <MemberSignature Language="VB.NET" Value="Protected Function UseOptionR () As Boolean" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; bool UseOptionR();" />
      <MemberSignature Language="F#" Value="member this.UseOptionR : unit -&gt; bool" Usage="regex.UseOptionR " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>1.0.5000.0</AssemblyVersion>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="5677c-1904">由 <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> 方法生成的 <see cref="T:System.Text.RegularExpressions.Regex" /> 对象使用。</span><span class="sxs-lookup"><span data-stu-id="5677c-1904">Used by a <see cref="T:System.Text.RegularExpressions.Regex" /> object generated by the <see cref="Overload:System.Text.RegularExpressions.Regex.CompileToAssembly" /> method.</span></span></summary>
        <returns><span data-ttu-id="5677c-1905">如果 <see cref="P:System.Text.RegularExpressions.Regex.Options" /> 属性包含 <see cref="F:System.Text.RegularExpressions.RegexOptions.RightToLeft" /> 选项，则为 <see langword="true" />；否则为 <see langword="false" />。</span><span class="sxs-lookup"><span data-stu-id="5677c-1905"><see langword="true" /> if the <see cref="P:System.Text.RegularExpressions.Regex.Options" /> property contains the <see cref="F:System.Text.RegularExpressions.RegexOptions.RightToLeft" /> option; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateMatchTimeout">
      <MemberSignature Language="C#" Value="protected internal static void ValidateMatchTimeout (TimeSpan matchTimeout);" />
      <MemberSignature Language="ILAsm" Value=".method familyorassemblystatic hidebysig void ValidateMatchTimeout(valuetype System.TimeSpan matchTimeout) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Text.RegularExpressions.Regex.ValidateMatchTimeout(System.TimeSpan)" />
      <MemberSignature Language="VB.NET" Value="Protected Friend Shared Sub ValidateMatchTimeout (matchTimeout As TimeSpan)" />
      <MemberSignature Language="C++ CLI" Value="protected public:&#xA; static void ValidateMatchTimeout(TimeSpan matchTimeout);" />
      <MemberSignature Language="F#" Value="static member ValidateMatchTimeout : TimeSpan -&gt; unit" Usage="System.Text.RegularExpressions.Regex.ValidateMatchTimeout matchTimeout" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Text.RegularExpressions</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="matchTimeout" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="matchTimeout"><span data-ttu-id="5677c-1906">要检查的超时间隔。</span><span class="sxs-lookup"><span data-stu-id="5677c-1906">The time-out interval to check.</span></span></param>
        <summary><span data-ttu-id="5677c-1907">检查超时间隔是否在可接受的范围内。</span><span class="sxs-lookup"><span data-stu-id="5677c-1907">Checks whether a time-out interval is within an acceptable range.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>